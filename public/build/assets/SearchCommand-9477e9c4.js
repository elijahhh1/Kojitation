import{r as o,q as J,j as l,y as W,v as z,g as Lr,f as Po,R as jo,b as Ir,i as Ao}from"./index-cea910a0.js";import{c as M,_ as N,b as le,h as Ro,g as zr,B as rt,t as lt,$ as Fe}from"./index-e642f915.js";import{f as qt,g as Gt,h as Zt,k as ko,l as Jt,i as nt,C as No,n as Ur,o as _o,p as Oo,q as To,r as Mo,s as Fo,t as Wr,v as Lo,w as Io,x as zo,D as Le,a as Ie,b as ut,c as Hr,j as Uo}from"./dropdown-menu-175520ef.js";import{A as ot,M as Wo,S as Br}from"./Heading-444f3b63.js";import{c as Y,$ as Yr,b as ce,d as dt,g as de,h as Ho}from"./index-bfc9ab35.js";import{f as Oe,P as Bo,a as Yo,b as Ko,u as Vo}from"./useCoverImageModal-fd4f681d.js";import{I as Kr,L as Xo}from"./input-bbe87084.js";import{c as ft,_ as je,l as Ae,m as Tt,n as pr,X as Vr,o as qo,p as Go,u as Zo,q as Ee,r as Jo,z as Qo,s as ea,R as ta,t as ra,h as na}from"./index-3d2f0431.js";const Xr=Y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),oa=Y("CalendarCheck2",[["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]),aa=Y("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),sa=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),qr=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ia=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ca=Y("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Gr=Y("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),la=Y("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Zr=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Jr=Y("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Qr=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ua=Y("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]),Qt=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),da=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),er=Y("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),fa=Y("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),en=Y("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),pa=Y("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;function ma(e){const t=s=>typeof window<"u"?window.matchMedia(s).matches:!1,[r,n]=o.useState(t(e));function a(){n(t(e))}return o.useEffect(()=>{const s=window.matchMedia(e);return a(),s.addListener?s.addListener(a):s.addEventListener("change",a),()=>{s.removeListener?s.removeListener(a):s.removeEventListener("change",a)}},[e]),r}const ha=()=>{const e=J().props.auth.user;return l.jsxs(qt,{children:[l.jsx(Gt,{asChild:!0,children:l.jsxs("div",{role:"button",className:"flex items-center text-sm p-2.5 w-full hover:bg-primary/5",children:[l.jsx("div",{className:" gap-x-1.5 flex items-center max-w-[9.375rem]",children:l.jsx("span",{className:"text-lg text-start font-medium line-clamp-1",children:ot})}),l.jsx(qr,{className:"ml-2 text-muted-foreground h-4 w-4"})]})}),l.jsxs(Zt,{className:"w-80",align:"start",alignOffset:11,forceMount:!0,children:[l.jsx(ko,{className:"font-normal",children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium leading-none",children:e.name}),l.jsx("p",{className:"text-xs leading-none text-primary",children:e.email})]})}),l.jsx(Jt,{}),l.jsx(nt,{onClick:()=>W.post(route("logout")),children:"Log out"})]})]})},te=({Icon:e,label:t,onClick:r,id:n,documentIcon:a,active:s,expanded:i,isSearch:c,level:u=0,onExpand:d,updateDate:f,isDone:p,iconColor:m})=>{const b=i?qr:No,D=C=>{C.stopPropagation(),d==null||d()},h=C=>{C.stopPropagation(),n&&W.post(route("documents.store"),{title:`Koji: ${Oe(new Date,"Pp")}`,document_id:n},{onSuccess:()=>{i||d==null||d()},onError:()=>z.error("Something Went Wrong. Please try again....")})},E=C=>{C.stopPropagation(),n&&W.post(route("documents.destroy",{id:n}),{active:s},{preserveState:!0,onSuccess:()=>{z.success("Note Archived")},onError:()=>z.error("Something Went Wrong. Please try again....")})},x=C=>{C.stopPropagation(),n&&W.post(route("documents.update",{id:n}),{is_done:1},{preserveState:!0,onSuccess:()=>{z.success("TODO is Done!")},onError:()=>z.error("Something Went Wrong. Please try again....")})};return l.jsxs("div",{onClick:r,role:"button",style:{paddingLeft:u>0?`${u*.75+.75}rem`:"0.75rem"},className:M("group min-h-[1.688rem] textt-sm py-1  pr-3 w-full hover:bg-primary/5 flex items-center text-muted-foreground font-medium transition "+m,s&&"bg-primary/5 text-primary"),children:[!!n&&l.jsx("div",{role:"button",className:"h-full rounded-sm opacity-70 hover:opacity-100 hover:bg-secondary transition mr-1",onClick:D,children:l.jsx(b,{className:"h-4 w-4 shrink-0 text-muted-foreground/50"})}),a?l.jsx("div",{className:"shrink-0 mr-2 text-[1.125rem]",children:a}):l.jsx(e,{className:M("shrink-0 h-[1.125rem] w-[1.125rem] mr-2 text-muted-foreground "+m,p&&"dark:text-green-400 text-green-500")}),l.jsx("span",{className:M("truncate",p&&"dark:text-green-400 text-green-500"),children:t}),c&&l.jsxs("kbd",{className:"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[0.625rem] text-muted-foreground",children:[l.jsx("span",{className:"text-sm",children:"CTRL"}),"K"]}),!!n&&l.jsxs("div",{className:"ml-auto flex items-center gap-x-1.5",children:[l.jsxs(qt,{children:[l.jsx(Gt,{asChild:!0,onClick:C=>C.stopPropagation(),children:l.jsx("div",{role:"button",className:"opacity-0 group-hover:opacity-100 h-full ml-auto rounded-sm hover:bg-secondary transition",children:l.jsx(Jr,{className:"h-4 w-4 text-muted-foreground"})})}),l.jsxs(Zt,{className:"w-60",align:"start",side:"right",forceMount:!0,children:[l.jsxs(nt,{onClick:x,className:"dark:text-green-400 text-green-500",children:[l.jsx(aa,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Done"})]}),l.jsxs(nt,{onClick:E,children:[l.jsx(er,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Delete"})]}),l.jsx(Jt,{}),l.jsxs("div",{className:"text-xs text-muted-foreground p-2",children:["Last Edited: ",Oe(f,"PPpp")]})]})]}),l.jsx("div",{role:"button",onClick:h,className:"opacity-0 group-hover:opacity-100 transition h-full ml-auto rounded-sm hover:bg-secondary",children:l.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})})]})]})},tn=({parentDocumentId:e,level:t=0,documents:r})=>{const[n,a]=o.useState(!1),{selected_document:s}=J().props,[i,c]=o.useState({}),u=p=>{c(m=>({...m,[p]:!m[p]}))},d=p=>{W.get(route("documents.show",{id:p}),{},{preserveScroll:!0,preserveState:!1,onFinish:()=>{}})},f=o.useMemo(()=>n?r==null?void 0:r.filter(p=>p.is_done===1):r,[r,n]);return l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{paddingLeft:t>0?`${t*.75+1.563}rem`:void 0},className:M("px-4 py-2 hidden text-sm font-medium text-muted-foreground/80",i&&"last:block",t===0&&"hidden"),children:"No Pages Inside..."}),f==null?void 0:f.map(({id:p,...m})=>l.jsxs("div",{children:[l.jsx(te,{isDone:m.is_done===1,id:p,onClick:()=>d(p),label:m.title,Icon:m.is_done?sa:Gr,documentIcon:m.icon,active:(s==null?void 0:s.id)===p,level:t,onExpand:()=>u(p),expanded:i[p],updateDate:new Date(m.updated_at)}),i[p]&&l.jsx(tn,{parentDocumentId:p,level:t+1,documents:m.documents})]},p))]})},va="AlertDialog",[ga,Zc]=Yr(va,[Ur]),ne=Ur(),ba=e=>{const{__scopeAlertDialog:t,...r}=e,n=ne(t);return o.createElement(Io,N({},n,r,{modal:!0}))},ya=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ne(r);return o.createElement(zo,N({},a,n,{ref:t}))}),xa=e=>{const{__scopeAlertDialog:t,...r}=e,n=ne(t);return o.createElement(Lo,N({},n,r))},wa=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ne(r);return o.createElement(_o,N({},a,n,{ref:t}))}),rn="AlertDialogContent",[$a,Ea]=ga(rn),Sa=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=ne(r),i=o.useRef(null),c=le(t,i),u=o.useRef(null);return o.createElement(Oo,{contentName:rn,titleName:Ca,docsSlug:"alert-dialog"},o.createElement($a,{scope:r,cancelRef:u},o.createElement(To,N({role:"alertdialog"},s,a,{ref:c,onOpenAutoFocus:ce(a.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=u.current)===null||f===void 0||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault()}),o.createElement(Ro,null,n),!1)))}),Ca="AlertDialogTitle",Da=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ne(r);return o.createElement(Mo,N({},a,n,{ref:t}))}),Pa=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ne(r);return o.createElement(Fo,N({},a,n,{ref:t}))}),ja=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ne(r);return o.createElement(Wr,N({},a,n,{ref:t}))}),Aa="AlertDialogCancel",Ra=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Ea(Aa,r),s=ne(r),i=le(t,a);return o.createElement(Wr,N({},s,n,{ref:i}))}),ka=ba,Na=ya,_a=xa,nn=wa,on=Sa,an=ja,sn=Ra,cn=Da,ln=Pa,Oa=ka,Ta=Na,Ma=_a,un=o.forwardRef(({className:e,children:t,...r},n)=>l.jsx(nn,{className:M("fixed inset-0 z-[111111] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));un.displayName=nn.displayName;const dn=o.forwardRef(({className:e,...t},r)=>l.jsxs(Ma,{children:[l.jsx(un,{}),l.jsx(on,{ref:r,className:M("fixed left-[50%] top-[50%] z-[111111] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...t})]}));dn.displayName=on.displayName;const fn=({className:e,...t})=>l.jsx("div",{className:M("flex flex-col space-y-2 text-center sm:text-left",e),...t});fn.displayName="AlertDialogHeader";const pn=({className:e,...t})=>l.jsx("div",{className:M("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pn.displayName="AlertDialogFooter";const mn=o.forwardRef(({className:e,...t},r)=>l.jsx(cn,{ref:r,className:M("text-lg font-semibold",e),...t}));mn.displayName=cn.displayName;const hn=o.forwardRef(({className:e,...t},r)=>l.jsx(ln,{ref:r,className:M("text-sm text-muted-foreground",e),...t}));hn.displayName=ln.displayName;const vn=o.forwardRef(({className:e,...t},r)=>l.jsx(an,{ref:r,className:M(zr(),e),...t}));vn.displayName=an.displayName;const gn=o.forwardRef(({className:e,...t},r)=>l.jsx(sn,{ref:r,className:M(zr({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gn.displayName=sn.displayName;const bn=({children:e,onConfirm:t})=>{const r=n=>{n.stopPropagation(),t()};return l.jsxs(Oa,{children:[l.jsx(Ta,{onClick:n=>n.stopPropagation(),asChild:!0,children:e}),l.jsxs(dn,{children:[l.jsxs(fn,{children:[l.jsx(mn,{children:"Are you absolutely sure?"}),l.jsx(hn,{children:"This action cannot be undone. This will permanently delete the Koji and remove the data from the servers."})]}),l.jsxs(pn,{children:[l.jsx(gn,{onClick:n=>n.stopPropagation(),children:"Cancel"}),l.jsx(vn,{onClick:r,children:"Delete"})]})]})]})},Fa=()=>{const{selected_document:e}=J().props,{archives:t}=J().props,[r,n]=o.useState(""),a=o.useMemo(()=>t.filter(({title:u})=>u.toLocaleLowerCase().includes(r.toLocaleLowerCase())),[r,t]),s=u=>W.get(route("documents.show",{id:u})),i=(u,d)=>{u.stopPropagation(),W.post(route("documents.restore",{id:d}),{},{onSuccess:()=>z.success("Restore successfull"),onError:()=>z.error("Something Went Wrong. Please try again...")})},c=u=>{W.post(route("documents.permanent_destroy",{id:u}),{active:(e==null?void 0:e.id)===u},{onSuccess:()=>{z.success("Document Permanently Deleted")},onError:()=>z.error("Something Went Wrong. Please try again...")})};return l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"flex items-center gap-x-1 p-1.5",children:[l.jsx(Qt,{className:"h-4 w-4"}),l.jsx(Kr,{value:r,onChange:({target:u})=>n(u.value),className:"h-7 px-1.5 bg-secondary",placeholder:"Filter by Title..."})]}),l.jsxs("div",{className:"mt-2 px-1 pb-1",children:[l.jsx("p",{className:"hidden last:block text-xs text-center pb-2 text-muted-foreground",children:"No Documents Found..."}),a.map(({id:u,...d})=>l.jsxs("div",{role:"button",onClick:()=>s(u),className:"text-sm rounded-sm w-full hover:bg-primary/5 flex items-center text-primary justify-between",children:[l.jsx("span",{className:"truncate pl-2",children:d.title}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"rounded-sm p-2 hover:bg-primary/20",role:"button",onClick:f=>i(f,u),children:l.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(bn,{onConfirm:()=>c(u),children:l.jsx("div",{role:"button",className:"rounded-sm p-2 hover:bg-primary/20",children:l.jsx(er,{className:"h-4 w-4 text-muted-foreground"})})})]})]},u))]})]})},yn=ft((e,t)=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1}),toggle:()=>e({isOpen:!t().isOpen})})),xn=ft(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})})),wn=ft(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})})),La=({initialData:e})=>{const{id:t}=e,[r,n]=o.useState(!1),[a,s]=o.useState(e.title),i=o.useRef(null),c=()=>{s(e.title),n(!0),setTimeout(()=>{var p,m;(p=i.current)==null||p.focus(),(m=i.current)==null||m.setSelectionRange(0,i.current.value.length)},0)},u=()=>n(!1),d=p=>{s(p.target.value),W.post(route("documents.update",{id:t}),{title:p.target.value||`Koji: ${Oe(new Date,"Pp")}`},{preserveState:!0})},f=p=>{p.key==="Enter"&&u()};return l.jsxs("div",{className:"flex items-center gap-x-1",children:[!!e.icon&&l.jsx("p",{children:e.icon}),r?l.jsx(Kr,{onClick:c,onBlur:u,onKeyDown:f,onChange:d,ref:i,value:a,className:"h-7 px-2 "}):l.jsx(rt,{onClick:c,variant:"ghost",size:"sm",className:"font-normal h-auto p-1",children:l.jsx("span",{className:"truncate",children:e.title})})]})},Ia=({id:e})=>{const t=()=>{W.post(route("documents.restore",{id:e}),{},{onSuccess:()=>z.success("Restore successfull"),onError:()=>z.error("Something Went Wrong. Please try again...")})},r=()=>{W.post(route("documents.permanent_destroy",{id:e}),{active:!0},{onSuccess:()=>{z.success("Document Permanently Deleted")},onError:()=>z.error("Something Went Wrong. Please try again...")})};return l.jsxs("div",{className:"w-full bg-rose-500 text-center text-sm p-2 text-white flex items-center gap-x-2 justify-center",children:[l.jsx("p",{children:"This Page has been Archived"}),l.jsx(rt,{size:"sm",onClick:t,variant:"outline",className:"border-white bg-transparent hover:bg-primary/5 text-white hover:text-white py-1 px-2 h-auto font-normal",children:"Restore Koji"}),l.jsx(bn,{onConfirm:r,children:l.jsx(rt,{size:"sm",variant:"outline",className:"border-white bg-transparent hover:bg-primary/5 text-white hover:text-white py-1 px-2 h-auto font-normal",children:"Delete Permanently"})})]})},za=({id:e,updateDate:t})=>{const r=()=>{W.post(route("documents.destroy",{id:e}),{active:!0},{preserveState:!0,onSuccess:()=>{z.success("Note Archived")},onError:()=>z.error("Something Went Wrong. Please try again....")})};return l.jsxs(qt,{children:[l.jsx(Gt,{asChild:!0,children:l.jsx(rt,{size:"sm",variant:"ghost",children:l.jsx(Jr,{className:"h-4 w-4"})})}),l.jsxs(Zt,{className:"w-60",align:"end",alignOffset:8,forceMount:!0,children:[l.jsxs(nt,{onClick:r,children:[l.jsx(er,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Archive"})]}),l.jsx(Jt,{}),l.jsxs("div",{className:"text-xs text-muted-foreground p-2",children:["Last Edited: ",Oe(t,"PPpp")]})]})]})},Ua=({isCollapsed:e,onResetWidth:t})=>{const{selected_document:r}=J().props;return r?l.jsxs(l.Fragment,{children:[l.jsxs("nav",{className:"bg-background dark:bg-background/90 px-2.5 py-1.5 w-full flex items-center gap-x-3.5",children:[e&&l.jsx(Zr,{role:"button",onClick:t,className:"w-6 h-6 text-muted-foreground"}),l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx(La,{initialData:r}),l.jsx("div",{className:"flex items-center gap-x-2",children:l.jsx(za,{updateDate:new Date(r.updated_at),id:r.id})})]})]}),r.is_archived===1&&l.jsx(Ia,{id:r.id})]}):null},Jc=()=>{const{selected_document:e}=J().props,{documents:t}=J().props;J().props.auth.user;const r=ma("(max-width: 768px)"),n=o.useRef(!1),a=o.useRef(null),s=o.useRef(null),[i,c]=o.useState(!1),[u,d]=o.useState(r),{onOpen:f}=yn(),{onOpen:p}=xn(),{onOpen:m}=wn(),b=P=>{P.preventDefault(),P.stopPropagation(),n.current=!0,document.addEventListener("mousemove",D),document.addEventListener("mouseup",h)},D=P=>{if(!n.current)return;let g=P.clientX;g<240&&(g=240),g>480&&(g=480),a.current&&s.current&&(a.current.style.width=`${g}px`,s.current.style.setProperty("left",`${g}px`),s.current.style.setProperty("width",`calc(100% - ${g})px`))},h=()=>{n.current=!1,document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",h)},E=()=>{a.current&&s.current&&(c(!0),d(!1),a.current.style.width=r?"100%":"15rem",s.current.style.setProperty("width",r?"0":"calc(100% - 15rem)"),s.current.style.setProperty("left",r?"100%":"15rem"),setTimeout(()=>c(!1),300))},x=()=>{a.current&&s.current&&(d(!0),c(!0),a.current.style.width="0px",s.current.style.setProperty("width","100%"),s.current.style.setProperty("left","0"),setTimeout(()=>c(!1),300))};o.useEffect(()=>{r?x():E()},[r]);const C=()=>{W.post(route("documents.store"),{title:`Koji: ${Oe(new Date,"Pp")}`},{preserveScroll:!0,preserveState:!1,onError:()=>z.error("Something Went Wrong. Please try again....")})};return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{ref:a,className:M("group/sidebar max-h-screen overflow-hidden h-full bg-secondary overflow-y-auto relative flex flex-col w-60 z-[100000] ",i&&"transition-all ease-in-out duration-300",r&&"w-0"),children:[l.jsx("div",{onClick:x,role:"button",className:M("h-6 w-6 text-muted-foreground rounded-sm hover:text-primary absolute top-3 right-2 opacity-0 group-hover/sidebar:opacity-100 transition ",r&&"opacity-100"),children:l.jsx(ia,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx(ha,{}),l.jsx(te,{onClick:()=>W.get(route("dashboard.index")),label:"Dashboard",Icon:la,iconColor:""}),l.jsx(te,{onClick:()=>W.get(route("mood.index")),label:"Mood Calendar",Icon:oa}),l.jsx(te,{onClick:()=>W.get(route("tasks.index")),label:"Task Manager",Icon:ca}),l.jsx(te,{onClick:p,label:"Settings",Icon:da}),l.jsx("div",{className:"border-b border-b-[#e3e3e3] my-2"}),l.jsx(te,{onClick:()=>W.get(route("videos.index")),label:"Koji Admin's Videos",Icon:pa}),l.jsx(te,{onClick:m,label:"Chatbot",Icon:Xr}),l.jsx("div",{className:"border-b border-b-[#e3e3e3] my-2"}),l.jsx("div",{className:"px-3 pt-3 pb-2 text-primary dark:text-[#E8DFF5]",children:"Gratitude Journal"}),l.jsx(te,{onClick:f,label:"Search",Icon:Qt,isSearch:!0})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"h-auto",children:[l.jsxs(Bo,{children:[l.jsx(Yo,{className:"w-full",children:l.jsx(te,{label:"Archives",Icon:ua})}),l.jsx(Ko,{className:"p-0 w-72",side:r?"bottom":"right",children:l.jsx(Fa,{})})]}),l.jsx(te,{onClick:C,Icon:Qr,label:"Add a Koji"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx(tn,{documents:t})})]}),l.jsx("div",{onMouseDown:b,onClick:E,className:"hopacity-0 hover:opacity-100 transition cursor-ew-resize absolute h-full w-1 bg-gradient-to-b from-pink-300 via-purple-300 to-indigo-400 right-0 top-0"})]}),l.jsx("div",{ref:s,className:M("absolute top-0 z-[100000] left-60 w-[calc(100%-15rem)]",i&&"transition-all ease-in-out duration-300",r&&"left-0 w-full"),children:e!=null&&e.id?l.jsx(Ua,{isCollapsed:u,onResetWidth:E}):l.jsx("nav",{className:"bg-transparent px-3 py-2 w-full",children:u&&l.jsx(Zr,{onClick:E,className:"h-6 w-6 text-muted-foreground",role:"button"})})})]})},Wa=()=>{const{isOpen:e,onClose:t}=xn();return l.jsx(Le,{open:e,onOpenChange:t,children:l.jsxs(Ie,{children:[l.jsx(ut,{children:l.jsx(Hr,{className:"border-b pb-2.5",children:l.jsxs("span",{className:"text-lg font-medium",children:[ot," Settings"]})})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col gap-y-1",children:[l.jsx(Xo,{children:"Appearance"}),l.jsxs("span",{className:"text-[0.8rem] text-muted-foreground",children:["Customize ",ot," Theme"]})]}),l.jsx(Wo,{})]})]})})};var $n={exports:{}},Ha="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ba=Ha,Ya=Ba;function En(){}function Sn(){}Sn.resetWarningCache=En;var Ka=function(){function e(n,a,s,i,c,u){if(u!==Ya){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Sn,resetWarningCache:En};return r.PropTypes=r,r};$n.exports=Ka();var Va=$n.exports;const T=Lr(Va);var Xa=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ze(e,t){var r=qa(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function qa(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),a=Xa.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var Ga=[".DS_Store","Thumbs.db"];function Za(e){return je(this,void 0,void 0,function(){return Ae(this,function(t){return at(e)&&Ja(e.dataTransfer)?[2,rs(e.dataTransfer,e.type)]:Qa(e)?[2,es(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,ts(e)]:[2,[]]})})}function Ja(e){return at(e)}function Qa(e){return at(e)&&at(e.target)}function at(e){return typeof e=="object"&&e!==null}function es(e){return Mt(e.target.files).map(function(t){return ze(t)})}function ts(e){return je(this,void 0,void 0,function(){var t;return Ae(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return ze(n)})]}})})}function rs(e,t){return je(this,void 0,void 0,function(){var r,n;return Ae(this,function(a){switch(a.label){case 0:return e.items?(r=Mt(e.items).filter(function(s){return s.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(ns))]):[3,2];case 1:return n=a.sent(),[2,mr(Cn(n))];case 2:return[2,mr(Mt(e.files).map(function(s){return ze(s)}))]}})})}function mr(e){return e.filter(function(t){return Ga.indexOf(t.name)===-1})}function Mt(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function ns(e){if(typeof e.webkitGetAsEntry!="function")return hr(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Dn(t):hr(e)}function Cn(e){return e.reduce(function(t,r){return Tt(Tt([],pr(t),!1),pr(Array.isArray(r)?Cn(r):[r]),!1)},[])}function hr(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=ze(t);return Promise.resolve(r)}function os(e){return je(this,void 0,void 0,function(){return Ae(this,function(t){return[2,e.isDirectory?Dn(e):as(e)]})})}function Dn(e){var t=e.createReader();return new Promise(function(r,n){var a=[];function s(){var i=this;t.readEntries(function(c){return je(i,void 0,void 0,function(){var u,d,f;return Ae(this,function(p){switch(p.label){case 0:if(c.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return u=p.sent(),r(u),[3,4];case 3:return d=p.sent(),n(d),[3,4];case 4:return[3,6];case 5:f=Promise.all(c.map(os)),a.push(f),s(),p.label=6;case 6:return[2]}})})},function(c){n(c)})}s()})}function as(e){return je(this,void 0,void 0,function(){return Ae(this,function(t){return[2,new Promise(function(r,n){e.file(function(a){var s=ze(a,e.fullPath);r(s)},function(a){n(a)})})]})})}var ss=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return r.some(function(i){var c=i.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?s===c.replace(/\/.*$/,""):a===c})}return!0};function vr(e){return ls(e)||cs(e)||jn(e)||is()}function is(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cs(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ls(e){if(Array.isArray(e))return Ft(e)}function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gr(Object(r),!0).forEach(function(n){Pn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){return fs(e)||ds(e,t)||jn(e,t)||us()}function us(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jn(e,t){if(e){if(typeof e=="string")return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ft(e,t)}}function Ft(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ds(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,s=!1,i,c;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,c=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(s)throw c}}return n}}function fs(e){if(Array.isArray(e))return e}var ps="file-invalid-type",ms="file-too-large",hs="file-too-small",vs="too-many-files",gs=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:ps,message:"File type must be ".concat(r)}},yr=function(t){return{code:ms,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},xr=function(t){return{code:hs,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},bs={code:vs,message:"Too many files"};function An(e,t){var r=e.type==="application/x-moz-file"||ss(e,t);return[r,r?null:gs(t)]}function Rn(e,t,r){if(fe(e.size))if(fe(t)&&fe(r)){if(e.size>r)return[!1,yr(r)];if(e.size<t)return[!1,xr(t)]}else{if(fe(t)&&e.size<t)return[!1,xr(t)];if(fe(r)&&e.size>r)return[!1,yr(r)]}return[!0,null]}function fe(e){return e!=null}function ys(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,s=e.multiple,i=e.maxFiles,c=e.validator;return!s&&t.length>1||s&&i>=1&&t.length>i?!1:t.every(function(u){var d=An(u,r),f=Te(d,1),p=f[0],m=Rn(u,n,a),b=Te(m,1),D=b[0],h=c?c(u):null;return p&&D&&!h})}function st(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ge(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function wr(e){e.preventDefault()}function xs(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ws(e){return e.indexOf("Edge/")!==-1}function $s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return xs(e)||ws(e)}function ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return t.some(function(c){return!st(n)&&c&&c.apply(void 0,[n].concat(s)),st(n)})}}function Es(){return"showOpenFilePicker"in window}function Ss(e){if(fe(e)){var t=Object.entries(e).filter(function(r){var n=Te(r,2),a=n[0],s=n[1],i=!0;return kn(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(Nn))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(r,n){var a=Te(n,2),s=a[0],i=a[1];return br(br({},r),{},Pn({},s,i))},{});return[{description:"Files",accept:t}]}return e}function Cs(e){if(fe(e))return Object.entries(e).reduce(function(t,r){var n=Te(r,2),a=n[0],s=n[1];return[].concat(vr(t),[a],vr(s))},[]).filter(function(t){return kn(t)||Nn(t)}).join(",")}function Ds(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Ps(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function kn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Nn(e){return/^.*\.[\w]+$/.test(e)}var js=["children"],As=["open"],Rs=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ks=["refKey","onChange","onClick"];function Ns(e){return Ts(e)||Os(e)||_n(e)||_s()}function _s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Os(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ts(e){if(Array.isArray(e))return Lt(e)}function Dt(e,t){return Ls(e)||Fs(e,t)||_n(e,t)||Ms()}function Ms(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _n(e,t){if(e){if(typeof e=="string")return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(e,t)}}function Lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fs(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,s=!1,i,c;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,c=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(s)throw c}}return n}}function Ls(e){if(Array.isArray(e))return e}function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$r(Object(r),!0).forEach(function(n){It(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e,t){if(e==null)return{};var r=Is(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Is(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var tr=o.forwardRef(function(e,t){var r=e.children,n=it(e,js),a=rr(n),s=a.open,i=it(a,As);return o.useImperativeHandle(t,function(){return{open:s}},[s]),Po.createElement(o.Fragment,null,r(I(I({},i),{},{open:s})))});tr.displayName="Dropzone";var On={disabled:!1,getFilesFromEvent:Za,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};tr.defaultProps=On;tr.propTypes={children:T.func,accept:T.objectOf(T.arrayOf(T.string)),multiple:T.bool,preventDropOnDocument:T.bool,noClick:T.bool,noKeyboard:T.bool,noDrag:T.bool,noDragEventsBubbling:T.bool,minSize:T.number,maxSize:T.number,maxFiles:T.number,disabled:T.bool,getFilesFromEvent:T.func,onFileDialogCancel:T.func,onFileDialogOpen:T.func,useFsAccessApi:T.bool,autoFocus:T.bool,onDragEnter:T.func,onDragLeave:T.func,onDragOver:T.func,onDrop:T.func,onDropAccepted:T.func,onDropRejected:T.func,onError:T.func,validator:T.func};var zt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function rr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=I(I({},On),e),r=t.accept,n=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,i=t.minSize,c=t.multiple,u=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,p=t.onDragOver,m=t.onDrop,b=t.onDropAccepted,D=t.onDropRejected,h=t.onFileDialogCancel,E=t.onFileDialogOpen,x=t.useFsAccessApi,C=t.autoFocus,P=t.preventDropOnDocument,g=t.noClick,S=t.noKeyboard,w=t.noDrag,A=t.noDragEventsBubbling,$=t.onError,_=t.validator,F=o.useMemo(function(){return Cs(r)},[r]),K=o.useMemo(function(){return Ss(r)},[r]),Q=o.useMemo(function(){return typeof E=="function"?E:Er},[E]),ae=o.useMemo(function(){return typeof h=="function"?h:Er},[h]),H=o.useRef(null),X=o.useRef(null),Be=o.useReducer(zs,zt),ke=Dt(Be,2),he=ke[0],v=ke[1],k=he.isFocused,O=he.isFileDialogActive,j=o.useRef(typeof window<"u"&&window.isSecureContext&&x&&Es()),L=function(){!j.current&&O&&setTimeout(function(){if(X.current){var R=X.current.files;R.length||(v({type:"closeDialog"}),ae())}},300)};o.useEffect(function(){return window.addEventListener("focus",L,!1),function(){window.removeEventListener("focus",L,!1)}},[X,O,ae,j]);var B=o.useRef([]),se=function(R){H.current&&H.current.contains(R.target)||(R.preventDefault(),B.current=[])};o.useEffect(function(){return P&&(document.addEventListener("dragover",wr,!1),document.addEventListener("drop",se,!1)),function(){P&&(document.removeEventListener("dragover",wr),document.removeEventListener("drop",se))}},[H,P]),o.useEffect(function(){return!n&&C&&H.current&&H.current.focus(),function(){}},[H,C,n]);var re=o.useCallback(function(y){$?$(y):console.error(y)},[$]),sr=o.useCallback(function(y){y.preventDefault(),y.persist(),Xe(y),B.current=[].concat(Ns(B.current),[y.target]),Ge(y)&&Promise.resolve(a(y)).then(function(R){if(!(st(y)&&!A)){var U=R.length,V=U>0&&ys({files:R,accept:F,minSize:i,maxSize:s,multiple:c,maxFiles:u,validator:_}),G=U>0&&!V;v({isDragAccept:V,isDragReject:G,isDragActive:!0,type:"setDraggedFiles"}),d&&d(y)}}).catch(function(R){return re(R)})},[a,d,re,A,F,i,s,c,u,_]),ir=o.useCallback(function(y){y.preventDefault(),y.persist(),Xe(y);var R=Ge(y);if(R&&y.dataTransfer)try{y.dataTransfer.dropEffect="copy"}catch{}return R&&p&&p(y),!1},[p,A]),cr=o.useCallback(function(y){y.preventDefault(),y.persist(),Xe(y);var R=B.current.filter(function(V){return H.current&&H.current.contains(V)}),U=R.indexOf(y.target);U!==-1&&R.splice(U,1),B.current=R,!(R.length>0)&&(v({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ge(y)&&f&&f(y))},[H,f,A]),Ye=o.useCallback(function(y,R){var U=[],V=[];y.forEach(function(G){var Ne=An(G,F),be=Dt(Ne,2),yt=be[0],xt=be[1],wt=Rn(G,i,s),qe=Dt(wt,2),$t=qe[0],Et=qe[1],St=_?_(G):null;if(yt&&$t&&!St)U.push(G);else{var Ct=[xt,Et];St&&(Ct=Ct.concat(St)),V.push({file:G,errors:Ct.filter(function(Do){return Do})})}}),(!c&&U.length>1||c&&u>=1&&U.length>u)&&(U.forEach(function(G){V.push({file:G,errors:[bs]})}),U.splice(0)),v({acceptedFiles:U,fileRejections:V,type:"setFiles"}),m&&m(U,V,R),V.length>0&&D&&D(V,R),U.length>0&&b&&b(U,R)},[v,c,F,i,s,u,m,b,D,_]),Ke=o.useCallback(function(y){y.preventDefault(),y.persist(),Xe(y),B.current=[],Ge(y)&&Promise.resolve(a(y)).then(function(R){st(y)&&!A||Ye(R,y)}).catch(function(R){return re(R)}),v({type:"reset"})},[a,Ye,re,A]),ve=o.useCallback(function(){if(j.current){v({type:"openDialog"}),Q();var y={multiple:c,types:K};window.showOpenFilePicker(y).then(function(R){return a(R)}).then(function(R){Ye(R,null),v({type:"closeDialog"})}).catch(function(R){Ds(R)?(ae(R),v({type:"closeDialog"})):Ps(R)?(j.current=!1,X.current?(X.current.value=null,X.current.click()):re(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):re(R)});return}X.current&&(v({type:"openDialog"}),Q(),X.current.value=null,X.current.click())},[v,Q,ae,x,Ye,re,K,c]),lr=o.useCallback(function(y){!H.current||!H.current.isEqualNode(y.target)||(y.key===" "||y.key==="Enter"||y.keyCode===32||y.keyCode===13)&&(y.preventDefault(),ve())},[H,ve]),ur=o.useCallback(function(){v({type:"focus"})},[]),dr=o.useCallback(function(){v({type:"blur"})},[]),fr=o.useCallback(function(){g||($s()?setTimeout(ve,0):ve())},[g,ve]),ge=function(R){return n?null:R},bt=function(R){return S?null:ge(R)},Ve=function(R){return w?null:ge(R)},Xe=function(R){A&&R.stopPropagation()},Eo=o.useMemo(function(){return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=y.refKey,U=R===void 0?"ref":R,V=y.role,G=y.onKeyDown,Ne=y.onFocus,be=y.onBlur,yt=y.onClick,xt=y.onDragEnter,wt=y.onDragOver,qe=y.onDragLeave,$t=y.onDrop,Et=it(y,Rs);return I(I(It({onKeyDown:bt(ee(G,lr)),onFocus:bt(ee(Ne,ur)),onBlur:bt(ee(be,dr)),onClick:ge(ee(yt,fr)),onDragEnter:Ve(ee(xt,sr)),onDragOver:Ve(ee(wt,ir)),onDragLeave:Ve(ee(qe,cr)),onDrop:Ve(ee($t,Ke)),role:typeof V=="string"&&V!==""?V:"presentation"},U,H),!n&&!S?{tabIndex:0}:{}),Et)}},[H,lr,ur,dr,fr,sr,ir,cr,Ke,S,w,n]),So=o.useCallback(function(y){y.stopPropagation()},[]),Co=o.useMemo(function(){return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=y.refKey,U=R===void 0?"ref":R,V=y.onChange,G=y.onClick,Ne=it(y,ks),be=It({accept:F,multiple:c,type:"file",style:{display:"none"},onChange:ge(ee(V,Ke)),onClick:ge(ee(G,So)),tabIndex:-1},U,X);return I(I({},be),Ne)}},[X,r,c,Ke,n]);return I(I({},he),{},{isFocused:k&&!n,getRootProps:Eo,getInputProps:Co,rootRef:H,inputRef:X,open:ge(ve)})}function zs(e,t){switch(t.type){case"focus":return I(I({},e),{},{isFocused:!0});case"blur":return I(I({},e),{},{isFocused:!1});case"openDialog":return I(I({},zt),{},{isFileDialogActive:!0});case"closeDialog":return I(I({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return I(I({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return I(I({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return I({},zt);default:return e}}function Er(){}const ye={base:"relative rounded-md flex justify-center items-center flex-col cursor-pointer min-h-[150px] min-w-[200px] border border-dashed border-gray-400 dark:border-gray-300 transition-colors duration-200 ease-in-out",image:"border-0 p-0 min-h-0 min-w-0 relative shadow-md bg-slate-200 dark:bg-slate-900 rounded-md",active:"border-2",disabled:"bg-gray-200 border-gray-300 cursor-default pointer-events-none bg-opacity-30 dark:bg-gray-700",accept:"border border-blue-500 bg-blue-500 bg-opacity-10",reject:"border border-red-700 bg-red-700 bg-opacity-10"},Ze={fileTooLarge(e){return`The file is too large. Max size is ${Ws(e)}.`},fileInvalidType(){return"Invalid file type."},tooManyFiles(e){return`You can only add ${e} file(s).`},fileNotSupported(){return"The file is not supported."}},Tn=o.forwardRef(({dropzoneOptions:e,width:t,height:r,value:n,className:a,disabled:s,onChange:i},c)=>{var C;const u=o.useMemo(()=>typeof n=="string"?n:n?URL.createObjectURL(n):null,[n]),{getRootProps:d,getInputProps:f,acceptedFiles:p,fileRejections:m,isFocused:b,isDragAccept:D,isDragReject:h}=rr({accept:{"image/*":[]},multiple:!1,disabled:s,onDrop:P=>{const g=P[0];g&&(i==null||i(g))},...e}),E=o.useMemo(()=>lt(ye.base,b&&ye.active,s&&ye.disabled,u&&ye.image,(h??m[0])&&ye.reject,D&&ye.accept,a).trim(),[b,u,m,D,h,s,a]),x=o.useMemo(()=>{var P,g,S;if(m[0]){const{errors:w}=m[0];return((P=w[0])==null?void 0:P.code)==="file-too-large"?Ze.fileTooLarge((e==null?void 0:e.maxSize)??0):((g=w[0])==null?void 0:g.code)==="file-invalid-type"?Ze.fileInvalidType():((S=w[0])==null?void 0:S.code)==="too-many-files"?Ze.tooManyFiles((e==null?void 0:e.maxFiles)??0):Ze.fileNotSupported()}},[m,e]);return l.jsxs("div",{className:"relative",children:[s&&l.jsx("div",{className:"flex items-center justify-center absolute inset-y-0 w-full bg-background/80 z-50",children:l.jsx(Br,{size:"lg"})}),l.jsxs("div",{...d({className:E,style:{width:t,height:r}}),children:[l.jsx("input",{ref:c,...f()}),u?l.jsx("img",{className:"h-full w-full rounded-md object-cover",src:u,alt:(C=p[0])==null?void 0:C.name}):l.jsxs("div",{className:"flex flex-col items-center justify-center text-xs text-gray-400",children:[l.jsx(en,{className:"mb-2 h-7 w-7"}),l.jsx("div",{className:"text-gray-400",children:"Click or Drag n' Drop Image"})]}),u&&!s&&l.jsx("div",{className:"group absolute right-0 top-0 -translate-y-1/4 translate-x-1/4 transform",onClick:P=>{P.stopPropagation(),i==null||i(void 0)},children:l.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md border border-solid border-gray-500 bg-white transition-all duration-300 hover:h-6 hover:w-6 dark:border-gray-400 dark:bg-black",children:l.jsx(Vr,{className:"text-gray-500 dark:text-gray-400",width:16,height:16})})})]}),l.jsx("div",{className:"mt-1 text-xs text-red-500",children:x})]})});Tn.displayName="SingleImageDropzone";const Us=o.forwardRef(({className:e,...t},r)=>l.jsx("button",{className:lt("focus-visible:ring-ring inline-flex cursor-pointer items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50","border border-gray-400 text-gray-400 shadow hover:bg-gray-100 hover:text-gray-500 dark:border-gray-600 dark:text-gray-100 dark:hover:bg-gray-700","h-6 rounded-md px-2 text-xs",e),ref:r,...t}));Us.displayName="Button";function Ws(e){if(!e||(e=Number(e),e===0))return"0 Bytes";const t=1024,r=2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,a)).toFixed(r))} ${n[a]}`}const Hs=()=>{const{isOpen:e,onClose:t}=Vo(),[r,n]=o.useState(),[a,s]=o.useState(!1),{selected_document:i}=J().props,c=u=>{if(!i||!u)return;const{id:d}=i;s(!0),n(u),W.post(route("documents.update",{id:d}),{cover_image:u},{onSuccess:()=>{z.success("Cover Image Set"),n(void 0),t()},onError:()=>z.error("Something Went Wrong. Please try again...."),onFinish:()=>s(!1)})};return l.jsx(Le,{open:e,onOpenChange:t,children:l.jsxs(Ie,{children:[l.jsx(ut,{children:l.jsx("h2",{className:"text-center text-lg font-semibold",children:"Cover Image"})}),l.jsx("div",{children:l.jsx(Tn,{className:"w-full",disabled:a,value:r,onChange:c})})]})})},Bs=ft(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})})),xe={base:"relative rounded-md flex justify-center items-center flex-col cursor-pointer min-h-[150px] min-w-[200px] border border-dashed border-gray-400 dark:border-gray-300 transition-colors duration-200 ease-in-out",video:"border-0 p-0 min-h-0 min-w-0 relative shadow-md bg-slate-200 dark:bg-slate-900 rounded-md",active:"border-2",disabled:"bg-gray-200 border-gray-300 cursor-default pointer-events-none bg-opacity-30 dark:bg-gray-700",accept:"border border-blue-500 bg-blue-500 bg-opacity-10",reject:"border border-red-700 bg-red-700 bg-opacity-10"},Je={fileTooLarge(e){return`The file is too large. Max size is ${Ks(e)}.`},fileInvalidType(){return"Invalid file type."},tooManyFiles(e){return`You can only add ${e} file(s).`},fileNotSupported(){return"The file is not supported."}},Mn=o.forwardRef(({dropzoneOptions:e,width:t,height:r,value:n,className:a,disabled:s,onChange:i},c)=>{const u=o.useMemo(()=>typeof n=="string"?n:n?URL.createObjectURL(n):null,[n]),{getRootProps:d,getInputProps:f,acceptedFiles:p,fileRejections:m,isFocused:b,isDragAccept:D,isDragReject:h}=rr({accept:{"video/mp4":[]},multiple:!1,disabled:s,onDrop:C=>{const P=C[0];P&&(i==null||i(P))},...e}),E=o.useMemo(()=>lt(xe.base,b&&xe.active,s&&xe.disabled,u&&xe.video,(h??m[0])&&xe.reject,D&&xe.accept,a).trim(),[b,u,m,D,h,s,a]),x=o.useMemo(()=>{var C,P,g;if(m[0]){const{errors:S}=m[0];return((C=S[0])==null?void 0:C.code)==="file-too-large"?Je.fileTooLarge((e==null?void 0:e.maxSize)??0):((P=S[0])==null?void 0:P.code)==="file-invalid-type"?Je.fileInvalidType():((g=S[0])==null?void 0:g.code)==="too-many-files"?Je.tooManyFiles((e==null?void 0:e.maxFiles)??0):Je.fileNotSupported()}},[m,e]);return l.jsxs("div",{className:"relative",children:[s&&l.jsx("div",{className:"flex items-center justify-center absolute inset-y-0 w-full bg-background/80 z-50",children:l.jsx(Br,{size:"lg"})}),l.jsxs("div",{...d({className:E,style:{width:t,height:r}}),children:[l.jsx("input",{ref:c,...f()}),u?l.jsx("video",{className:"h-full w-full rounded-md object-cover",controls:!0,src:u}):l.jsxs("div",{className:"flex flex-col items-center justify-center text-xs text-gray-400",children:[l.jsx(en,{className:"mb-2 h-7 w-7"}),l.jsx("div",{className:"text-gray-400",children:"Click or Drag n' Drop Video"})]}),u&&!s&&l.jsx("div",{className:"group absolute right-0 top-0 -translate-y-1/4 translate-x-1/4 transform",onClick:C=>{C.stopPropagation(),i==null||i(void 0)},children:l.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md border border-solid border-gray-500 bg-white transition-all duration-300 hover:h-6 hover:w-6 dark:border-gray-400 dark:bg-black",children:l.jsx(Vr,{className:"text-gray-500 dark:text-gray-400",width:16,height:16})})})]}),l.jsx("div",{className:"mt-1 text-xs text-red-500",children:x})]})});Mn.displayName="SingleVideoDropzone";const Ys=o.forwardRef(({className:e,...t},r)=>l.jsx("button",{className:lt("focus-visible:ring-ring inline-flex cursor-pointer items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50","border border-gray-400 text-gray-400 shadow hover:bg-gray-100 hover:text-gray-500 dark:border-gray-600 dark:text-gray-100 dark:hover:bg-gray-700","h-6 rounded-md px-2 text-xs",e),ref:r,...t}));Ys.displayName="Button";function Ks(e){if(!e||(e=Number(e),e===0))return"0 Bytes";const t=1024,r=2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,a)).toFixed(r))} ${n[a]}`}const Vs=()=>{const{isOpen:e,onClose:t}=Bs(),[r,n]=o.useState(),[a,s]=o.useState(!1),i=c=>{if(c&&c.type){if(c.type!=="video/mp4"){z.error("File must be MP4");return}s(!0),n(c),W.post(route("videos.store"),{video:c},{preserveState:!1,onSuccess:()=>{z.success("Video Uploaded"),n(void 0),t()},onError:u=>{z.error("Something Went Wrong. Please try again...."),console.log(u)},onFinish:()=>s(!1)})}};return o.useEffect(()=>{e||n(void 0)},[e]),l.jsx(Le,{open:e,onOpenChange:t,children:l.jsxs(Ie,{children:[l.jsx(ut,{children:l.jsx("h2",{className:"text-center text-lg font-semibold",children:`${a?"Uploading":"Upload a"}  Video`})}),l.jsx("div",{children:l.jsx(Mn,{className:"w-full",disabled:a,value:r,onChange:i})})]})})};function Xs(e,[t,r]){return Math.min(r,Math.max(t,e))}function qs(e,t){return o.useReducer((r,n)=>{const a=t[r][n];return a??r},e)}const Fn="ScrollArea",[Ln,Qc]=Yr(Fn),[Gs,Z]=Ln(Fn),Zs=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[c,u]=o.useState(null),[d,f]=o.useState(null),[p,m]=o.useState(null),[b,D]=o.useState(null),[h,E]=o.useState(null),[x,C]=o.useState(0),[P,g]=o.useState(0),[S,w]=o.useState(!1),[A,$]=o.useState(!1),_=le(t,K=>u(K)),F=Uo(a);return o.createElement(Gs,{scope:r,type:n,dir:F,scrollHideDelay:s,scrollArea:c,viewport:d,onViewportChange:f,content:p,onContentChange:m,scrollbarX:b,onScrollbarXChange:D,scrollbarXEnabled:S,onScrollbarXEnabledChange:w,scrollbarY:h,onScrollbarYChange:E,scrollbarYEnabled:A,onScrollbarYEnabledChange:$,onCornerWidthChange:C,onCornerHeightChange:g},o.createElement(Fe.div,N({dir:F},i,{ref:_,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":P+"px",...e.style}})))}),Js="ScrollAreaViewport",Qs=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,...a}=e,s=Z(Js,r),i=o.useRef(null),c=le(t,i,s.onViewportChange);return o.createElement(o.Fragment,null,o.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),o.createElement(Fe.div,N({"data-radix-scroll-area-viewport":""},a,{ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),o.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},n)))}),oe="ScrollAreaScrollbar",In=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Z(oe,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,c=e.orientation==="horizontal";return o.useEffect(()=>(c?s(!0):i(!0),()=>{c?s(!1):i(!1)}),[c,s,i]),a.type==="hover"?o.createElement(ei,N({},n,{ref:t,forceMount:r})):a.type==="scroll"?o.createElement(ti,N({},n,{ref:t,forceMount:r})):a.type==="auto"?o.createElement(zn,N({},n,{ref:t,forceMount:r})):a.type==="always"?o.createElement(nr,N({},n,{ref:t})):null}),ei=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Z(oe,e.__scopeScrollArea),[s,i]=o.useState(!1);return o.useEffect(()=>{const c=a.scrollArea;let u=0;if(c){const d=()=>{window.clearTimeout(u),i(!0)},f=()=>{u=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),o.createElement(dt,{present:r||s},o.createElement(zn,N({"data-state":s?"visible":"hidden"},n,{ref:t})))}),ti=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Z(oe,e.__scopeScrollArea),s=e.orientation==="horizontal",i=mt(()=>u("SCROLL_END"),100),[c,u]=qs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>u("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,a.scrollHideDelay,u]),o.useEffect(()=>{const d=a.viewport,f=s?"scrollLeft":"scrollTop";if(d){let p=d[f];const m=()=>{const b=d[f];p!==b&&(u("SCROLL"),i()),p=b};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,s,u,i]),o.createElement(dt,{present:r||c!=="hidden"},o.createElement(nr,N({"data-state":c==="hidden"?"hidden":"visible"},n,{ref:t,onPointerEnter:ce(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),zn=o.forwardRef((e,t)=>{const r=Z(oe,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=o.useState(!1),c=e.orientation==="horizontal",u=mt(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?d:f)}},10);return De(r.viewport,u),De(r.content,u),o.createElement(dt,{present:n||s},o.createElement(nr,N({"data-state":s?"visible":"hidden"},a,{ref:t})))}),nr=o.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Z(oe,e.__scopeScrollArea),s=o.useRef(null),i=o.useRef(0),[c,u]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Bn(c.viewport,c.content),f={...n,sizes:c,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function p(m,b){return li(m,i.current,c,b)}return r==="horizontal"?o.createElement(ri,N({},f,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const m=a.viewport.scrollLeft,b=Sr(m,c,a.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=p(m,a.dir))}})):r==="vertical"?o.createElement(ni,N({},f,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const m=a.viewport.scrollTop,b=Sr(m,c);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=p(m))}})):null}),ri=o.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Z(oe,e.__scopeScrollArea),[i,c]=o.useState(),u=o.useRef(null),d=le(t,u,s.onScrollbarXChange);return o.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),o.createElement(Wn,N({"data-orientation":"horizontal"},a,{ref:d,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pt(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(s.viewport){const m=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),Kn(m,p)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:ct(i.paddingLeft),paddingEnd:ct(i.paddingRight)}})}}))}),ni=o.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Z(oe,e.__scopeScrollArea),[i,c]=o.useState(),u=o.useRef(null),d=le(t,u,s.onScrollbarYChange);return o.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),o.createElement(Wn,N({"data-orientation":"vertical"},a,{ref:d,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pt(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(s.viewport){const m=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),Kn(m,p)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:ct(i.paddingTop),paddingEnd:ct(i.paddingBottom)}})}}))}),[oi,Un]=Ln(oe),Wn=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:p,...m}=e,b=Z(oe,r),[D,h]=o.useState(null),E=le(t,_=>h(_)),x=o.useRef(null),C=o.useRef(""),P=b.viewport,g=n.content-n.viewport,S=de(f),w=de(u),A=mt(p,10);function $(_){if(x.current){const F=_.clientX-x.current.left,K=_.clientY-x.current.top;d({x:F,y:K})}}return o.useEffect(()=>{const _=F=>{const K=F.target;(D==null?void 0:D.contains(K))&&S(F,g)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[P,D,g,S]),o.useEffect(w,[n,w]),De(D,A),De(b.content,A),o.createElement(oi,{scope:r,scrollbar:D,hasThumb:a,onThumbChange:de(s),onThumbPointerUp:de(i),onThumbPositionChange:w,onThumbPointerDown:de(c)},o.createElement(Fe.div,N({},m,{ref:E,style:{position:"absolute",...m.style},onPointerDown:ce(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),x.current=D.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),$(_))}),onPointerMove:ce(e.onPointerMove,$),onPointerUp:ce(e.onPointerUp,_=>{const F=_.target;F.hasPointerCapture(_.pointerId)&&F.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),x.current=null})})))}),Ut="ScrollAreaThumb",ai=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Un(Ut,e.__scopeScrollArea);return o.createElement(dt,{present:r||a.hasThumb},o.createElement(si,N({ref:t},n)))}),si=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Z(Ut,r),i=Un(Ut,r),{onThumbPositionChange:c}=i,u=le(t,p=>i.onThumbChange(p)),d=o.useRef(),f=mt(()=>{d.current&&(d.current(),d.current=void 0)},100);return o.useEffect(()=>{const p=s.viewport;if(p){const m=()=>{if(f(),!d.current){const b=ui(p,c);d.current=b,c()}};return c(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[s.viewport,f,c]),o.createElement(Fe.div,N({"data-state":i.hasThumb?"visible":"hidden"},a,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ce(e.onPointerDownCapture,p=>{const b=p.target.getBoundingClientRect(),D=p.clientX-b.left,h=p.clientY-b.top;i.onThumbPointerDown({x:D,y:h})}),onPointerUp:ce(e.onPointerUp,i.onThumbPointerUp)}))}),Hn="ScrollAreaCorner",ii=o.forwardRef((e,t)=>{const r=Z(Hn,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.createElement(ci,N({},e,{ref:t})):null}),ci=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Z(Hn,r),[s,i]=o.useState(0),[c,u]=o.useState(0),d=!!(s&&c);return De(a.scrollbarX,()=>{var f;const p=((f=a.scrollbarX)===null||f===void 0?void 0:f.offsetHeight)||0;a.onCornerHeightChange(p),u(p)}),De(a.scrollbarY,()=>{var f;const p=((f=a.scrollbarY)===null||f===void 0?void 0:f.offsetWidth)||0;a.onCornerWidthChange(p),i(p)}),d?o.createElement(Fe.div,N({},n,{ref:t,style:{width:s,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function ct(e){return e?parseInt(e,10):0}function Bn(e,t){const r=e/t;return isNaN(r)?0:r}function pt(e){const t=Bn(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function li(e,t,r,n="ltr"){const a=pt(r),s=a/2,i=t||s,c=a-i,u=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,p=n==="ltr"?[0,f]:[f*-1,0];return Yn([u,d],p)(e)}function Sr(e,t,r="ltr"){const n=pt(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,c=s-n,u=r==="ltr"?[0,i]:[i*-1,0],d=Xs(e,u);return Yn([0,i],[0,c])(d)}function Yn(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Kn(e,t){return e>0&&e<t}const ui=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,c=r.top!==s.top;(i||c)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function mt(e,t){const r=de(e),n=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),o.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function De(e,t){const r=de(t);Ho(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}const Vn=Zs,di=Qs,fi=ii,Xn=o.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Vn,{ref:n,className:M("relative overflow-hidden",e),...r,children:[l.jsx(di,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(qn,{}),l.jsx(fi,{})]}));Xn.displayName=Vn.displayName;const qn=o.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(In,{ref:n,orientation:t,className:M("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(ai,{className:M("relative rounded-full bg-border",t==="vertical"&&"flex-1")})}));qn.displayName=In.displayName;const pi=e=>{const{chatRef:t,bottomRef:r,count:n=0}=e,[a,s]=o.useState(!1);o.useEffect(()=>{const i=r.current,c=t.current;(()=>!a&&i?(s(!0),!0):c?c.scrollHeight-c.scrollTop-c.clientHeight<=100:!1)()&&setTimeout(()=>{var d;return(d=r.current)==null?void 0:d.scrollIntoView({behavior:"smooth"})},100)},[r,t,a,n])},mi=()=>{const{isOpen:e,onClose:t}=wn();return l.jsx(Le,{open:e,onOpenChange:t,children:l.jsxs(Ie,{className:"bg-gradient-to-b from-[#DDEDEA] via-[#DAEAFF] to-[#E8DFF5]",children:[l.jsx(ut,{children:l.jsxs(Hr,{className:"flex border-b pb-2.5 dark:text-gray-700",children:[l.jsx(Xr,{className:"mr-2"}),l.jsx("span",{className:"text-lg font-medium",children:"Koji Bot"})]})}),l.jsx(hi,{})]})})},hi=()=>{const e=o.useRef(null),t=o.useRef(null),r=[{title:"Hello, Welcome to your personal stress assessment chatbot.",description:"",isOptions:!1},{title:"Great to have you here! To ensure we gather comprehensive and reliable data for your stress assessment, our assessment is divided into two parts",description:"",isOptions:!1},{title:"Part 1: You'll answer 10 brief questions to provide an initial assessment of your stress level",description:"",isOptions:!1},{title:"Part 2: The more in-depth assessment consists of 30 questions to further refine the data.",description:"",isOptions:!1},{title:"Are you ready to take your stress assessment with me?",description:"",isOptions:!1},{title:"Yes, I'm ready!",description:"",isOptions:!0}];o.useState(1);const[n,a]=o.useState(r.map(g=>({isOptions:g.isOptions,isUser:!1,message:g.title}))),{pss_choices:s,pss_questions:i,questionnaire_choices:c,questionnaire_questions:u}=J().props,[d,f]=o.useState(1),[p,m]=o.useState([]),[b,D]=o.useState([]),h=g=>{if(a(S=>[...S,{isOptions:!1,isUser:!0,message:g.message}]),g.message=="Yes, I'm ready!"){const S=setTimeout(()=>{const w=i.find(A=>A.id==d);w&&(a(A=>[...A,{isOptions:!1,isUser:!1,message:w.id+" - "+w.question}]),s.forEach((A,$,_)=>{a(F=>[...F,{isOptions:!0,isUser:!1,message:A.level+" - "+A.choice}])}),f(d+1),clearTimeout(S))},1e3)}else{const S=+g.message.split("-")[0];if(d-1<11)switch(d-1){case 4:case 5:case 7:case 8:m([...p,{id:d-1,answer:E(S)}]);break;default:m([...p,{id:d-1,answer:S}]);break}else switch(d-11){case 1:case 7:case 10:case 13:case 17:case 21:case 25:case 29:D([...b,{id:d-11,answer:x(S)}]);break;default:D([...b,{id:d-11,answer:S}]);break}if(d==11&&(a(w=>[...w,{isOptions:!1,isUser:!1,message:"First part of test was completed"}]),a(w=>[...w,{isOptions:!1,isUser:!1,message:"Second part is about to start"}])),d==41)return;if(d<11){const w=i.find(A=>A.id==d);if(w){const A=setTimeout(()=>{a($=>[...$,{isOptions:!1,isUser:!1,message:w.id+" - "+w.question}]),s.forEach(($,_,F)=>{a(K=>[...K,{isOptions:!0,isUser:!1,message:$.level+" - "+$.choice}])}),f(d+1),clearTimeout(A)})}else{const A=setTimeout(()=>{a($=>[...$,{isOptions:!1,isUser:!1,message:"Sorry, I did not get that"}]),clearTimeout(A)},1e3)}}else{const w=u.find(A=>A.id==d);if(w){const A=setTimeout(()=>{a($=>[...$,{isOptions:!1,isUser:!1,message:w.id-10+" - "+w.question}]),c.forEach(($,_,F)=>{a(K=>[...K,{isOptions:!0,isUser:!1,message:$.level+" - "+$.choice}])}),f(d+1),clearTimeout(A)})}else{const A=setTimeout(()=>{a($=>[...$,{isOptions:!1,isUser:!1,message:"Sorry, I did not get that"}]),clearTimeout(A)},1e3)}}}},E=g=>{switch(g){case 0:return 4;case 1:return 3;case 3:return 1;case 4:return 0}return g},x=g=>{switch(g){case 1:return 4;case 2:return 3;case 3:return 2;case 4:return 1}return g},C=()=>{const g=setTimeout(()=>{const S=r.map(w=>({isOptions:!0,isUser:!1,message:w.title}));a([...S,...n]),clearTimeout(g)},1e3)};pi({chatRef:e,bottomRef:t,count:n.length}),o.useEffect(()=>{console.log(s),console.log(i),console.log(c),console.log(u)},[]),o.useEffect(()=>{if(d==41){var g=P(p),S=P(b),w=(S-30)/90,A=Math.abs(w).toFixed(2);console.log(A),a($=>[...$,{isOptions:!1,isUser:!1,message:"Your overall score is "+A}]),g>=0&&g<=13?a($=>[...$,{isOptions:!1,isUser:!1,message:"You are having very low stress and doing well as of the moment. You are managing and handling stress appropriately."}]):g>=14&&g<=26?a($=>[...$,{isOptions:!1,isUser:!1,message:"You are having a normal level of stress. Continue the positive coping strategies and stress management techniques that you are doing."}]):(a($=>[...$,{isOptions:!1,isUser:!1,message:"You are having a high level of stress. You need to improve your coping strategies and stress management techniques. You need to slow down and take a break from any stress related activities, interactions and engagements."}]),a($=>[...$,{isOptions:!1,isUser:!1,message:"You can also consider the following alternatives. You need to seek help from your social support system like friends, colleagues, or family. Consider seeking professional help and doing counseling and psychotherapy. You need to adjust your daily activities and prioritize self-care  whether its physical, mental, emotional, spiritual, and social."}]),a($=>[...$,{isOptions:!1,isUser:!1,message:"Here are also some hotlines that we suggest that can help you if you ever want to talk to someone:"}]),a($=>[...$,{isOptions:!1,isUser:!1,message:`Hopeline Philippines:
Hotline: 2919 (for Globe and TM subscribers) or 804-HOPE (4673)
Available 24/7
Hopeline Philippines is a crisis hotline that provides emotional support and intervention for individuals who are going through a difficult time, including students facing stress or mental health challenges.`}]),a($=>[...$,{isOptions:!1,isUser:!1,message:`The Natasha Goulbourn Foundation (NGF) Hopeline:
Hotline: (02) 8804-HOPE (4673) or 0917-558-HOPE (4673)
Available 24/7
NGF Hopeline is a mental health crisis hotline in partnership with the Department of Health (DOH) that offers support, information, and intervention for those in crisis.`}]),a($=>[...$,{isOptions:!1,isUser:!1,message:`Silakbo PH:
Facebook Page: Silakbo PH
Silakbo PH is a community-driven initiative in the Philippines that provides a safe space for individuals to share their mental health experiences and receive support and information.`}]),a($=>[...$,{isOptions:!1,isUser:!1,message:`Mental Health PH:
Website: Mental Health PH
Mental Health PH is a website that provides information, resources, and support for mental health concerns. They have a directory of mental health professionals and facilities in the Philippines.`}]),a($=>[...$,{isOptions:!1,isUser:!1,message:`Crisis Line Philippines (CLiP):
Hotline: 0917-899-8727 or 989-8727
Available 24/7
CLiP offers a helpline for crisis intervention, emotional support, and referrals to mental health professionals.`}]),a($=>[...$,{isOptions:!1,isUser:!1,message:`In Touch Community Services
Hotline: (02) 8893-7603
Available Mon to Fri, 9:00 AM to 5:00 PM
In Touch Community Services provides a crisis line for emotional support and assistance, as well as information and referrals for mental health services.`}]))}},[b]);const P=g=>{let S=0;for(let w=0;w<g.length;w++)S+=g[w].answer;return S};return l.jsxs(Xn,{ref:e,className:"text-sm h-full max-h-[30rem] px-4",children:[l.jsx("div",{className:"py-2 flex flex-col overflow-y-auto space-y-1.5",children:n.map((g,S)=>l.jsx(o.Fragment,{children:g.isOptions?l.jsx("button",{onClick:()=>g.message!="menu"?h(g):C(),className:"text-sm w-fit max-w-md text-left rounded-2xl px-4 py-1.5 shadow border border-blue-500 bg-blue-300 text-gray-900",children:g.message}):l.jsx("p",{className:M("whitespace-pre-line w-fit max-w-md p-4 rounded-lg shadow text-gray-900",g.isUser?"ml-auto bg-blue-300":"bg-white"),children:g.message})},S))}),l.jsx("div",{ref:t})]})},el=()=>l.jsxs(l.Fragment,{children:[l.jsx(Wa,{}),l.jsx(Hs,{}),l.jsx(Vs,{}),l.jsx(mi,{})]});function Ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function vi(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Gn(...e){return t=>e.forEach(r=>vi(r,t))}function Ue(...e){return o.useCallback(Gn(...e),e)}function gi(e,t=[]){let r=[];function n(s,i){const c=o.createContext(i),u=r.length;r=[...r,i];function d(p){const{scope:m,children:b,...D}=p,h=(m==null?void 0:m[e][u])||c,E=o.useMemo(()=>D,Object.values(D));return o.createElement(h.Provider,{value:E},b)}function f(p,m){const b=(m==null?void 0:m[e][u])||c,D=o.useContext(b);if(D)return D;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${s}\``)}return d.displayName=s+"Provider",[d,f]}const a=()=>{const s=r.map(i=>o.createContext(i));return function(c){const u=(c==null?void 0:c[e])||s;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return a.scopeName=e,[n,bi(a,...t)]}function bi(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((c,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...c,...p}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const Wt=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},yi=jo["useId".toString()]||(()=>{});let xi=0;function Pt(e){const[t,r]=o.useState(yi());return Wt(()=>{e||r(n=>n??String(xi++))},[e]),e||(t?`radix-${t}`:"")}function pe(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function wi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=$i({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,c=pe(r),u=o.useCallback(d=>{if(s){const p=typeof d=="function"?d(e):d;p!==e&&c(p)}else a(d)},[s,e,a,c]);return[i,u]}function $i({defaultProp:e,onChange:t}){const r=o.useState(e),[n]=r,a=o.useRef(n),s=pe(t);return o.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}const or=o.forwardRef((e,t)=>{const{children:r,...n}=e,a=o.Children.toArray(r),s=a.find(Si);if(s){const i=s.props.children,c=a.map(u=>u===s?o.Children.count(i)>1?o.Children.only(null):o.isValidElement(i)?i.props.children:null:u);return o.createElement(Ht,N({},n,{ref:t}),o.isValidElement(i)?o.cloneElement(i,void 0,c):null)}return o.createElement(Ht,N({},n,{ref:t}),r)});or.displayName="Slot";const Ht=o.forwardRef((e,t)=>{const{children:r,...n}=e;return o.isValidElement(r)?o.cloneElement(r,{...Ci(n,r.props),ref:Gn(t,r.ref)}):o.Children.count(r)>1?o.Children.only(null):null});Ht.displayName="SlotClone";const Ei=({children:e})=>o.createElement(o.Fragment,null,e);function Si(e){return o.isValidElement(e)&&e.type===Ei}function Ci(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?r[n]=(...c)=>{s==null||s(...c),a==null||a(...c)}:n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}const Di=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],ht=Di.reduce((e,t)=>{const r=o.forwardRef((n,a)=>{const{asChild:s,...i}=n,c=s?or:t;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(c,N({},i,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Pi(e,t){e&&Ir.flushSync(()=>e.dispatchEvent(t))}function ji(e){const t=pe(e);o.useEffect(()=>{const r=n=>{n.key==="Escape"&&t(n)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t])}const Bt="dismissableLayer.update",Ai="dismissableLayer.pointerDownOutside",Ri="dismissableLayer.focusOutside";let Cr;const ki=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ni=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:c,...u}=e,d=o.useContext(ki),[f,p]=o.useState(null),[,m]=o.useState({}),b=Ue(t,w=>p(w)),D=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=D.indexOf(h),x=f?D.indexOf(f):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,P=x>=E,g=_i(w=>{const A=w.target,$=[...d.branches].some(_=>_.contains(A));!P||$||(a==null||a(w),i==null||i(w),w.defaultPrevented||c==null||c())}),S=Oi(w=>{const A=w.target;[...d.branches].some(_=>_.contains(A))||(s==null||s(w),i==null||i(w),w.defaultPrevented||c==null||c())});return ji(w=>{x===d.layers.size-1&&(n==null||n(w),!w.defaultPrevented&&c&&(w.preventDefault(),c()))}),o.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Cr=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Dr(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Cr)}},[f,r,d]),o.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Dr())},[f,d]),o.useEffect(()=>{const w=()=>m({});return document.addEventListener(Bt,w),()=>document.removeEventListener(Bt,w)},[]),o.createElement(ht.div,N({},u,{ref:b,style:{pointerEvents:C?P?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,g.onPointerDownCapture)}))});function _i(e){const t=pe(e),r=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let u=function(){Zn(Ai,t,c,{discrete:!0})};const c={originalEvent:i};i.pointerType==="touch"?(document.removeEventListener("click",n.current),n.current=u,document.addEventListener("click",n.current,{once:!0})):u()}r.current=!1},s=window.setTimeout(()=>{document.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),document.removeEventListener("pointerdown",a),document.removeEventListener("click",n.current)}},[t]),{onPointerDownCapture:()=>r.current=!0}}function Oi(e){const t=pe(e),r=o.useRef(!1);return o.useEffect(()=>{const n=a=>{a.target&&!r.current&&Zn(Ri,t,{originalEvent:a},{discrete:!1})};return document.addEventListener("focusin",n),()=>document.removeEventListener("focusin",n)},[t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dr(){const e=new CustomEvent(Bt);document.dispatchEvent(e)}function Zn(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Pi(a,s):a.dispatchEvent(s)}const jt="focusScope.autoFocusOnMount",At="focusScope.autoFocusOnUnmount",Pr={bubbles:!1,cancelable:!0},Ti=o.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[c,u]=o.useState(null),d=pe(a),f=pe(s),p=o.useRef(null),m=Ue(t,h=>u(h)),b=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(n){let h=function(x){if(b.paused||!c)return;const C=x.target;c.contains(C)?p.current=C:ue(p.current,{select:!0})},E=function(x){b.paused||!c||c.contains(x.relatedTarget)||ue(p.current,{select:!0})};return document.addEventListener("focusin",h),document.addEventListener("focusout",E),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",E)}}},[n,c,b.paused]),o.useEffect(()=>{if(c){Ar.add(b);const h=document.activeElement;if(!c.contains(h)){const x=new CustomEvent(jt,Pr);c.addEventListener(jt,d),c.dispatchEvent(x),x.defaultPrevented||(Mi(Ui(Jn(c)),{select:!0}),document.activeElement===h&&ue(c))}return()=>{c.removeEventListener(jt,d),setTimeout(()=>{const x=new CustomEvent(At,Pr);c.addEventListener(At,f),c.dispatchEvent(x),x.defaultPrevented||ue(h??document.body,{select:!0}),c.removeEventListener(At,f),Ar.remove(b)},0)}}},[c,d,f,b]);const D=o.useCallback(h=>{if(!r&&!n||b.paused)return;const E=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,x=document.activeElement;if(E&&x){const C=h.currentTarget,[P,g]=Fi(C);P&&g?!h.shiftKey&&x===g?(h.preventDefault(),r&&ue(P,{select:!0})):h.shiftKey&&x===P&&(h.preventDefault(),r&&ue(g,{select:!0})):x===C&&h.preventDefault()}},[r,n,b.paused]);return o.createElement(ht.div,N({tabIndex:-1},i,{ref:m,onKeyDown:D}))});function Mi(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ue(n,{select:t}),document.activeElement!==r)return}function Fi(e){const t=Jn(e),r=jr(t,e),n=jr(t.reverse(),e);return[r,n]}function Jn(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jr(e,t){for(const r of e)if(!Li(r,{upTo:t}))return r}function Li(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ii(e){return e instanceof HTMLInputElement&&"select"in e}function ue(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ii(e)&&t&&e.select()}}const Ar=zi();function zi(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Rr(e,t),e.unshift(t)},remove(t){var r;e=Rr(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Rr(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ui(e){return e.filter(t=>t.tagName!=="A")}const Wi=o.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return n?Ao.createPortal(o.createElement(ht.div,N({},a,{ref:t})),n):null});function Hi(e,t){return o.useReducer((r,n)=>{const a=t[r][n];return a??r},e)}const vt=e=>{const{present:t,children:r}=e,n=Bi(t),a=typeof r=="function"?r({present:n.isPresent}):o.Children.only(r),s=Ue(n.ref,a.ref);return typeof r=="function"||n.isPresent?o.cloneElement(a,{ref:s}):null};vt.displayName="Presence";function Bi(e){const[t,r]=o.useState(),n=o.useRef({}),a=o.useRef(e),s=o.useRef("none"),i=e?"mounted":"unmounted",[c,u]=Hi(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=Qe(n.current);s.current=c==="mounted"?d:"none"},[c]),Wt(()=>{const d=n.current,f=a.current;if(f!==e){const m=s.current,b=Qe(d);e?u("MOUNT"):b==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),Wt(()=>{if(t){const d=p=>{const b=Qe(n.current).includes(p.animationName);p.target===t&&b&&Ir.flushSync(()=>u("ANIMATION_END"))},f=p=>{p.target===t&&(s.current=Qe(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Qe(e){return(e==null?void 0:e.animationName)||"none"}let Rt=0;function Yi(){o.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:kr()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:kr()),Rt++,()=>{Rt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Rt--}},[])}function kr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Qn=qo(),kt=function(){},gt=o.forwardRef(function(e,t){var r=o.useRef(null),n=o.useState({onScrollCapture:kt,onWheelCapture:kt,onTouchMoveCapture:kt}),a=n[0],s=n[1],i=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,p=e.shards,m=e.sideCar,b=e.noIsolation,D=e.inert,h=e.allowPinchZoom,E=e.as,x=E===void 0?"div":E,C=Go(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),P=m,g=Zo([r,t]),S=Ee(Ee({},C),a);return o.createElement(o.Fragment,null,f&&o.createElement(P,{sideCar:Qn,removeScrollBar:d,shards:p,noIsolation:b,inert:D,setCallbacks:s,allowPinchZoom:!!h,lockRef:r}),i?o.cloneElement(o.Children.only(c),Ee(Ee({},S),{ref:g})):o.createElement(x,Ee({},S,{className:u,ref:g}),c))});gt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gt.classNames={fullWidth:Jo,zeroRight:Qo};var Yt=!1;if(typeof window<"u")try{var et=Object.defineProperty({},"passive",{get:function(){return Yt=!0,!0}});window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Yt=!1}var we=Yt?{passive:!1}:!1,Ki=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},Vi=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},Nr=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=eo(e,r);if(n){var a=to(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Xi=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qi=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},eo=function(e,t){return e==="v"?Ki(t):Vi(t)},to=function(e,t){return e==="v"?Xi(t):qi(t)},Gi=function(e,t){return e==="h"&&t==="rtl"?-1:1},Zi=function(e,t,r,n,a){var s=Gi(e,window.getComputedStyle(t).direction),i=s*n,c=r.target,u=t.contains(c),d=!1,f=i>0,p=0,m=0;do{var b=to(e,c),D=b[0],h=b[1],E=b[2],x=h-E-s*D;(D||x)&&eo(e,c)&&(p+=x,m+=D),c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&(a&&p===0||!a&&i>p)||!f&&(a&&m===0||!a&&-i>m))&&(d=!0),d},tt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_r=function(e){return[e.deltaX,e.deltaY]},Or=function(e){return e&&"current"in e?e.current:e},Ji=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Qi=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ec=0,$e=[];function tc(e){var t=o.useRef([]),r=o.useRef([0,0]),n=o.useRef(),a=o.useState(ec++)[0],s=o.useState(function(){return ea()})[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=Tt([e.lockRef.current],(e.shards||[]).map(Or),!0).filter(Boolean);return h.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(h,E){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var x=tt(h),C=r.current,P="deltaX"in h?h.deltaX:C[0]-x[0],g="deltaY"in h?h.deltaY:C[1]-x[1],S,w=h.target,A=Math.abs(P)>Math.abs(g)?"h":"v";if("touches"in h&&A==="h"&&w.type==="range")return!1;var $=Nr(A,w);if(!$)return!0;if($?S=A:(S=A==="v"?"h":"v",$=Nr(A,w)),!$)return!1;if(!n.current&&"changedTouches"in h&&(P||g)&&(n.current=S),!S)return!0;var _=n.current||S;return Zi(_,E,h,_==="h"?P:g,!0)},[]),u=o.useCallback(function(h){var E=h;if(!(!$e.length||$e[$e.length-1]!==s)){var x="deltaY"in E?_r(E):tt(E),C=t.current.filter(function(S){return S.name===E.type&&S.target===E.target&&Ji(S.delta,x)})[0];if(C&&C.should){E.preventDefault();return}if(!C){var P=(i.current.shards||[]).map(Or).filter(Boolean).filter(function(S){return S.contains(E.target)}),g=P.length>0?c(E,P[0]):!i.current.noIsolation;g&&E.preventDefault()}}},[]),d=o.useCallback(function(h,E,x,C){var P={name:h,delta:E,target:x,should:C};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(g){return g!==P})},1)},[]),f=o.useCallback(function(h){r.current=tt(h),n.current=void 0},[]),p=o.useCallback(function(h){d(h.type,_r(h),h.target,c(h,e.lockRef.current))},[]),m=o.useCallback(function(h){d(h.type,tt(h),h.target,c(h,e.lockRef.current))},[]);o.useEffect(function(){return $e.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,we),document.addEventListener("touchmove",u,we),document.addEventListener("touchstart",f,we),function(){$e=$e.filter(function(h){return h!==s}),document.removeEventListener("wheel",u,we),document.removeEventListener("touchmove",u,we),document.removeEventListener("touchstart",f,we)}},[]);var b=e.removeScrollBar,D=e.inert;return o.createElement(o.Fragment,null,D?o.createElement(s,{styles:Qi(a)}):null,b?o.createElement(ta,{gapMode:"margin"}):null)}const rc=ra(Qn,tc);var ro=o.forwardRef(function(e,t){return o.createElement(gt,Ee({},e,{ref:t,sideCar:rc}))});ro.classNames=gt.classNames;const nc=ro,no="Dialog",[oo,tl]=gi(no),[oc,me]=oo(no),ac=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,c=o.useRef(null),u=o.useRef(null),[d=!1,f]=wi({prop:n,defaultProp:a,onChange:s});return o.createElement(oc,{scope:t,triggerRef:c,contentRef:u,contentId:Pt(),titleId:Pt(),descriptionId:Pt(),open:d,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(p=>!p),[f]),modal:i},r)},ao="DialogPortal",[sc,so]=oo(ao,{forceMount:void 0}),ic=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=me(ao,t);return o.createElement(sc,{scope:t,forceMount:r},o.Children.map(n,i=>o.createElement(vt,{present:r||s.open},o.createElement(Wi,{asChild:!0,container:a},i))))},Kt="DialogOverlay",cc=o.forwardRef((e,t)=>{const r=so(Kt,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=me(Kt,e.__scopeDialog);return s.modal?o.createElement(vt,{present:n||s.open},o.createElement(lc,N({},a,{ref:t}))):null}),lc=o.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=me(Kt,r);return o.createElement(nc,{as:or,allowPinchZoom:!0,shards:[a.contentRef]},o.createElement(ht.div,N({"data-state":co(a.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),Me="DialogContent",uc=o.forwardRef((e,t)=>{const r=so(Me,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=me(Me,e.__scopeDialog);return o.createElement(vt,{present:n||s.open},s.modal?o.createElement(dc,N({},a,{ref:t})):o.createElement(fc,N({},a,{ref:t})))}),dc=o.forwardRef((e,t)=>{const r=me(Me,e.__scopeDialog),n=o.useRef(null),a=Ue(t,r.contentRef,n);return o.useEffect(()=>{const s=n.current;if(s)return na(s)},[]),o.createElement(io,N({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&s.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,s=>s.preventDefault())}))}),fc=o.forwardRef((e,t)=>{const r=me(Me,e.__scopeDialog),n=o.useRef(!1);return o.createElement(io,N({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,a),!a.defaultPrevented){var i;n.current||(i=r.triggerRef.current)===null||i===void 0||i.focus(),a.preventDefault()}n.current=!1},onInteractOutside:a=>{var s,i;(s=e.onInteractOutside)===null||s===void 0||s.call(e,a),a.defaultPrevented||(n.current=!0);const c=a.target;((i=r.triggerRef.current)===null||i===void 0?void 0:i.contains(c))&&a.preventDefault()}}))}),io=o.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,c=me(Me,r),u=o.useRef(null),d=Ue(t,u);return Yi(),o.createElement(o.Fragment,null,o.createElement(Ti,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s},o.createElement(Ni,N({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":co(c.open)},i,{ref:d,onDismiss:()=>c.onOpenChange(!1)}))),!1)});function co(e){return e?"open":"closed"}const pc=ac,mc=ic,hc=cc,vc=uc;var Tr=1,gc=.9,bc=.3,Nt=.1,yc=0,_t=.999,xc=.9999,wc=.99,Mr=/[\\\/\-_+.# \t"@\[\(\{&]/,$c=/[\\\/\-_+.# \t"@\[\(\{&]/g;function Vt(e,t,r,n,a,s){if(s===t.length)return a===e.length?Tr:wc;for(var i=n.charAt(s),c=r.indexOf(i,a),u=0,d,f,p;c>=0;)d=Vt(e,t,r,n,c+1,s+1),d>u&&(c===a?d*=Tr:Mr.test(e.charAt(c-1))?(d*=gc,p=e.slice(a,c-1).match($c),p&&a>0&&(d*=Math.pow(_t,p.length))):Mr.test(e.slice(a,c-1))?(d*=yc,a>0&&(d*=Math.pow(_t,c-a))):(d*=bc,a>0&&(d*=Math.pow(_t,c-a))),e.charAt(c)!==t.charAt(s)&&(d*=xc)),d<Nt&&r.charAt(c-1)===n.charAt(s+1)&&r.charAt(c-1)!==n.charAt(s)&&(f=Vt(e,t,r,n,c+1,s+2),f*Nt>d&&(d=f*Nt)),d>u&&(u=d),c=r.indexOf(i,c+1);return u}function Ec(e,t){return Vt(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var Sc=Ec;const Cc=Lr(Sc);var Dc='[cmdk-list-sizer=""]',_e='[cmdk-group=""]',Ot='[cmdk-group-items=""]',Pc='[cmdk-group-heading=""]',lo='[cmdk-item=""]',Fr=`${lo}:not([aria-disabled="true"])`,Xt="cmdk-item-select",ie="data-value",jc=(e,t)=>Cc(e,t),uo=o.createContext(void 0),We=()=>o.useContext(uo),fo=o.createContext(void 0),ar=()=>o.useContext(fo),po=o.createContext(void 0),mo=o.forwardRef((e,t)=>{let r=o.useRef(null),n=Se(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),a=Se(()=>new Set),s=Se(()=>new Map),i=Se(()=>new Map),c=Se(()=>new Set),u=ho(e),{label:d,children:f,value:p,onValueChange:m,filter:b,shouldFilter:D,...h}=e,E=o.useId(),x=o.useId(),C=o.useId(),P=Ic();Re(()=>{if(p!==void 0){let v=p.trim().toLowerCase();n.current.value=v,P(6,F),g.emit()}},[p]);let g=o.useMemo(()=>({subscribe:v=>(c.current.add(v),()=>c.current.delete(v)),snapshot:()=>n.current,setState:(v,k,O)=>{var j,L,B;if(!Object.is(n.current[v],k)){if(n.current[v]=k,v==="search")_(),A(),P(1,$);else if(v==="value")if(((j=u.current)==null?void 0:j.value)!==void 0){(B=(L=u.current).onValueChange)==null||B.call(L,k);return}else O||P(5,F);g.emit()}},emit:()=>{c.current.forEach(v=>v())}}),[]),S=o.useMemo(()=>({value:(v,k)=>{k!==i.current.get(v)&&(i.current.set(v,k),n.current.filtered.items.set(v,w(k)),P(2,()=>{A(),g.emit()}))},item:(v,k)=>(a.current.add(v),k&&(s.current.has(k)?s.current.get(k).add(v):s.current.set(k,new Set([v]))),P(3,()=>{_(),A(),n.current.value||$(),g.emit()}),()=>{i.current.delete(v),a.current.delete(v),n.current.filtered.items.delete(v),P(4,()=>{_(),$(),g.emit()})}),group:v=>(s.current.has(v)||s.current.set(v,new Set),()=>{i.current.delete(v),s.current.delete(v)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],listId:E,inputId:C,labelId:x}),[]);function w(v){var k;let O=((k=u.current)==null?void 0:k.filter)??jc;return v?O(v,n.current.search):0}function A(){if(!r.current||!n.current.search||u.current.shouldFilter===!1)return;let v=n.current.filtered.items,k=[];n.current.filtered.groups.forEach(j=>{let L=s.current.get(j),B=0;L.forEach(se=>{let re=v.get(se);B=Math.max(re,B)}),k.push([j,B])});let O=r.current.querySelector(Dc);Q().sort((j,L)=>{let B=j.getAttribute(ie),se=L.getAttribute(ie);return(v.get(se)??0)-(v.get(B)??0)}).forEach(j=>{let L=j.closest(Ot);L?L.appendChild(j.parentElement===L?j:j.closest(`${Ot} > *`)):O.appendChild(j.parentElement===O?j:j.closest(`${Ot} > *`))}),k.sort((j,L)=>L[1]-j[1]).forEach(j=>{let L=r.current.querySelector(`${_e}[${ie}="${j[0]}"]`);L==null||L.parentElement.appendChild(L)})}function $(){let v=Q().find(O=>!O.ariaDisabled),k=v==null?void 0:v.getAttribute(ie);g.setState("value",k||void 0)}function _(){if(!n.current.search||u.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let v=0;for(let k of a.current){let O=i.current.get(k),j=w(O);n.current.filtered.items.set(k,j),j>0&&v++}for(let[k,O]of s.current)for(let j of O)if(n.current.filtered.items.get(j)>0){n.current.filtered.groups.add(k);break}n.current.filtered.count=v}function F(){var v,k,O;let j=K();j&&(((v=j.parentElement)==null?void 0:v.firstChild)===j&&((O=(k=j.closest(_e))==null?void 0:k.querySelector(Pc))==null||O.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function K(){return r.current.querySelector(`${lo}[aria-selected="true"]`)}function Q(){return Array.from(r.current.querySelectorAll(Fr))}function ae(v){let k=Q()[v];k&&g.setState("value",k.getAttribute(ie))}function H(v){var k;let O=K(),j=Q(),L=j.findIndex(se=>se===O),B=j[L+v];(k=u.current)!=null&&k.loop&&(B=L+v<0?j[j.length-1]:L+v===j.length?j[0]:j[L+v]),B&&g.setState("value",B.getAttribute(ie))}function X(v){let k=K(),O=k==null?void 0:k.closest(_e),j;for(;O&&!j;)O=v>0?Fc(O,_e):Lc(O,_e),j=O==null?void 0:O.querySelector(Fr);j?g.setState("value",j.getAttribute(ie)):H(v)}let Be=()=>ae(Q().length-1),ke=v=>{v.preventDefault(),v.metaKey?Be():v.altKey?X(1):H(1)},he=v=>{v.preventDefault(),v.metaKey?ae(0):v.altKey?X(-1):H(-1)};return o.createElement("div",{ref:He([r,t]),...h,"cmdk-root":"",onKeyDown:v=>{var k;if((k=h.onKeyDown)==null||k.call(h,v),!v.defaultPrevented)switch(v.key){case"n":case"j":{v.ctrlKey&&ke(v);break}case"ArrowDown":{ke(v);break}case"p":case"k":{v.ctrlKey&&he(v);break}case"ArrowUp":{he(v);break}case"Home":{v.preventDefault(),ae(0);break}case"End":{v.preventDefault(),Be();break}case"Enter":{v.preventDefault();let O=K();if(O){let j=new Event(Xt);O.dispatchEvent(j)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:zc},d),o.createElement(fo.Provider,{value:g},o.createElement(uo.Provider,{value:S},f)))}),Ac=o.forwardRef((e,t)=>{let r=o.useId(),n=o.useRef(null),a=o.useContext(po),s=We(),i=ho(e);Re(()=>s.item(r,a),[]);let c=vo(r,n,[e.value,e.children,n]),u=ar(),d=Pe(x=>x.value&&x.value===c.current),f=Pe(x=>s.filter()===!1?!0:x.search?x.filtered.items.get(r)>0:!0);o.useEffect(()=>{let x=n.current;if(!(!x||e.disabled))return x.addEventListener(Xt,p),()=>x.removeEventListener(Xt,p)},[f,e.onSelect,e.disabled]);function p(){var x,C;(C=(x=i.current).onSelect)==null||C.call(x,c.current)}function m(){u.setState("value",c.current,!0)}if(!f)return null;let{disabled:b,value:D,onSelect:h,...E}=e;return o.createElement("div",{ref:He([n,t]),...E,"cmdk-item":"",role:"option","aria-disabled":b||void 0,"aria-selected":d||void 0,"data-selected":d||void 0,onPointerMove:b?void 0:m,onClick:b?void 0:p},e.children)}),Rc=o.forwardRef((e,t)=>{let{heading:r,children:n,...a}=e,s=o.useId(),i=o.useRef(null),c=o.useRef(null),u=o.useId(),d=We(),f=Pe(m=>d.filter()===!1?!0:m.search?m.filtered.groups.has(s):!0);Re(()=>d.group(s),[]),vo(s,i,[e.value,e.heading,c]);let p=o.createElement(po.Provider,{value:s},n);return o.createElement("div",{ref:He([i,t]),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&o.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},p))}),kc=o.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=o.useRef(null),s=Pe(i=>!i.search);return!r&&!s?null:o.createElement("div",{ref:He([a,t]),...n,"cmdk-separator":"",role:"separator"})}),Nc=o.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=ar(),i=Pe(u=>u.search),c=We();return o.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),o.createElement("input",{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),_c=o.forwardRef((e,t)=>{let{children:r,...n}=e,a=o.useRef(null),s=o.useRef(null),i=We();return o.useEffect(()=>{if(s.current&&a.current){let c=s.current,u=a.current,d,f=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let p=c.getBoundingClientRect().height;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(d),f.unobserve(c)}}},[]),o.createElement("div",{ref:He([a,t]),...n,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:i.listId,"aria-labelledby":i.inputId},o.createElement("div",{ref:s,"cmdk-list-sizer":""},r))}),Oc=o.forwardRef((e,t)=>{let{open:r,onOpenChange:n,container:a,...s}=e;return o.createElement(pc,{open:r,onOpenChange:n},o.createElement(mc,{container:a},o.createElement(hc,{"cmdk-overlay":""}),o.createElement(vc,{"aria-label":e.label,"cmdk-dialog":""},o.createElement(mo,{ref:t,...s}))))}),Tc=o.forwardRef((e,t)=>{let r=o.useRef(!0),n=Pe(a=>a.filtered.count===0);return o.useEffect(()=>{r.current=!1},[]),r.current||!n?null:o.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Mc=o.forwardRef((e,t)=>{let{progress:r,children:n,...a}=e;return o.createElement("div",{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},o.createElement("div",{"aria-hidden":!0},n))}),q=Object.assign(mo,{List:_c,Item:Ac,Input:Nc,Group:Rc,Separator:kc,Dialog:Oc,Empty:Tc,Loading:Mc});function Fc(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Lc(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function ho(e){let t=o.useRef(e);return Re(()=>{t.current=e}),t}var Re=typeof window>"u"?o.useEffect:o.useLayoutEffect;function Se(e){let t=o.useRef();return t.current===void 0&&(t.current=e()),t}function He(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Pe(e){let t=ar(),r=()=>e(t.snapshot());return o.useSyncExternalStore(t.subscribe,r,r)}function vo(e,t,r){let n=o.useRef(),a=We();return Re(()=>{var s;let i=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim().toLowerCase();if(typeof u=="object"&&"current"in u&&u.current)return(c=u.current.textContent)==null?void 0:c.trim().toLowerCase()}})();a.value(e,i),(s=t.current)==null||s.setAttribute(ie,i),n.current=i}),n}var Ic=()=>{let[e,t]=o.useState(),r=Se(()=>new Map);return Re(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}},zc={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const go=o.forwardRef(({className:e,...t},r)=>l.jsx(q,{ref:r,className:M("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));go.displayName=q.displayName;const Uc=({children:e,...t})=>l.jsx(Le,{...t,children:l.jsx(Ie,{className:"overflow-hidden p-0 shadow-lg",children:l.jsx(go,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),bo=o.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(Qt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(q.Input,{ref:r,className:M("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));bo.displayName=q.Input.displayName;const yo=o.forwardRef(({className:e,...t},r)=>l.jsx(q.List,{ref:r,className:M("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));yo.displayName=q.List.displayName;const xo=o.forwardRef((e,t)=>l.jsx(q.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));xo.displayName=q.Empty.displayName;const wo=o.forwardRef(({className:e,...t},r)=>l.jsx(q.Group,{ref:r,className:M("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));wo.displayName=q.Group.displayName;const Wc=o.forwardRef(({className:e,...t},r)=>l.jsx(q.Separator,{ref:r,className:M("-mx-1 h-px bg-border",e),...t}));Wc.displayName=q.Separator.displayName;const $o=o.forwardRef(({className:e,...t},r)=>l.jsx(q.Item,{ref:r,className:M("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));$o.displayName=q.Item.displayName;const rl=()=>{const{toggle:e,isOpen:t,onClose:r}=yn(),{documents:n}=J().props,a=s=>{W.get(route("documents.show",{id:s})),r()};return o.useEffect(()=>{const s=i=>{i.key==="k"&&(i.metaKey||i.ctrlKey)&&(i.preventDefault(),e())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]),l.jsxs(Uc,{open:t,onOpenChange:r,children:[l.jsx(bo,{placeholder:`Search ${ot}...`}),l.jsxs(yo,{children:[l.jsx(xo,{children:"No Documents Found..."}),l.jsx(wo,{heading:"Documents",children:n.map(({id:s,...i})=>l.jsxs($o,{onSelect:()=>a(s),value:`${s.toString()}-${i.title}`,children:[i.icon?l.jsx("p",{className:"mr-2 text-[1.125rem]",children:i.icon}):l.jsx(Gr,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:i.title})]},s))})]})]})};export{Xr as B,qr as C,el as M,Jc as N,T as P,rl as S,pa as V,Jr as a,ia as b,Va as p,Bs as u};
