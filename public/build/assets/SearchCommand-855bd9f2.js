import{r as o,q as J,j as l,y as I,v as U,g as Mr,f as so,R as io,b as Fr,i as co}from"./index-cea910a0.js";import{c as V,B as tt,t as ct,_ as N,b as De,$ as Me}from"./button-4b89a566.js";import{f as Xt,g as qt,h as Gt,p as lo,q as Zt,i as rt,C as uo,A as fo,s as po,j as mo,k as ho,l as vo,m as go,n as bo,t as yo,v as xo,D as Fe,a as Le,b as lt,c as Lr,o as wo}from"./alert-dialog-67199ee2.js";import{A as nt,M as Eo,S as Ir}from"./Heading-26d044b2.js";import{c as B,$ as So,d as ut,b as ue,g as ce,h as $o}from"./index-3c855d4d.js";import{f as Te,P as Co,a as Do,b as Po,u as jo}from"./useCoverImageModal-b6edd30f.js";import{I as Ur,L as ko}from"./input-981d6733.js";import{c as dt,_ as Pe,l as je,m as Nt,n as dr,X as zr,o as Ro,p as Ao,u as Oo,q as we,r as To,z as No,s as _o,R as Mo,t as Fo,h as Lo}from"./index-29900530.js";const Wr=B("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Io=B("CalendarCheck2",[["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]),Uo=B("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),zo=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Hr=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wo=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ho=B("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Br=B("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Bo=B("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Yr=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Kr=B("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Vr=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Yo=B("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]),Xr=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ko=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jt=B("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Vo=B("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),qr=B("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Xo=B("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;function qo(e){const t=a=>typeof window<"u"?window.matchMedia(a).matches:!1,[r,n]=o.useState(t(e));function s(){n(t(e))}return o.useEffect(()=>{const a=window.matchMedia(e);return s(),a.addListener?a.addListener(s):a.addEventListener("change",s),()=>{a.removeListener?a.removeListener(s):a.removeEventListener("change",s)}},[e]),r}const Go=()=>{const e=J().props.auth.user;return l.jsxs(Xt,{children:[l.jsx(qt,{asChild:!0,children:l.jsxs("div",{role:"button",className:"flex items-center text-sm p-2.5 w-full hover:bg-primary/5",children:[l.jsx("div",{className:" gap-x-1.5 flex items-center max-w-[9.375rem]",children:l.jsx("span",{className:"text-lg text-start font-medium line-clamp-1",children:nt})}),l.jsx(Hr,{className:"ml-2 text-muted-foreground h-4 w-4"})]})}),l.jsxs(Gt,{className:"w-80",align:"start",alignOffset:11,forceMount:!0,children:[l.jsx(lo,{className:"font-normal",children:l.jsx("div",{className:"flex flex-col space-y-1",children:l.jsx("p",{className:"text-sm font-medium leading-none",children:e.name})})}),l.jsx(Zt,{}),l.jsx(rt,{onClick:()=>I.post(route("logout")),children:"Log out"})]})]})},re=({Icon:e,label:t,onClick:r,id:n,documentIcon:s,active:a,expanded:i,isSearch:c,level:u=0,onExpand:d,updateDate:f,isDone:p,iconColor:m})=>{const g=i?Hr:uo,E=w=>{w.stopPropagation(),d==null||d()},h=w=>{w.stopPropagation(),n&&I.post(route("documents.store"),{title:`Koji: ${Te(new Date,"Pp")}`,document_id:n},{onSuccess:()=>{i||d==null||d()},onError:()=>U.error("Something Went Wrong. Please try again....")})},C=w=>{w.stopPropagation(),n&&I.post(route("documents.destroy",{id:n}),{active:a},{preserveState:!0,onSuccess:()=>{U.success("Note Archived")},onError:()=>U.error("Something Went Wrong. Please try again....")})},x=w=>{w.stopPropagation(),n&&I.post(route("documents.update",{id:n}),{is_done:1},{preserveState:!0,onSuccess:()=>{U.success("TODO is Done!")},onError:()=>U.error("Something Went Wrong. Please try again....")})};return l.jsxs("div",{onClick:r,role:"button",style:{paddingLeft:u>0?`${u*.75+.75}rem`:"0.75rem"},className:V("group min-h-[1.688rem] textt-sm py-1  pr-3 w-full hover:bg-primary/5 flex items-center text-muted-foreground font-medium transition "+m,a&&"bg-primary/5 text-primary"),children:[!!n&&l.jsx("div",{role:"button",className:"h-full rounded-sm opacity-70 hover:opacity-100 hover:bg-secondary transition mr-1",onClick:E,children:l.jsx(g,{className:"h-4 w-4 shrink-0 text-muted-foreground/50"})}),s?l.jsx("div",{className:"shrink-0 mr-2 text-[1.125rem]",children:s}):l.jsx(e,{className:V("shrink-0 h-[1.125rem] w-[1.125rem] mr-2 text-muted-foreground "+m,p&&"dark:text-green-400 text-green-500")}),l.jsx("span",{className:V("truncate",p&&"dark:text-green-400 text-green-500"),children:t}),c&&l.jsxs("kbd",{className:"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[0.625rem] text-muted-foreground",children:[l.jsx("span",{className:"text-sm",children:"CTRL"}),"K"]}),!!n&&l.jsxs("div",{className:"ml-auto flex items-center gap-x-1.5",children:[l.jsxs(Xt,{children:[l.jsx(qt,{asChild:!0,onClick:w=>w.stopPropagation(),children:l.jsx("div",{role:"button",className:"opacity-0 group-hover:opacity-100 h-full ml-auto rounded-sm hover:bg-secondary transition",children:l.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})})}),l.jsxs(Gt,{className:"w-60",align:"start",side:"right",forceMount:!0,children:[l.jsxs(rt,{onClick:x,className:"dark:text-green-400 text-green-500",children:[l.jsx(Uo,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Done"})]}),l.jsxs(rt,{onClick:C,children:[l.jsx(Jt,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Delete"})]}),l.jsx(Zt,{}),l.jsxs("div",{className:"text-xs text-muted-foreground p-2",children:["Last Edited: ",Te(f,"PPpp")]})]})]}),l.jsx("div",{role:"button",onClick:h,className:"opacity-0 group-hover:opacity-100 transition h-full ml-auto rounded-sm hover:bg-secondary",children:l.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"})})]})]})},Gr=({parentDocumentId:e,level:t=0,documents:r})=>{const[n,s]=o.useState(!1),{selected_document:a}=J().props,[i,c]=o.useState({}),u=p=>{c(m=>({...m,[p]:!m[p]}))},d=p=>{I.get(route("documents.show",{id:p}),{},{preserveScroll:!0,preserveState:!1,onFinish:()=>{}})},f=o.useMemo(()=>n?r==null?void 0:r.filter(p=>p.is_done===1):r,[r,n]);return l.jsxs(l.Fragment,{children:[l.jsx("p",{style:{paddingLeft:t>0?`${t*.75+1.563}rem`:void 0},className:V("px-4 py-2 hidden text-sm font-medium text-muted-foreground/80",i&&"last:block",t===0&&"hidden"),children:"No Pages Inside..."}),f==null?void 0:f.map(({id:p,...m})=>l.jsxs("div",{children:[l.jsx(re,{isDone:m.is_done===1,id:p,onClick:()=>d(p),label:m.title,Icon:m.is_done?zo:Br,documentIcon:m.icon,active:(a==null?void 0:a.id)===p,level:t,onExpand:()=>u(p),expanded:i[p],updateDate:new Date(m.updated_at)}),i[p]&&l.jsx(Gr,{parentDocumentId:p,level:t+1,documents:m.documents})]},p))]})},Zr=({children:e,onConfirm:t})=>{const r=n=>{n.stopPropagation(),t()};return l.jsxs(fo,{children:[l.jsx(po,{onClick:n=>n.stopPropagation(),asChild:!0,children:e}),l.jsxs(mo,{children:[l.jsxs(ho,{children:[l.jsx(vo,{children:"Are you absolutely sure?"}),l.jsx(go,{children:"This action cannot be undone. This will permanently delete the Koji and remove the data from the servers."})]}),l.jsxs(bo,{children:[l.jsx(yo,{onClick:n=>n.stopPropagation(),children:"Cancel"}),l.jsx(xo,{onClick:r,children:"Delete"})]})]})]})},Zo=()=>{const{selected_document:e}=J().props,{archives:t}=J().props,[r,n]=o.useState(""),s=o.useMemo(()=>t.filter(({title:u})=>u.toLocaleLowerCase().includes(r.toLocaleLowerCase())),[r,t]),a=u=>I.get(route("documents.show",{id:u})),i=(u,d)=>{u.stopPropagation(),I.post(route("documents.restore",{id:d}),{},{onSuccess:()=>U.success("Restore successfull"),onError:()=>U.error("Something Went Wrong. Please try again...")})},c=u=>{I.post(route("documents.permanent_destroy",{id:u}),{active:(e==null?void 0:e.id)===u},{onSuccess:()=>{U.success("Document Permanently Deleted")},onError:()=>U.error("Something Went Wrong. Please try again...")})};return l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"flex items-center gap-x-1 p-1.5",children:[l.jsx(Xr,{className:"h-4 w-4"}),l.jsx(Ur,{value:r,onChange:({target:u})=>n(u.value),className:"h-7 px-1.5 bg-secondary",placeholder:"Filter by Title..."})]}),l.jsxs("div",{className:"mt-2 px-1 pb-1",children:[l.jsx("p",{className:"hidden last:block text-xs text-center pb-2 text-muted-foreground",children:"No Documents Found..."}),s.map(({id:u,...d})=>l.jsxs("div",{role:"button",onClick:()=>a(u),className:"text-sm rounded-sm w-full hover:bg-primary/5 flex items-center text-primary justify-between",children:[l.jsx("span",{className:"truncate pl-2",children:d.title}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"rounded-sm p-2 hover:bg-primary/20",role:"button",onClick:f=>i(f,u),children:l.jsx(Vo,{className:"h-4 w-4 text-muted-foreground"})}),l.jsx(Zr,{onConfirm:()=>c(u),children:l.jsx("div",{role:"button",className:"rounded-sm p-2 hover:bg-primary/20",children:l.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})})})]})]},u))]})]})},Jr=dt((e,t)=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1}),toggle:()=>e({isOpen:!t().isOpen})})),Qr=dt(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})})),en=dt(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})})),Jo=({initialData:e})=>{const{id:t}=e,[r,n]=o.useState(!1),[s,a]=o.useState(e.title),i=o.useRef(null),c=()=>{a(e.title),n(!0),setTimeout(()=>{var p,m;(p=i.current)==null||p.focus(),(m=i.current)==null||m.setSelectionRange(0,i.current.value.length)},0)},u=()=>n(!1),d=p=>{a(p.target.value),I.post(route("documents.update",{id:t}),{title:p.target.value||`Koji: ${Te(new Date,"Pp")}`},{preserveState:!0})},f=p=>{p.key==="Enter"&&u()};return l.jsxs("div",{className:"flex items-center gap-x-1",children:[!!e.icon&&l.jsx("p",{children:e.icon}),r?l.jsx(Ur,{onClick:c,onBlur:u,onKeyDown:f,onChange:d,ref:i,value:s,className:"h-7 px-2 "}):l.jsx(tt,{onClick:c,variant:"ghost",size:"sm",className:"font-normal h-auto p-1",children:l.jsx("span",{className:"truncate",children:e.title})})]})},Qo=({id:e})=>{const t=()=>{I.post(route("documents.restore",{id:e}),{},{onSuccess:()=>U.success("Restore successfull"),onError:()=>U.error("Something Went Wrong. Please try again...")})},r=()=>{I.post(route("documents.permanent_destroy",{id:e}),{active:!0},{onSuccess:()=>{U.success("Document Permanently Deleted")},onError:()=>U.error("Something Went Wrong. Please try again...")})};return l.jsxs("div",{className:"w-full bg-rose-500 text-center text-sm p-2 text-white flex items-center gap-x-2 justify-center",children:[l.jsx("p",{children:"This Page has been Archived"}),l.jsx(tt,{size:"sm",onClick:t,variant:"outline",className:"border-white bg-transparent hover:bg-primary/5 text-white hover:text-white py-1 px-2 h-auto font-normal",children:"Restore Koji"}),l.jsx(Zr,{onConfirm:r,children:l.jsx(tt,{size:"sm",variant:"outline",className:"border-white bg-transparent hover:bg-primary/5 text-white hover:text-white py-1 px-2 h-auto font-normal",children:"Delete Permanently"})})]})},ea=({id:e,updateDate:t})=>{const r=()=>{I.post(route("documents.destroy",{id:e}),{active:!0},{preserveState:!0,onSuccess:()=>{U.success("Note Archived")},onError:()=>U.error("Something Went Wrong. Please try again....")})};return l.jsxs(Xt,{children:[l.jsx(qt,{asChild:!0,children:l.jsx(tt,{size:"sm",variant:"ghost",children:l.jsx(Kr,{className:"h-4 w-4"})})}),l.jsxs(Gt,{className:"w-60",align:"end",alignOffset:8,forceMount:!0,children:[l.jsxs(rt,{onClick:r,children:[l.jsx(Jt,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Archive"})]}),l.jsx(Zt,{}),l.jsxs("div",{className:"text-xs text-muted-foreground p-2",children:["Last Edited: ",Te(t,"PPpp")]})]})]})},ta=({isCollapsed:e,onResetWidth:t})=>{const{selected_document:r}=J().props;return r?l.jsxs(l.Fragment,{children:[l.jsxs("nav",{className:"bg-background dark:bg-background/90 px-2.5 py-1.5 w-full flex items-center gap-x-3.5",children:[e&&l.jsx(Yr,{role:"button",onClick:t,className:"w-6 h-6 text-muted-foreground"}),l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx(Jo,{initialData:r}),l.jsx("div",{className:"flex items-center gap-x-2",children:l.jsx(ea,{updateDate:new Date(r.updated_at),id:r.id})})]})]}),r.is_archived===1&&l.jsx(Qo,{id:r.id})]}):null},dc=()=>{const{selected_document:e}=J().props,{documents:t}=J().props;J().props.auth.user;const r=qo("(max-width: 768px)"),n=o.useRef(!1),s=o.useRef(null),a=o.useRef(null),[i,c]=o.useState(!1),[u,d]=o.useState(r);Jr();const{onOpen:f}=Qr(),{onOpen:p}=en(),m=w=>{w.preventDefault(),w.stopPropagation(),n.current=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",E)},g=w=>{if(!n.current)return;let S=w.clientX;S<240&&(S=240),S>480&&(S=480),s.current&&a.current&&(s.current.style.width=`${S}px`,a.current.style.setProperty("left",`${S}px`),a.current.style.setProperty("width",`calc(100% - ${S})px`))},E=()=>{n.current=!1,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",E)},h=()=>{s.current&&a.current&&(c(!0),d(!1),s.current.style.width=r?"100%":"15rem",a.current.style.setProperty("width",r?"0":"calc(100% - 15rem)"),a.current.style.setProperty("left",r?"100%":"15rem"),setTimeout(()=>c(!1),300))},C=()=>{s.current&&a.current&&(d(!0),c(!0),s.current.style.width="0px",a.current.style.setProperty("width","100%"),a.current.style.setProperty("left","0"),setTimeout(()=>c(!1),300))};o.useEffect(()=>{r?C():h()},[r]);const x=()=>{I.post(route("documents.store"),{title:`Koji: ${Te(new Date,"Pp")}`},{preserveScroll:!0,preserveState:!1,onError:()=>U.error("Something Went Wrong. Please try again....")})};return l.jsxs(l.Fragment,{children:[l.jsxs("aside",{ref:s,className:V("group/sidebar max-h-screen overflow-hidden h-full bg-gradient-to-b from-[#DDEDEA] via-[#DAEAFF] to-[#E8DFF5] overflow-y-auto relative flex flex-col w-60 z-[100000] ",i&&"transition-all ease-in-out duration-300",r&&"w-0"),children:[l.jsx("div",{onClick:C,role:"button",className:V("h-6 w-6 text-muted-foreground rounded-sm hover:text-primary absolute top-3 right-2 opacity-0 group-hover/sidebar:opacity-100 transition ",r&&"opacity-100"),children:l.jsx(Wo,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx(Go,{}),l.jsx(re,{onClick:()=>I.get(route("dashboard.index")),label:"Dashboard",Icon:Bo,iconColor:""}),l.jsx(re,{onClick:()=>I.get(route("mood.index")),label:"Mood Calendar",Icon:Io}),l.jsx(re,{onClick:()=>I.get(route("tasks.index")),label:"Task Manager",Icon:Ho}),l.jsx(re,{onClick:f,label:"Settings",Icon:Ko}),l.jsx("div",{className:"border-b border-b-[#e3e3e3] my-2"}),l.jsx(re,{onClick:()=>I.get(route("videos.index")),label:"Videos",Icon:Xo}),l.jsx(re,{onClick:p,label:"Chatbot",Icon:Wr}),l.jsx("div",{className:"border-b border-b-[#e3e3e3] my-2"}),l.jsx("div",{className:"px-3 pt-3 pb-2 text-primary dark:text-[#E8DFF5]",children:"Gratitude Journal"})]}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"h-auto",children:[l.jsxs(Co,{children:[l.jsx(Do,{className:"w-full",children:l.jsx(re,{label:"Archives",Icon:Yo})}),l.jsx(Po,{className:"p-0 w-72",side:r?"bottom":"right",children:l.jsx(Zo,{})})]}),l.jsx(re,{onClick:x,Icon:Vr,label:"Add a Koji"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsx(Gr,{documents:t})})]}),l.jsx("div",{onMouseDown:m,onClick:h,className:"hopacity-0 hover:opacity-100 transition cursor-ew-resize absolute h-full w-1 bg-gradient-to-b from-pink-300 via-purple-300 to-indigo-400 right-0 top-0"})]}),l.jsx("div",{ref:a,className:V("absolute top-0 z-[100000] left-60 w-[calc(100%-15rem)]",i&&"transition-all ease-in-out duration-300",r&&"left-0 w-full"),children:e!=null&&e.id?l.jsx(ta,{isCollapsed:u,onResetWidth:h}):l.jsx("nav",{className:"bg-transparent px-3 py-2 w-full",children:u&&l.jsx(Yr,{onClick:h,className:"h-6 w-6 text-muted-foreground",role:"button"})})})]})},ra=()=>{const{isOpen:e,onClose:t}=Qr();return l.jsx(Fe,{open:e,onOpenChange:t,children:l.jsxs(Le,{children:[l.jsx(lt,{children:l.jsx(Lr,{className:"border-b pb-2.5",children:l.jsxs("span",{className:"text-lg font-medium",children:[nt," Settings"]})})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex flex-col gap-y-1",children:[l.jsx(ko,{children:"Appearance"}),l.jsxs("span",{className:"text-[0.8rem] text-muted-foreground",children:["Customize ",nt," Theme"]})]}),l.jsx(Eo,{})]})]})})};var tn={exports:{}},na="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oa=na,aa=oa;function rn(){}function nn(){}nn.resetWarningCache=rn;var sa=function(){function e(n,s,a,i,c,u){if(u!==aa){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nn,resetWarningCache:rn};return r.PropTypes=r,r};tn.exports=sa();var ia=tn.exports;const M=Mr(ia);var ca=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ie(e,t){var r=la(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function la(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),s=ca.get(n);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var ua=[".DS_Store","Thumbs.db"];function da(e){return Pe(this,void 0,void 0,function(){return je(this,function(t){return ot(e)&&fa(e.dataTransfer)?[2,va(e.dataTransfer,e.type)]:pa(e)?[2,ma(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,ha(e)]:[2,[]]})})}function fa(e){return ot(e)}function pa(e){return ot(e)&&ot(e.target)}function ot(e){return typeof e=="object"&&e!==null}function ma(e){return _t(e.target.files).map(function(t){return Ie(t)})}function ha(e){return Pe(this,void 0,void 0,function(){var t;return je(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return Ie(n)})]}})})}function va(e,t){return Pe(this,void 0,void 0,function(){var r,n;return je(this,function(s){switch(s.label){case 0:return e.items?(r=_t(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(ga))]):[3,2];case 1:return n=s.sent(),[2,fr(on(n))];case 2:return[2,fr(_t(e.files).map(function(a){return Ie(a)}))]}})})}function fr(e){return e.filter(function(t){return ua.indexOf(t.name)===-1})}function _t(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function ga(e){if(typeof e.webkitGetAsEntry!="function")return pr(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?an(t):pr(e)}function on(e){return e.reduce(function(t,r){return Nt(Nt([],dr(t),!1),dr(Array.isArray(r)?on(r):[r]),!1)},[])}function pr(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Ie(t);return Promise.resolve(r)}function ba(e){return Pe(this,void 0,void 0,function(){return je(this,function(t){return[2,e.isDirectory?an(e):ya(e)]})})}function an(e){var t=e.createReader();return new Promise(function(r,n){var s=[];function a(){var i=this;t.readEntries(function(c){return Pe(i,void 0,void 0,function(){var u,d,f;return je(this,function(p){switch(p.label){case 0:if(c.length)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return u=p.sent(),r(u),[3,4];case 3:return d=p.sent(),n(d),[3,4];case 4:return[3,6];case 5:f=Promise.all(c.map(ba)),s.push(f),a(),p.label=6;case 6:return[2]}})})},function(c){n(c)})}a()})}function ya(e){return Pe(this,void 0,void 0,function(){return je(this,function(t){return[2,new Promise(function(r,n){e.file(function(s){var a=Ie(s,e.fullPath);r(a)},function(s){n(s)})})]})})}var xa=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return r.some(function(i){var c=i.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?a===c.replace(/\/.*$/,""):s===c})}return!0};function mr(e){return Sa(e)||Ea(e)||cn(e)||wa()}function wa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ea(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sa(e){if(Array.isArray(e))return Mt(e)}function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hr(Object(r),!0).forEach(function(n){sn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t){return Da(e)||Ca(e,t)||cn(e,t)||$a()}function $a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(e,t){if(e){if(typeof e=="string")return Mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mt(e,t)}}function Mt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ca(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,a=!1,i,c;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));s=!0);}catch(u){a=!0,c=u}finally{try{!s&&r.return!=null&&r.return()}finally{if(a)throw c}}return n}}function Da(e){if(Array.isArray(e))return e}var Pa="file-invalid-type",ja="file-too-large",ka="file-too-small",Ra="too-many-files",Aa=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Pa,message:"File type must be ".concat(r)}},gr=function(t){return{code:ja,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},br=function(t){return{code:ka,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Oa={code:Ra,message:"Too many files"};function ln(e,t){var r=e.type==="application/x-moz-file"||xa(e,t);return[r,r?null:Aa(t)]}function un(e,t,r){if(le(e.size))if(le(t)&&le(r)){if(e.size>r)return[!1,gr(r)];if(e.size<t)return[!1,br(t)]}else{if(le(t)&&e.size<t)return[!1,br(t)];if(le(r)&&e.size>r)return[!1,gr(r)]}return[!0,null]}function le(e){return e!=null}function Ta(e){var t=e.files,r=e.accept,n=e.minSize,s=e.maxSize,a=e.multiple,i=e.maxFiles,c=e.validator;return!a&&t.length>1||a&&i>=1&&t.length>i?!1:t.every(function(u){var d=ln(u,r),f=Ne(d,1),p=f[0],m=un(u,n,s),g=Ne(m,1),E=g[0],h=c?c(u):null;return p&&E&&!h})}function at(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function qe(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function yr(e){e.preventDefault()}function Na(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function _a(e){return e.indexOf("Edge/")!==-1}function Ma(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Na(e)||_a(e)}function ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return t.some(function(c){return!at(n)&&c&&c.apply(void 0,[n].concat(a)),at(n)})}}function Fa(){return"showOpenFilePicker"in window}function La(e){if(le(e)){var t=Object.entries(e).filter(function(r){var n=Ne(r,2),s=n[0],a=n[1],i=!0;return dn(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(a)||!a.every(fn))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(r,n){var s=Ne(n,2),a=s[0],i=s[1];return vr(vr({},r),{},sn({},a,i))},{});return[{description:"Files",accept:t}]}return e}function Ia(e){if(le(e))return Object.entries(e).reduce(function(t,r){var n=Ne(r,2),s=n[0],a=n[1];return[].concat(mr(t),[s],mr(a))},[]).filter(function(t){return dn(t)||fn(t)}).join(",")}function Ua(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function za(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function dn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function fn(e){return/^.*\.[\w]+$/.test(e)}var Wa=["children"],Ha=["open"],Ba=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ya=["refKey","onChange","onClick"];function Ka(e){return qa(e)||Xa(e)||pn(e)||Va()}function Va(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xa(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qa(e){if(Array.isArray(e))return Ft(e)}function Ct(e,t){return Ja(e)||Za(e,t)||pn(e,t)||Ga()}function Ga(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pn(e,t){if(e){if(typeof e=="string")return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ft(e,t)}}function Ft(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Za(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],s=!0,a=!1,i,c;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));s=!0);}catch(u){a=!0,c=u}finally{try{!s&&r.return!=null&&r.return()}finally{if(a)throw c}}return n}}function Ja(e){if(Array.isArray(e))return e}function xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xr(Object(r),!0).forEach(function(n){Lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e,t){if(e==null)return{};var r=Qa(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qa(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var Qt=o.forwardRef(function(e,t){var r=e.children,n=st(e,Wa),s=er(n),a=s.open,i=st(s,Ha);return o.useImperativeHandle(t,function(){return{open:a}},[a]),so.createElement(o.Fragment,null,r(L(L({},i),{},{open:a})))});Qt.displayName="Dropzone";var mn={disabled:!1,getFilesFromEvent:da,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Qt.defaultProps=mn;Qt.propTypes={children:M.func,accept:M.objectOf(M.arrayOf(M.string)),multiple:M.bool,preventDropOnDocument:M.bool,noClick:M.bool,noKeyboard:M.bool,noDrag:M.bool,noDragEventsBubbling:M.bool,minSize:M.number,maxSize:M.number,maxFiles:M.number,disabled:M.bool,getFilesFromEvent:M.func,onFileDialogCancel:M.func,onFileDialogOpen:M.func,useFsAccessApi:M.bool,autoFocus:M.bool,onDragEnter:M.func,onDragLeave:M.func,onDragOver:M.func,onDrop:M.func,onDropAccepted:M.func,onDropRejected:M.func,onError:M.func,validator:M.func};var It={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function er(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=L(L({},mn),e),r=t.accept,n=t.disabled,s=t.getFilesFromEvent,a=t.maxSize,i=t.minSize,c=t.multiple,u=t.maxFiles,d=t.onDragEnter,f=t.onDragLeave,p=t.onDragOver,m=t.onDrop,g=t.onDropAccepted,E=t.onDropRejected,h=t.onFileDialogCancel,C=t.onFileDialogOpen,x=t.useFsAccessApi,w=t.autoFocus,S=t.preventDropOnDocument,R=t.noClick,y=t.noKeyboard,$=t.noDrag,P=t.noDragEventsBubbling,O=t.onError,D=t.validator,A=o.useMemo(function(){return Ia(r)},[r]),Y=o.useMemo(function(){return La(r)},[r]),q=o.useMemo(function(){return typeof C=="function"?C:wr},[C]),oe=o.useMemo(function(){return typeof h=="function"?h:wr},[h]),W=o.useRef(null),X=o.useRef(null),He=o.useReducer(es,It),Re=Ct(He,2),pe=Re[0],v=Re[1],T=pe.isFocused,_=pe.isFileDialogActive,j=o.useRef(typeof window<"u"&&window.isSecureContext&&x&&Fa()),F=function(){!j.current&&_&&setTimeout(function(){if(X.current){var k=X.current.files;k.length||(v({type:"closeDialog"}),oe())}},300)};o.useEffect(function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}},[X,_,oe,j]);var H=o.useRef([]),ae=function(k){W.current&&W.current.contains(k.target)||(k.preventDefault(),H.current=[])};o.useEffect(function(){return S&&(document.addEventListener("dragover",yr,!1),document.addEventListener("drop",ae,!1)),function(){S&&(document.removeEventListener("dragover",yr),document.removeEventListener("drop",ae))}},[W,S]),o.useEffect(function(){return!n&&w&&W.current&&W.current.focus(),function(){}},[W,w,n]);var te=o.useCallback(function(b){O?O(b):console.error(b)},[O]),or=o.useCallback(function(b){b.preventDefault(),b.persist(),Ve(b),H.current=[].concat(Ka(H.current),[b.target]),qe(b)&&Promise.resolve(s(b)).then(function(k){if(!(at(b)&&!P)){var z=k.length,K=z>0&&Ta({files:k,accept:A,minSize:i,maxSize:a,multiple:c,maxFiles:u,validator:D}),Z=z>0&&!K;v({isDragAccept:K,isDragReject:Z,isDragActive:!0,type:"setDraggedFiles"}),d&&d(b)}}).catch(function(k){return te(k)})},[s,d,te,P,A,i,a,c,u,D]),ar=o.useCallback(function(b){b.preventDefault(),b.persist(),Ve(b);var k=qe(b);if(k&&b.dataTransfer)try{b.dataTransfer.dropEffect="copy"}catch{}return k&&p&&p(b),!1},[p,P]),sr=o.useCallback(function(b){b.preventDefault(),b.persist(),Ve(b);var k=H.current.filter(function(K){return W.current&&W.current.contains(K)}),z=k.indexOf(b.target);z!==-1&&k.splice(z,1),H.current=k,!(k.length>0)&&(v({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),qe(b)&&f&&f(b))},[W,f,P]),Be=o.useCallback(function(b,k){var z=[],K=[];b.forEach(function(Z){var Ae=ln(Z,A),ve=Ct(Ae,2),bt=ve[0],yt=ve[1],xt=un(Z,i,a),Xe=Ct(xt,2),wt=Xe[0],Et=Xe[1],St=D?D(Z):null;if(bt&&wt&&!St)z.push(Z);else{var $t=[yt,Et];St&&($t=$t.concat(St)),K.push({file:Z,errors:$t.filter(function(ao){return ao})})}}),(!c&&z.length>1||c&&u>=1&&z.length>u)&&(z.forEach(function(Z){K.push({file:Z,errors:[Oa]})}),z.splice(0)),v({acceptedFiles:z,fileRejections:K,type:"setFiles"}),m&&m(z,K,k),K.length>0&&E&&E(K,k),z.length>0&&g&&g(z,k)},[v,c,A,i,a,u,m,g,E,D]),Ye=o.useCallback(function(b){b.preventDefault(),b.persist(),Ve(b),H.current=[],qe(b)&&Promise.resolve(s(b)).then(function(k){at(b)&&!P||Be(k,b)}).catch(function(k){return te(k)}),v({type:"reset"})},[s,Be,te,P]),me=o.useCallback(function(){if(j.current){v({type:"openDialog"}),q();var b={multiple:c,types:Y};window.showOpenFilePicker(b).then(function(k){return s(k)}).then(function(k){Be(k,null),v({type:"closeDialog"})}).catch(function(k){Ua(k)?(oe(k),v({type:"closeDialog"})):za(k)?(j.current=!1,X.current?(X.current.value=null,X.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(k)});return}X.current&&(v({type:"openDialog"}),q(),X.current.value=null,X.current.click())},[v,q,oe,x,Be,te,Y,c]),ir=o.useCallback(function(b){!W.current||!W.current.isEqualNode(b.target)||(b.key===" "||b.key==="Enter"||b.keyCode===32||b.keyCode===13)&&(b.preventDefault(),me())},[W,me]),cr=o.useCallback(function(){v({type:"focus"})},[]),lr=o.useCallback(function(){v({type:"blur"})},[]),ur=o.useCallback(function(){R||(Ma()?setTimeout(me,0):me())},[R,me]),he=function(k){return n?null:k},gt=function(k){return y?null:he(k)},Ke=function(k){return $?null:he(k)},Ve=function(k){P&&k.stopPropagation()},ro=o.useMemo(function(){return function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=b.refKey,z=k===void 0?"ref":k,K=b.role,Z=b.onKeyDown,Ae=b.onFocus,ve=b.onBlur,bt=b.onClick,yt=b.onDragEnter,xt=b.onDragOver,Xe=b.onDragLeave,wt=b.onDrop,Et=st(b,Ba);return L(L(Lt({onKeyDown:gt(ee(Z,ir)),onFocus:gt(ee(Ae,cr)),onBlur:gt(ee(ve,lr)),onClick:he(ee(bt,ur)),onDragEnter:Ke(ee(yt,or)),onDragOver:Ke(ee(xt,ar)),onDragLeave:Ke(ee(Xe,sr)),onDrop:Ke(ee(wt,Ye)),role:typeof K=="string"&&K!==""?K:"presentation"},z,W),!n&&!y?{tabIndex:0}:{}),Et)}},[W,ir,cr,lr,ur,or,ar,sr,Ye,y,$,n]),no=o.useCallback(function(b){b.stopPropagation()},[]),oo=o.useMemo(function(){return function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=b.refKey,z=k===void 0?"ref":k,K=b.onChange,Z=b.onClick,Ae=st(b,Ya),ve=Lt({accept:A,multiple:c,type:"file",style:{display:"none"},onChange:he(ee(K,Ye)),onClick:he(ee(Z,no)),tabIndex:-1},z,X);return L(L({},ve),Ae)}},[X,r,c,Ye,n]);return L(L({},pe),{},{isFocused:T&&!n,getRootProps:ro,getInputProps:oo,rootRef:W,inputRef:X,open:he(me)})}function es(e,t){switch(t.type){case"focus":return L(L({},e),{},{isFocused:!0});case"blur":return L(L({},e),{},{isFocused:!1});case"openDialog":return L(L({},It),{},{isFileDialogActive:!0});case"closeDialog":return L(L({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return L(L({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return L(L({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return L({},It);default:return e}}function wr(){}const ge={base:"relative rounded-md flex justify-center items-center flex-col cursor-pointer min-h-[150px] min-w-[200px] border border-dashed border-gray-400 dark:border-gray-300 transition-colors duration-200 ease-in-out",image:"border-0 p-0 min-h-0 min-w-0 relative shadow-md bg-slate-200 dark:bg-slate-900 rounded-md",active:"border-2",disabled:"bg-gray-200 border-gray-300 cursor-default pointer-events-none bg-opacity-30 dark:bg-gray-700",accept:"border border-blue-500 bg-blue-500 bg-opacity-10",reject:"border border-red-700 bg-red-700 bg-opacity-10"},Ge={fileTooLarge(e){return`The file is too large. Max size is ${rs(e)}.`},fileInvalidType(){return"Invalid file type."},tooManyFiles(e){return`You can only add ${e} file(s).`},fileNotSupported(){return"The file is not supported."}},hn=o.forwardRef(({dropzoneOptions:e,width:t,height:r,value:n,className:s,disabled:a,onChange:i},c)=>{var w;const u=o.useMemo(()=>typeof n=="string"?n:n?URL.createObjectURL(n):null,[n]),{getRootProps:d,getInputProps:f,acceptedFiles:p,fileRejections:m,isFocused:g,isDragAccept:E,isDragReject:h}=er({accept:{"image/*":[]},multiple:!1,disabled:a,onDrop:S=>{const R=S[0];R&&(i==null||i(R))},...e}),C=o.useMemo(()=>ct(ge.base,g&&ge.active,a&&ge.disabled,u&&ge.image,(h??m[0])&&ge.reject,E&&ge.accept,s).trim(),[g,u,m,E,h,a,s]),x=o.useMemo(()=>{var S,R,y;if(m[0]){const{errors:$}=m[0];return((S=$[0])==null?void 0:S.code)==="file-too-large"?Ge.fileTooLarge((e==null?void 0:e.maxSize)??0):((R=$[0])==null?void 0:R.code)==="file-invalid-type"?Ge.fileInvalidType():((y=$[0])==null?void 0:y.code)==="too-many-files"?Ge.tooManyFiles((e==null?void 0:e.maxFiles)??0):Ge.fileNotSupported()}},[m,e]);return l.jsxs("div",{className:"relative",children:[a&&l.jsx("div",{className:"flex items-center justify-center absolute inset-y-0 w-full bg-background/80 z-50",children:l.jsx(Ir,{size:"lg"})}),l.jsxs("div",{...d({className:C,style:{width:t,height:r}}),children:[l.jsx("input",{ref:c,...f()}),u?l.jsx("img",{className:"h-full w-full rounded-md object-cover",src:u,alt:(w=p[0])==null?void 0:w.name}):l.jsxs("div",{className:"flex flex-col items-center justify-center text-xs text-gray-400",children:[l.jsx(qr,{className:"mb-2 h-7 w-7"}),l.jsx("div",{className:"text-gray-400",children:"Click or Drag n' Drop Image"})]}),u&&!a&&l.jsx("div",{className:"group absolute right-0 top-0 -translate-y-1/4 translate-x-1/4 transform",onClick:S=>{S.stopPropagation(),i==null||i(void 0)},children:l.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md border border-solid border-gray-500 bg-white transition-all duration-300 hover:h-6 hover:w-6 dark:border-gray-400 dark:bg-black",children:l.jsx(zr,{className:"text-gray-500 dark:text-gray-400",width:16,height:16})})})]}),l.jsx("div",{className:"mt-1 text-xs text-red-500",children:x})]})});hn.displayName="SingleImageDropzone";const ts=o.forwardRef(({className:e,...t},r)=>l.jsx("button",{className:ct("focus-visible:ring-ring inline-flex cursor-pointer items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50","border border-gray-400 text-gray-400 shadow hover:bg-gray-100 hover:text-gray-500 dark:border-gray-600 dark:text-gray-100 dark:hover:bg-gray-700","h-6 rounded-md px-2 text-xs",e),ref:r,...t}));ts.displayName="Button";function rs(e){if(!e||(e=Number(e),e===0))return"0 Bytes";const t=1024,r=2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,s)).toFixed(r))} ${n[s]}`}const ns=()=>{const{isOpen:e,onClose:t}=jo(),[r,n]=o.useState(),[s,a]=o.useState(!1),{selected_document:i}=J().props,c=u=>{if(!i||!u)return;const{id:d}=i;a(!0),n(u),I.post(route("documents.update",{id:d}),{cover_image:u},{onSuccess:()=>{U.success("Cover Image Set"),n(void 0),t()},onError:()=>U.error("Something Went Wrong. Please try again...."),onFinish:()=>a(!1)})};return l.jsx(Fe,{open:e,onOpenChange:t,children:l.jsxs(Le,{children:[l.jsx(lt,{children:l.jsx("h2",{className:"text-center text-lg font-semibold",children:"Cover Image"})}),l.jsx("div",{children:l.jsx(hn,{className:"w-full",disabled:s,value:r,onChange:c})})]})})},os=dt(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})})),be={base:"relative rounded-md flex justify-center items-center flex-col cursor-pointer min-h-[150px] min-w-[200px] border border-dashed border-gray-400 dark:border-gray-300 transition-colors duration-200 ease-in-out",video:"border-0 p-0 min-h-0 min-w-0 relative shadow-md bg-slate-200 dark:bg-slate-900 rounded-md",active:"border-2",disabled:"bg-gray-200 border-gray-300 cursor-default pointer-events-none bg-opacity-30 dark:bg-gray-700",accept:"border border-blue-500 bg-blue-500 bg-opacity-10",reject:"border border-red-700 bg-red-700 bg-opacity-10"},Ze={fileTooLarge(e){return`The file is too large. Max size is ${ss(e)}.`},fileInvalidType(){return"Invalid file type."},tooManyFiles(e){return`You can only add ${e} file(s).`},fileNotSupported(){return"The file is not supported."}},vn=o.forwardRef(({dropzoneOptions:e,width:t,height:r,value:n,className:s,disabled:a,onChange:i},c)=>{const u=o.useMemo(()=>typeof n=="string"?n:n?URL.createObjectURL(n):null,[n]),{getRootProps:d,getInputProps:f,acceptedFiles:p,fileRejections:m,isFocused:g,isDragAccept:E,isDragReject:h}=er({accept:{"video/mp4":[]},multiple:!1,disabled:a,onDrop:w=>{const S=w[0];S&&(i==null||i(S))},...e}),C=o.useMemo(()=>ct(be.base,g&&be.active,a&&be.disabled,u&&be.video,(h??m[0])&&be.reject,E&&be.accept,s).trim(),[g,u,m,E,h,a,s]),x=o.useMemo(()=>{var w,S,R;if(m[0]){const{errors:y}=m[0];return((w=y[0])==null?void 0:w.code)==="file-too-large"?Ze.fileTooLarge((e==null?void 0:e.maxSize)??0):((S=y[0])==null?void 0:S.code)==="file-invalid-type"?Ze.fileInvalidType():((R=y[0])==null?void 0:R.code)==="too-many-files"?Ze.tooManyFiles((e==null?void 0:e.maxFiles)??0):Ze.fileNotSupported()}},[m,e]);return l.jsxs("div",{className:"relative",children:[a&&l.jsx("div",{className:"flex items-center justify-center absolute inset-y-0 w-full bg-background/80 z-50",children:l.jsx(Ir,{size:"lg"})}),l.jsxs("div",{...d({className:C,style:{width:t,height:r}}),children:[l.jsx("input",{ref:c,...f()}),u?l.jsx("video",{className:"h-full w-full rounded-md object-cover",controls:!0,src:u}):l.jsxs("div",{className:"flex flex-col items-center justify-center text-xs text-gray-400",children:[l.jsx(qr,{className:"mb-2 h-7 w-7"}),l.jsx("div",{className:"text-gray-400",children:"Click or Drag n' Drop Video"})]}),u&&!a&&l.jsx("div",{className:"group absolute right-0 top-0 -translate-y-1/4 translate-x-1/4 transform",onClick:w=>{w.stopPropagation(),i==null||i(void 0)},children:l.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md border border-solid border-gray-500 bg-white transition-all duration-300 hover:h-6 hover:w-6 dark:border-gray-400 dark:bg-black",children:l.jsx(zr,{className:"text-gray-500 dark:text-gray-400",width:16,height:16})})})]}),l.jsx("div",{className:"mt-1 text-xs text-red-500",children:x})]})});vn.displayName="SingleVideoDropzone";const as=o.forwardRef(({className:e,...t},r)=>l.jsx("button",{className:ct("focus-visible:ring-ring inline-flex cursor-pointer items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50","border border-gray-400 text-gray-400 shadow hover:bg-gray-100 hover:text-gray-500 dark:border-gray-600 dark:text-gray-100 dark:hover:bg-gray-700","h-6 rounded-md px-2 text-xs",e),ref:r,...t}));as.displayName="Button";function ss(e){if(!e||(e=Number(e),e===0))return"0 Bytes";const t=1024,r=2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,s)).toFixed(r))} ${n[s]}`}const is=()=>{const{isOpen:e,onClose:t}=os(),[r,n]=o.useState(),[s,a]=o.useState(!1),i=c=>{if(c&&c.type){if(c.type!=="video/mp4"){U.error("File must be MP4");return}a(!0),n(c),I.post(route("videos.store"),{video:c},{preserveState:!1,onSuccess:()=>{U.success("Video Uploaded"),n(void 0),t()},onError:u=>{U.error("Something Went Wrong. Please try again...."),console.log(u)},onFinish:()=>a(!1)})}};return o.useEffect(()=>{e||n(void 0)},[e]),l.jsx(Fe,{open:e,onOpenChange:t,children:l.jsxs(Le,{children:[l.jsx(lt,{children:l.jsx("h2",{className:"text-center text-lg font-semibold",children:`${s?"Uploading":"Upload a"}  Video`})}),l.jsx("div",{children:l.jsx(vn,{className:"w-full",disabled:s,value:r,onChange:i})})]})})};function cs(e,[t,r]){return Math.min(r,Math.max(t,e))}function ls(e,t){return o.useReducer((r,n)=>{const s=t[r][n];return s??r},e)}const gn="ScrollArea",[bn,fc]=So(gn),[us,Q]=bn(gn),ds=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[c,u]=o.useState(null),[d,f]=o.useState(null),[p,m]=o.useState(null),[g,E]=o.useState(null),[h,C]=o.useState(null),[x,w]=o.useState(0),[S,R]=o.useState(0),[y,$]=o.useState(!1),[P,O]=o.useState(!1),D=De(t,Y=>u(Y)),A=wo(s);return o.createElement(us,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:c,viewport:d,onViewportChange:f,content:p,onContentChange:m,scrollbarX:g,onScrollbarXChange:E,scrollbarXEnabled:y,onScrollbarXEnabledChange:$,scrollbarY:h,onScrollbarYChange:C,scrollbarYEnabled:P,onScrollbarYEnabledChange:O,onCornerWidthChange:w,onCornerHeightChange:R},o.createElement(Me.div,N({dir:A},i,{ref:D,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})))}),fs="ScrollAreaViewport",ps=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,...s}=e,a=Q(fs,r),i=o.useRef(null),c=De(t,i,a.onViewportChange);return o.createElement(o.Fragment,null,o.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),o.createElement(Me.div,N({"data-radix-scroll-area-viewport":""},s,{ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style}}),o.createElement("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"}},n)))}),ne="ScrollAreaScrollbar",yn=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Q(ne,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,c=e.orientation==="horizontal";return o.useEffect(()=>(c?a(!0):i(!0),()=>{c?a(!1):i(!1)}),[c,a,i]),s.type==="hover"?o.createElement(ms,N({},n,{ref:t,forceMount:r})):s.type==="scroll"?o.createElement(hs,N({},n,{ref:t,forceMount:r})):s.type==="auto"?o.createElement(xn,N({},n,{ref:t,forceMount:r})):s.type==="always"?o.createElement(tr,N({},n,{ref:t})):null}),ms=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Q(ne,e.__scopeScrollArea),[a,i]=o.useState(!1);return o.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const d=()=>{window.clearTimeout(u),i(!0)},f=()=>{u=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.createElement(ut,{present:r||a},o.createElement(xn,N({"data-state":a?"visible":"hidden"},n,{ref:t})))}),hs=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Q(ne,e.__scopeScrollArea),a=e.orientation==="horizontal",i=pt(()=>u("SCROLL_END"),100),[c,u]=ls("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,u]),o.useEffect(()=>{const d=s.viewport,f=a?"scrollLeft":"scrollTop";if(d){let p=d[f];const m=()=>{const g=d[f];p!==g&&(u("SCROLL"),i()),p=g};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,a,u,i]),o.createElement(ut,{present:r||c!=="hidden"},o.createElement(tr,N({"data-state":c==="hidden"?"hidden":"visible"},n,{ref:t,onPointerEnter:ue(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ue(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),xn=o.forwardRef((e,t)=>{const r=Q(ne,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=o.useState(!1),c=e.orientation==="horizontal",u=pt(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?d:f)}},10);return $e(r.viewport,u),$e(r.content,u),o.createElement(ut,{present:n||a},o.createElement(tr,N({"data-state":a?"visible":"hidden"},s,{ref:t})))}),tr=o.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Q(ne,e.__scopeScrollArea),a=o.useRef(null),i=o.useRef(0),[c,u]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=$n(c.viewport,c.content),f={...n,sizes:c,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function p(m,g){return Ss(m,i.current,c,g)}return r==="horizontal"?o.createElement(vs,N({},f,{ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,g=Er(m,c,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=p(m,s.dir))}})):r==="vertical"?o.createElement(gs,N({},f,{ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,g=Er(m,c);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=p(m))}})):null}),vs=o.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Q(ne,e.__scopeScrollArea),[i,c]=o.useState(),u=o.useRef(null),d=De(t,u,a.onScrollbarXChange);return o.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),o.createElement(En,N({"data-orientation":"horizontal"},s,{ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ft(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(a.viewport){const m=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),Dn(m,p)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:it(i.paddingLeft),paddingEnd:it(i.paddingRight)}})}}))}),gs=o.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Q(ne,e.__scopeScrollArea),[i,c]=o.useState(),u=o.useRef(null),d=De(t,u,a.onScrollbarYChange);return o.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),o.createElement(En,N({"data-orientation":"vertical"},s,{ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ft(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(a.viewport){const m=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),Dn(m,p)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:it(i.paddingTop),paddingEnd:it(i.paddingBottom)}})}}))}),[bs,wn]=bn(ne),En=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:p,...m}=e,g=Q(ne,r),[E,h]=o.useState(null),C=De(t,D=>h(D)),x=o.useRef(null),w=o.useRef(""),S=g.viewport,R=n.content-n.viewport,y=ce(f),$=ce(u),P=pt(p,10);function O(D){if(x.current){const A=D.clientX-x.current.left,Y=D.clientY-x.current.top;d({x:A,y:Y})}}return o.useEffect(()=>{const D=A=>{const Y=A.target;(E==null?void 0:E.contains(Y))&&y(A,R)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[S,E,R,y]),o.useEffect($,[n,$]),$e(E,P),$e(g.content,P),o.createElement(bs,{scope:r,scrollbar:E,hasThumb:s,onThumbChange:ce(a),onThumbPointerUp:ce(i),onThumbPositionChange:$,onThumbPointerDown:ce(c)},o.createElement(Me.div,N({},m,{ref:C,style:{position:"absolute",...m.style},onPointerDown:ue(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),x.current=E.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),O(D))}),onPointerMove:ue(e.onPointerMove,O),onPointerUp:ue(e.onPointerUp,D=>{const A=D.target;A.hasPointerCapture(D.pointerId)&&A.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})))}),Ut="ScrollAreaThumb",ys=o.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=wn(Ut,e.__scopeScrollArea);return o.createElement(ut,{present:r||s.hasThumb},o.createElement(xs,N({ref:t},n)))}),xs=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Q(Ut,r),i=wn(Ut,r),{onThumbPositionChange:c}=i,u=De(t,p=>i.onThumbChange(p)),d=o.useRef(),f=pt(()=>{d.current&&(d.current(),d.current=void 0)},100);return o.useEffect(()=>{const p=a.viewport;if(p){const m=()=>{if(f(),!d.current){const g=$s(p,c);d.current=g,c()}};return c(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[a.viewport,f,c]),o.createElement(Me.div,N({"data-state":i.hasThumb?"visible":"hidden"},s,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ue(e.onPointerDownCapture,p=>{const g=p.target.getBoundingClientRect(),E=p.clientX-g.left,h=p.clientY-g.top;i.onThumbPointerDown({x:E,y:h})}),onPointerUp:ue(e.onPointerUp,i.onThumbPointerUp)}))}),Sn="ScrollAreaCorner",ws=o.forwardRef((e,t)=>{const r=Q(Sn,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.createElement(Es,N({},e,{ref:t})):null}),Es=o.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Q(Sn,r),[a,i]=o.useState(0),[c,u]=o.useState(0),d=!!(a&&c);return $e(s.scrollbarX,()=>{var f;const p=((f=s.scrollbarX)===null||f===void 0?void 0:f.offsetHeight)||0;s.onCornerHeightChange(p),u(p)}),$e(s.scrollbarY,()=>{var f;const p=((f=s.scrollbarY)===null||f===void 0?void 0:f.offsetWidth)||0;s.onCornerWidthChange(p),i(p)}),d?o.createElement(Me.div,N({},n,{ref:t,style:{width:a,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function it(e){return e?parseInt(e,10):0}function $n(e,t){const r=e/t;return isNaN(r)?0:r}function ft(e){const t=$n(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Ss(e,t,r,n="ltr"){const s=ft(r),a=s/2,i=t||a,c=s-i,u=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,p=n==="ltr"?[0,f]:[f*-1,0];return Cn([u,d],p)(e)}function Er(e,t,r="ltr"){const n=ft(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,c=a-n,u=r==="ltr"?[0,i]:[i*-1,0],d=cs(e,u);return Cn([0,i],[0,c])(d)}function Cn(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Dn(e,t){return e>0&&e<t}const $s=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,c=r.top!==a.top;(i||c)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function pt(e,t){const r=ce(e),n=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),o.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function $e(e,t){const r=ce(t);$o(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}const Pn=ds,Cs=ps,Ds=ws,jn=o.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Pn,{ref:n,className:V("relative overflow-hidden",e),...r,children:[l.jsx(Cs,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(kn,{}),l.jsx(Ds,{})]}));jn.displayName=Pn.displayName;const kn=o.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(yn,{ref:n,orientation:t,className:V("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(ys,{className:V("relative rounded-full bg-border",t==="vertical"&&"flex-1")})}));kn.displayName=yn.displayName;const Ps=e=>{const{chatRef:t,bottomRef:r,count:n=0}=e,[s,a]=o.useState(!1);o.useEffect(()=>{const i=r.current,c=t.current;(()=>!s&&i?(a(!0),!0):c?c.scrollHeight-c.scrollTop-c.clientHeight<=100:!1)()&&setTimeout(()=>{var d;return(d=r.current)==null?void 0:d.scrollIntoView({behavior:"smooth"})},100)},[r,t,s,n])},js=()=>{const{isOpen:e,onClose:t}=en(),{test_taken_this_month:r}=J().props;return o.useEffect(()=>{console.log(r)},[r]),l.jsx(Fe,{open:e,onOpenChange:t,children:l.jsxs(Le,{className:"bg-gradient-to-b from-[#DDEDEA] via-[#DAEAFF] to-[#E8DFF5]",children:[l.jsx(lt,{children:l.jsxs(Lr,{className:"flex border-b pb-2.5 dark:text-gray-700",children:[l.jsx(Wr,{className:"mr-2"}),l.jsx("span",{className:"text-lg font-medium",children:"Koji Bot"})]})}),l.jsx(ks,{is_done:r})]})})},ks=e=>{const t=o.useRef(null),r=o.useRef(null),n=[{title:"Hello, Welcome to your personal stress assessment chatbot.",description:"",isOptions:!1},{title:"Great to have you here! To ensure we gather comprehensive and reliable data for your stress assessment, our assessment is divided into two parts",description:"",isOptions:!1},{title:"Part 1: You'll answer 10 brief questions to provide an initial assessment of your stress level",description:"",isOptions:!1},{title:"Part 2: The more in-depth assessment consists of 30 questions to further refine the data.",description:"",isOptions:!1},{title:"Are you ready to take your stress assessment with me?",description:"",isOptions:!1},{title:"Yes, I'm ready!",description:"",isOptions:!0}];o.useState(1);const[s,a]=o.useState(n.map(y=>({isOptions:y.isOptions,isUser:!1,message:y.title}))),{pss_choices:i,pss_questions:c,questionnaire_choices:u,questionnaire_questions:d}=J().props,[f,p]=o.useState(1),[m,g]=o.useState([]),[E,h]=o.useState([]),C=y=>{if(a($=>[...$,{isOptions:!1,isUser:!0,message:y.message}]),y.message=="Yes, I'm ready!"){const $=setTimeout(()=>{const P=c.find(O=>O.id==f);P&&(a(O=>[...O,{isOptions:!1,isUser:!1,message:P.id+" - "+P.question}]),i.forEach((O,D,A)=>{a(Y=>[...Y,{isOptions:!0,isUser:!1,message:O.level+" - "+O.choice}])}),p(f+1),clearTimeout($))},1e3)}else{const $=+y.message.split("-")[0];if(f-1<11)switch(f-1){case 4:case 5:case 7:case 8:g([...m,{id:f-1,answer:x($)}]);break;default:g([...m,{id:f-1,answer:$}]);break}else switch(f-11){case 1:case 7:case 10:case 13:case 17:case 21:case 25:case 29:h([...E,{id:f-11,answer:w($)}]);break;default:h([...E,{id:f-11,answer:$}]);break}if(f==11&&(a(P=>[...P,{isOptions:!1,isUser:!1,message:"First part of test was completed"}]),a(P=>[...P,{isOptions:!1,isUser:!1,message:"Second part is about to start"}])),f==41)return;if(f<11){const P=c.find(O=>O.id==f);if(P){const O=setTimeout(()=>{a(D=>[...D,{isOptions:!1,isUser:!1,message:P.id+" - "+P.question}]),i.forEach((D,A,Y)=>{a(q=>[...q,{isOptions:!0,isUser:!1,message:D.level+" - "+D.choice}])}),p(f+1),clearTimeout(O)})}else{const O=setTimeout(()=>{a(D=>[...D,{isOptions:!1,isUser:!1,message:"Sorry, I did not get that"}]),clearTimeout(O)},1e3)}}else{const P=d.find(O=>O.id==f);if(P){const O=setTimeout(()=>{a(D=>[...D,{isOptions:!1,isUser:!1,message:P.id-10+" - "+P.question}]),u.forEach((D,A,Y)=>{a(q=>[...q,{isOptions:!0,isUser:!1,message:D.level+" - "+D.choice}])}),p(f+1),clearTimeout(O)})}else{const O=setTimeout(()=>{a(D=>[...D,{isOptions:!1,isUser:!1,message:"Sorry, I did not get that"}]),clearTimeout(O)},1e3)}}}},x=y=>{switch(y){case 0:return 4;case 1:return 3;case 3:return 1;case 4:return 0}return y},w=y=>{switch(y){case 1:return 4;case 2:return 3;case 3:return 2;case 4:return 1}return y},S=()=>{const y=setTimeout(()=>{const $=n.map(P=>({isOptions:!0,isUser:!1,message:P.title}));a([...$,...s]),clearTimeout(y)},1e3)};Ps({chatRef:t,bottomRef:r,count:s.length}),o.useEffect(()=>{console.log(e.is_done)},[]),o.useEffect(()=>{if(f==41){var y=R(m),$=R(E),P=($-30)/90,O=Math.abs(P).toFixed(2);console.log(O),a(A=>[...A,{isOptions:!1,isUser:!1,message:"Your overall score is "+O}]);var D="";y>=0&&y<=13?(D="You are having very low stress and doing well as of the moment. You are managing and handling stress appropriately.",a(A=>[...A,{isOptions:!1,isUser:!1,message:"You are having very low stress and doing well as of the moment. You are managing and handling stress appropriately."}])):y>=14&&y<=26?(D="You are having a normal level of stress. Continue the positive coping strategies and stress management techniques that you are doing.",a(A=>[...A,{isOptions:!1,isUser:!1,message:"You are having a normal level of stress. Continue the positive coping strategies and stress management techniques that you are doing."}])):(D="You are having a high level of stress. You need to improve your coping strategies and stress management techniques. You need to slow down and take a break from any stress related activities, interactions and engagements.",a(A=>[...A,{isOptions:!1,isUser:!1,message:"You are having a high level of stress. You need to improve your coping strategies and stress management techniques. You need to slow down and take a break from any stress related activities, interactions and engagements."}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:"You can also consider the following alternatives. You need to seek help from your social support system like friends, colleagues, or family. Consider seeking professional help and doing counseling and psychotherapy. You need to adjust your daily activities and prioritize self-care  whether its physical, mental, emotional, spiritual, and social."}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:"Here are also some hotlines that we suggest that can help you if you ever want to talk to someone:"}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:`Hopeline Philippines:
Hotline: 2919 (for Globe and TM subscribers) or 804-HOPE (4673)
Available 24/7
Hopeline Philippines is a crisis hotline that provides emotional support and intervention for individuals who are going through a difficult time, including students facing stress or mental health challenges.`}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:`The Natasha Goulbourn Foundation (NGF) Hopeline:
Hotline: (02) 8804-HOPE (4673) or 0917-558-HOPE (4673)
Available 24/7
NGF Hopeline is a mental health crisis hotline in partnership with the Department of Health (DOH) that offers support, information, and intervention for those in crisis.`}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:`Silakbo PH:
Facebook Page: Silakbo PH
Silakbo PH is a community-driven initiative in the Philippines that provides a safe space for individuals to share their mental health experiences and receive support and information.`}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:`Mental Health PH:
Website: Mental Health PH
Mental Health PH is a website that provides information, resources, and support for mental health concerns. They have a directory of mental health professionals and facilities in the Philippines.`}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:`Crisis Line Philippines (CLiP):
Hotline: 0917-899-8727 or 989-8727
Available 24/7
CLiP offers a helpline for crisis intervention, emotional support, and referrals to mental health professionals.`}]),a(A=>[...A,{isOptions:!1,isUser:!1,message:`In Touch Community Services
Hotline: (02) 8893-7603
Available Mon to Fri, 9:00 AM to 5:00 PM
In Touch Community Services provides a crisis line for emotional support and assistance, as well as information and referrals for mental health services.`}])),I.post(route("chatbot.store",{description:O,remarks:D}))}},[E]);const R=y=>{let $=0;for(let P=0;P<y.length;P++)$+=y[P].answer;return $};return l.jsxs(jn,{ref:t,className:"text-sm h-full max-h-[30rem] px-4",children:[l.jsx("div",{className:"py-2 flex flex-col overflow-y-auto space-y-1.5",children:e.is_done==!1?s.map((y,$)=>l.jsx(o.Fragment,{children:y.isOptions?l.jsx("button",{onClick:()=>y.message!="menu"?C(y):S(),className:"text-sm w-fit max-w-md text-left rounded-2xl px-4 py-1.5 shadow border border-blue-500 bg-blue-300 text-gray-900",children:y.message}):l.jsx("p",{className:V("whitespace-pre-line w-fit max-w-md p-4 rounded-lg shadow text-gray-900",y.isUser?"ml-auto bg-blue-300":"bg-white"),children:y.message})},$)):l.jsx("p",{className:"text-center",children:"You can only take this test once a month"})}),l.jsx("div",{ref:r})]})},pc=()=>l.jsxs(l.Fragment,{children:[l.jsx(ra,{}),l.jsx(ns,{}),l.jsx(is,{}),l.jsx(js,{})]});function Se(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Rs(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Rn(...e){return t=>e.forEach(r=>Rs(r,t))}function Ue(...e){return o.useCallback(Rn(...e),e)}function As(e,t=[]){let r=[];function n(a,i){const c=o.createContext(i),u=r.length;r=[...r,i];function d(p){const{scope:m,children:g,...E}=p,h=(m==null?void 0:m[e][u])||c,C=o.useMemo(()=>E,Object.values(E));return o.createElement(h.Provider,{value:C},g)}function f(p,m){const g=(m==null?void 0:m[e][u])||c,E=o.useContext(g);if(E)return E;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,f]}const s=()=>{const a=r.map(i=>o.createContext(i));return function(c){const u=(c==null?void 0:c[e])||a;return o.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[n,Os(s,...t)]}function Os(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:u,scopeName:d})=>{const p=u(a)[`__scope${d}`];return{...c,...p}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const zt=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},Ts=io["useId".toString()]||(()=>{});let Ns=0;function Dt(e){const[t,r]=o.useState(Ts());return zt(()=>{e||r(n=>n??String(Ns++))},[e]),e||(t?`radix-${t}`:"")}function de(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function _s({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Ms({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,c=de(r),u=o.useCallback(d=>{if(a){const p=typeof d=="function"?d(e):d;p!==e&&c(p)}else s(d)},[a,e,s,c]);return[i,u]}function Ms({defaultProp:e,onChange:t}){const r=o.useState(e),[n]=r,s=o.useRef(n),a=de(t);return o.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}const rr=o.forwardRef((e,t)=>{const{children:r,...n}=e,s=o.Children.toArray(r),a=s.find(Ls);if(a){const i=a.props.children,c=s.map(u=>u===a?o.Children.count(i)>1?o.Children.only(null):o.isValidElement(i)?i.props.children:null:u);return o.createElement(Wt,N({},n,{ref:t}),o.isValidElement(i)?o.cloneElement(i,void 0,c):null)}return o.createElement(Wt,N({},n,{ref:t}),r)});rr.displayName="Slot";const Wt=o.forwardRef((e,t)=>{const{children:r,...n}=e;return o.isValidElement(r)?o.cloneElement(r,{...Is(n,r.props),ref:Rn(t,r.ref)}):o.Children.count(r)>1?o.Children.only(null):null});Wt.displayName="SlotClone";const Fs=({children:e})=>o.createElement(o.Fragment,null,e);function Ls(e){return o.isValidElement(e)&&e.type===Fs}function Is(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?r[n]=(...c)=>{a==null||a(...c),s==null||s(...c)}:n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}const Us=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],mt=Us.reduce((e,t)=>{const r=o.forwardRef((n,s)=>{const{asChild:a,...i}=n,c=a?rr:t;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(c,N({},i,{ref:s}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function zs(e,t){e&&Fr.flushSync(()=>e.dispatchEvent(t))}function Ws(e){const t=de(e);o.useEffect(()=>{const r=n=>{n.key==="Escape"&&t(n)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t])}const Ht="dismissableLayer.update",Hs="dismissableLayer.pointerDownOutside",Bs="dismissableLayer.focusOutside";let Sr;const Ys=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ks=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...u}=e,d=o.useContext(Ys),[f,p]=o.useState(null),[,m]=o.useState({}),g=Ue(t,$=>p($)),E=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),C=E.indexOf(h),x=f?E.indexOf(f):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=x>=C,R=Vs($=>{const P=$.target,O=[...d.branches].some(D=>D.contains(P));!S||O||(s==null||s($),i==null||i($),$.defaultPrevented||c==null||c())}),y=Xs($=>{const P=$.target;[...d.branches].some(D=>D.contains(P))||(a==null||a($),i==null||i($),$.defaultPrevented||c==null||c())});return Ws($=>{x===d.layers.size-1&&(n==null||n($),!$.defaultPrevented&&c&&($.preventDefault(),c()))}),o.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Sr=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),$r(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Sr)}},[f,r,d]),o.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),$r())},[f,d]),o.useEffect(()=>{const $=()=>m({});return document.addEventListener(Ht,$),()=>document.removeEventListener(Ht,$)},[]),o.createElement(mt.div,N({},u,{ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Se(e.onFocusCapture,y.onFocusCapture),onBlurCapture:Se(e.onBlurCapture,y.onBlurCapture),onPointerDownCapture:Se(e.onPointerDownCapture,R.onPointerDownCapture)}))});function Vs(e){const t=de(e),r=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{const s=i=>{if(i.target&&!r.current){let u=function(){An(Hs,t,c,{discrete:!0})};const c={originalEvent:i};i.pointerType==="touch"?(document.removeEventListener("click",n.current),n.current=u,document.addEventListener("click",n.current,{once:!0})):u()}r.current=!1},a=window.setTimeout(()=>{document.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),document.removeEventListener("pointerdown",s),document.removeEventListener("click",n.current)}},[t]),{onPointerDownCapture:()=>r.current=!0}}function Xs(e){const t=de(e),r=o.useRef(!1);return o.useEffect(()=>{const n=s=>{s.target&&!r.current&&An(Bs,t,{originalEvent:s},{discrete:!1})};return document.addEventListener("focusin",n),()=>document.removeEventListener("focusin",n)},[t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $r(){const e=new CustomEvent(Ht);document.dispatchEvent(e)}function An(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?zs(s,a):s.dispatchEvent(a)}const Pt="focusScope.autoFocusOnMount",jt="focusScope.autoFocusOnUnmount",Cr={bubbles:!1,cancelable:!0},qs=o.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[c,u]=o.useState(null),d=de(s),f=de(a),p=o.useRef(null),m=Ue(t,h=>u(h)),g=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(n){let h=function(x){if(g.paused||!c)return;const w=x.target;c.contains(w)?p.current=w:ie(p.current,{select:!0})},C=function(x){g.paused||!c||c.contains(x.relatedTarget)||ie(p.current,{select:!0})};return document.addEventListener("focusin",h),document.addEventListener("focusout",C),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",C)}}},[n,c,g.paused]),o.useEffect(()=>{if(c){Pr.add(g);const h=document.activeElement;if(!c.contains(h)){const x=new CustomEvent(Pt,Cr);c.addEventListener(Pt,d),c.dispatchEvent(x),x.defaultPrevented||(Gs(ti(On(c)),{select:!0}),document.activeElement===h&&ie(c))}return()=>{c.removeEventListener(Pt,d),setTimeout(()=>{const x=new CustomEvent(jt,Cr);c.addEventListener(jt,f),c.dispatchEvent(x),x.defaultPrevented||ie(h??document.body,{select:!0}),c.removeEventListener(jt,f),Pr.remove(g)},0)}}},[c,d,f,g]);const E=o.useCallback(h=>{if(!r&&!n||g.paused)return;const C=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,x=document.activeElement;if(C&&x){const w=h.currentTarget,[S,R]=Zs(w);S&&R?!h.shiftKey&&x===R?(h.preventDefault(),r&&ie(S,{select:!0})):h.shiftKey&&x===S&&(h.preventDefault(),r&&ie(R,{select:!0})):x===w&&h.preventDefault()}},[r,n,g.paused]);return o.createElement(mt.div,N({tabIndex:-1},i,{ref:m,onKeyDown:E}))});function Gs(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ie(n,{select:t}),document.activeElement!==r)return}function Zs(e){const t=On(e),r=Dr(t,e),n=Dr(t.reverse(),e);return[r,n]}function On(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Dr(e,t){for(const r of e)if(!Js(r,{upTo:t}))return r}function Js(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qs(e){return e instanceof HTMLInputElement&&"select"in e}function ie(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Qs(e)&&t&&e.select()}}const Pr=ei();function ei(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jr(e,t),e.unshift(t)},remove(t){var r;e=jr(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function jr(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ti(e){return e.filter(t=>t.tagName!=="A")}const ri=o.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...s}=e;return n?co.createPortal(o.createElement(mt.div,N({},s,{ref:t})),n):null});function ni(e,t){return o.useReducer((r,n)=>{const s=t[r][n];return s??r},e)}const ht=e=>{const{present:t,children:r}=e,n=oi(t),s=typeof r=="function"?r({present:n.isPresent}):o.Children.only(r),a=Ue(n.ref,s.ref);return typeof r=="function"||n.isPresent?o.cloneElement(s,{ref:a}):null};ht.displayName="Presence";function oi(e){const[t,r]=o.useState(),n=o.useRef({}),s=o.useRef(e),a=o.useRef("none"),i=e?"mounted":"unmounted",[c,u]=ni(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=Je(n.current);a.current=c==="mounted"?d:"none"},[c]),zt(()=>{const d=n.current,f=s.current;if(f!==e){const m=a.current,g=Je(d);e?u("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),zt(()=>{if(t){const d=p=>{const g=Je(n.current).includes(p.animationName);p.target===t&&g&&Fr.flushSync(()=>u("ANIMATION_END"))},f=p=>{p.target===t&&(a.current=Je(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Je(e){return(e==null?void 0:e.animationName)||"none"}let kt=0;function ai(){o.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:kr()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:kr()),kt++,()=>{kt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),kt--}},[])}function kr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Tn=Ro(),Rt=function(){},vt=o.forwardRef(function(e,t){var r=o.useRef(null),n=o.useState({onScrollCapture:Rt,onWheelCapture:Rt,onTouchMoveCapture:Rt}),s=n[0],a=n[1],i=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,p=e.shards,m=e.sideCar,g=e.noIsolation,E=e.inert,h=e.allowPinchZoom,C=e.as,x=C===void 0?"div":C,w=Ao(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),S=m,R=Oo([r,t]),y=we(we({},w),s);return o.createElement(o.Fragment,null,f&&o.createElement(S,{sideCar:Tn,removeScrollBar:d,shards:p,noIsolation:g,inert:E,setCallbacks:a,allowPinchZoom:!!h,lockRef:r}),i?o.cloneElement(o.Children.only(c),we(we({},y),{ref:R})):o.createElement(x,we({},y,{className:u,ref:R}),c))});vt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vt.classNames={fullWidth:To,zeroRight:No};var Bt=!1;if(typeof window<"u")try{var Qe=Object.defineProperty({},"passive",{get:function(){return Bt=!0,!0}});window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Bt=!1}var ye=Bt?{passive:!1}:!1,si=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},ii=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},Rr=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=Nn(e,r);if(n){var s=_n(e,r),a=s[1],i=s[2];if(a>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},ci=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},li=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Nn=function(e,t){return e==="v"?si(t):ii(t)},_n=function(e,t){return e==="v"?ci(t):li(t)},ui=function(e,t){return e==="h"&&t==="rtl"?-1:1},di=function(e,t,r,n,s){var a=ui(e,window.getComputedStyle(t).direction),i=a*n,c=r.target,u=t.contains(c),d=!1,f=i>0,p=0,m=0;do{var g=_n(e,c),E=g[0],h=g[1],C=g[2],x=h-C-a*E;(E||x)&&Nn(e,c)&&(p+=x,m+=E),c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&(s&&p===0||!s&&i>p)||!f&&(s&&m===0||!s&&-i>m))&&(d=!0),d},et=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ar=function(e){return[e.deltaX,e.deltaY]},Or=function(e){return e&&"current"in e?e.current:e},fi=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pi=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mi=0,xe=[];function hi(e){var t=o.useRef([]),r=o.useRef([0,0]),n=o.useRef(),s=o.useState(mi++)[0],a=o.useState(function(){return _o()})[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=Nt([e.lockRef.current],(e.shards||[]).map(Or),!0).filter(Boolean);return h.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(h,C){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var x=et(h),w=r.current,S="deltaX"in h?h.deltaX:w[0]-x[0],R="deltaY"in h?h.deltaY:w[1]-x[1],y,$=h.target,P=Math.abs(S)>Math.abs(R)?"h":"v";if("touches"in h&&P==="h"&&$.type==="range")return!1;var O=Rr(P,$);if(!O)return!0;if(O?y=P:(y=P==="v"?"h":"v",O=Rr(P,$)),!O)return!1;if(!n.current&&"changedTouches"in h&&(S||R)&&(n.current=y),!y)return!0;var D=n.current||y;return di(D,C,h,D==="h"?S:R,!0)},[]),u=o.useCallback(function(h){var C=h;if(!(!xe.length||xe[xe.length-1]!==a)){var x="deltaY"in C?Ar(C):et(C),w=t.current.filter(function(y){return y.name===C.type&&y.target===C.target&&fi(y.delta,x)})[0];if(w&&w.should){C.preventDefault();return}if(!w){var S=(i.current.shards||[]).map(Or).filter(Boolean).filter(function(y){return y.contains(C.target)}),R=S.length>0?c(C,S[0]):!i.current.noIsolation;R&&C.preventDefault()}}},[]),d=o.useCallback(function(h,C,x,w){var S={name:h,delta:C,target:x,should:w};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(R){return R!==S})},1)},[]),f=o.useCallback(function(h){r.current=et(h),n.current=void 0},[]),p=o.useCallback(function(h){d(h.type,Ar(h),h.target,c(h,e.lockRef.current))},[]),m=o.useCallback(function(h){d(h.type,et(h),h.target,c(h,e.lockRef.current))},[]);o.useEffect(function(){return xe.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,ye),document.addEventListener("touchmove",u,ye),document.addEventListener("touchstart",f,ye),function(){xe=xe.filter(function(h){return h!==a}),document.removeEventListener("wheel",u,ye),document.removeEventListener("touchmove",u,ye),document.removeEventListener("touchstart",f,ye)}},[]);var g=e.removeScrollBar,E=e.inert;return o.createElement(o.Fragment,null,E?o.createElement(a,{styles:pi(s)}):null,g?o.createElement(Mo,{gapMode:"margin"}):null)}const vi=Fo(Tn,hi);var Mn=o.forwardRef(function(e,t){return o.createElement(vt,we({},e,{ref:t,sideCar:vi}))});Mn.classNames=vt.classNames;const gi=Mn,Fn="Dialog",[Ln,mc]=As(Fn),[bi,fe]=Ln(Fn),yi=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,c=o.useRef(null),u=o.useRef(null),[d=!1,f]=_s({prop:n,defaultProp:s,onChange:a});return o.createElement(bi,{scope:t,triggerRef:c,contentRef:u,contentId:Dt(),titleId:Dt(),descriptionId:Dt(),open:d,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(p=>!p),[f]),modal:i},r)},In="DialogPortal",[xi,Un]=Ln(In,{forceMount:void 0}),wi=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=fe(In,t);return o.createElement(xi,{scope:t,forceMount:r},o.Children.map(n,i=>o.createElement(ht,{present:r||a.open},o.createElement(ri,{asChild:!0,container:s},i))))},Yt="DialogOverlay",Ei=o.forwardRef((e,t)=>{const r=Un(Yt,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=fe(Yt,e.__scopeDialog);return a.modal?o.createElement(ht,{present:n||a.open},o.createElement(Si,N({},s,{ref:t}))):null}),Si=o.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=fe(Yt,r);return o.createElement(gi,{as:rr,allowPinchZoom:!0,shards:[s.contentRef]},o.createElement(mt.div,N({"data-state":Wn(s.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),_e="DialogContent",$i=o.forwardRef((e,t)=>{const r=Un(_e,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=fe(_e,e.__scopeDialog);return o.createElement(ht,{present:n||a.open},a.modal?o.createElement(Ci,N({},s,{ref:t})):o.createElement(Di,N({},s,{ref:t})))}),Ci=o.forwardRef((e,t)=>{const r=fe(_e,e.__scopeDialog),n=o.useRef(null),s=Ue(t,r.contentRef,n);return o.useEffect(()=>{const a=n.current;if(a)return Lo(a)},[]),o.createElement(zn,N({},e,{ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Se(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&a.preventDefault()}),onFocusOutside:Se(e.onFocusOutside,a=>a.preventDefault())}))}),Di=o.forwardRef((e,t)=>{const r=fe(_e,e.__scopeDialog),n=o.useRef(!1);return o.createElement(zn,N({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,s),!s.defaultPrevented){var i;n.current||(i=r.triggerRef.current)===null||i===void 0||i.focus(),s.preventDefault()}n.current=!1},onInteractOutside:s=>{var a,i;(a=e.onInteractOutside)===null||a===void 0||a.call(e,s),s.defaultPrevented||(n.current=!0);const c=s.target;((i=r.triggerRef.current)===null||i===void 0?void 0:i.contains(c))&&s.preventDefault()}}))}),zn=o.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,c=fe(_e,r),u=o.useRef(null),d=Ue(t,u);return ai(),o.createElement(o.Fragment,null,o.createElement(qs,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a},o.createElement(Ks,N({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Wn(c.open)},i,{ref:d,onDismiss:()=>c.onOpenChange(!1)}))),!1)});function Wn(e){return e?"open":"closed"}const Pi=yi,ji=wi,ki=Ei,Ri=$i;var Tr=1,Ai=.9,Oi=.3,At=.1,Ti=0,Ot=.999,Ni=.9999,_i=.99,Nr=/[\\\/\-_+.# \t"@\[\(\{&]/,Mi=/[\\\/\-_+.# \t"@\[\(\{&]/g;function Kt(e,t,r,n,s,a){if(a===t.length)return s===e.length?Tr:_i;for(var i=n.charAt(a),c=r.indexOf(i,s),u=0,d,f,p;c>=0;)d=Kt(e,t,r,n,c+1,a+1),d>u&&(c===s?d*=Tr:Nr.test(e.charAt(c-1))?(d*=Ai,p=e.slice(s,c-1).match(Mi),p&&s>0&&(d*=Math.pow(Ot,p.length))):Nr.test(e.slice(s,c-1))?(d*=Ti,s>0&&(d*=Math.pow(Ot,c-s))):(d*=Oi,s>0&&(d*=Math.pow(Ot,c-s))),e.charAt(c)!==t.charAt(a)&&(d*=Ni)),d<At&&r.charAt(c-1)===n.charAt(a+1)&&r.charAt(c-1)!==n.charAt(a)&&(f=Kt(e,t,r,n,c+1,a+2),f*At>d&&(d=f*At)),d>u&&(u=d),c=r.indexOf(i,c+1);return u}function Fi(e,t){return Kt(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var Li=Fi;const Ii=Mr(Li);var Ui='[cmdk-list-sizer=""]',Oe='[cmdk-group=""]',Tt='[cmdk-group-items=""]',zi='[cmdk-group-heading=""]',Hn='[cmdk-item=""]',_r=`${Hn}:not([aria-disabled="true"])`,Vt="cmdk-item-select",se="data-value",Wi=(e,t)=>Ii(e,t),Bn=o.createContext(void 0),ze=()=>o.useContext(Bn),Yn=o.createContext(void 0),nr=()=>o.useContext(Yn),Kn=o.createContext(void 0),Vn=o.forwardRef((e,t)=>{let r=o.useRef(null),n=Ee(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),s=Ee(()=>new Set),a=Ee(()=>new Map),i=Ee(()=>new Map),c=Ee(()=>new Set),u=Xn(e),{label:d,children:f,value:p,onValueChange:m,filter:g,shouldFilter:E,...h}=e,C=o.useId(),x=o.useId(),w=o.useId(),S=Qi();ke(()=>{if(p!==void 0){let v=p.trim().toLowerCase();n.current.value=v,S(6,A),R.emit()}},[p]);let R=o.useMemo(()=>({subscribe:v=>(c.current.add(v),()=>c.current.delete(v)),snapshot:()=>n.current,setState:(v,T,_)=>{var j,F,H;if(!Object.is(n.current[v],T)){if(n.current[v]=T,v==="search")D(),P(),S(1,O);else if(v==="value")if(((j=u.current)==null?void 0:j.value)!==void 0){(H=(F=u.current).onValueChange)==null||H.call(F,T);return}else _||S(5,A);R.emit()}},emit:()=>{c.current.forEach(v=>v())}}),[]),y=o.useMemo(()=>({value:(v,T)=>{T!==i.current.get(v)&&(i.current.set(v,T),n.current.filtered.items.set(v,$(T)),S(2,()=>{P(),R.emit()}))},item:(v,T)=>(s.current.add(v),T&&(a.current.has(T)?a.current.get(T).add(v):a.current.set(T,new Set([v]))),S(3,()=>{D(),P(),n.current.value||O(),R.emit()}),()=>{i.current.delete(v),s.current.delete(v),n.current.filtered.items.delete(v),S(4,()=>{D(),O(),R.emit()})}),group:v=>(a.current.has(v)||a.current.set(v,new Set),()=>{i.current.delete(v),a.current.delete(v)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],listId:C,inputId:w,labelId:x}),[]);function $(v){var T;let _=((T=u.current)==null?void 0:T.filter)??Wi;return v?_(v,n.current.search):0}function P(){if(!r.current||!n.current.search||u.current.shouldFilter===!1)return;let v=n.current.filtered.items,T=[];n.current.filtered.groups.forEach(j=>{let F=a.current.get(j),H=0;F.forEach(ae=>{let te=v.get(ae);H=Math.max(te,H)}),T.push([j,H])});let _=r.current.querySelector(Ui);q().sort((j,F)=>{let H=j.getAttribute(se),ae=F.getAttribute(se);return(v.get(ae)??0)-(v.get(H)??0)}).forEach(j=>{let F=j.closest(Tt);F?F.appendChild(j.parentElement===F?j:j.closest(`${Tt} > *`)):_.appendChild(j.parentElement===_?j:j.closest(`${Tt} > *`))}),T.sort((j,F)=>F[1]-j[1]).forEach(j=>{let F=r.current.querySelector(`${Oe}[${se}="${j[0]}"]`);F==null||F.parentElement.appendChild(F)})}function O(){let v=q().find(_=>!_.ariaDisabled),T=v==null?void 0:v.getAttribute(se);R.setState("value",T||void 0)}function D(){if(!n.current.search||u.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let v=0;for(let T of s.current){let _=i.current.get(T),j=$(_);n.current.filtered.items.set(T,j),j>0&&v++}for(let[T,_]of a.current)for(let j of _)if(n.current.filtered.items.get(j)>0){n.current.filtered.groups.add(T);break}n.current.filtered.count=v}function A(){var v,T,_;let j=Y();j&&(((v=j.parentElement)==null?void 0:v.firstChild)===j&&((_=(T=j.closest(Oe))==null?void 0:T.querySelector(zi))==null||_.scrollIntoView({block:"nearest"})),j.scrollIntoView({block:"nearest"}))}function Y(){return r.current.querySelector(`${Hn}[aria-selected="true"]`)}function q(){return Array.from(r.current.querySelectorAll(_r))}function oe(v){let T=q()[v];T&&R.setState("value",T.getAttribute(se))}function W(v){var T;let _=Y(),j=q(),F=j.findIndex(ae=>ae===_),H=j[F+v];(T=u.current)!=null&&T.loop&&(H=F+v<0?j[j.length-1]:F+v===j.length?j[0]:j[F+v]),H&&R.setState("value",H.getAttribute(se))}function X(v){let T=Y(),_=T==null?void 0:T.closest(Oe),j;for(;_&&!j;)_=v>0?Zi(_,Oe):Ji(_,Oe),j=_==null?void 0:_.querySelector(_r);j?R.setState("value",j.getAttribute(se)):W(v)}let He=()=>oe(q().length-1),Re=v=>{v.preventDefault(),v.metaKey?He():v.altKey?X(1):W(1)},pe=v=>{v.preventDefault(),v.metaKey?oe(0):v.altKey?X(-1):W(-1)};return o.createElement("div",{ref:We([r,t]),...h,"cmdk-root":"",onKeyDown:v=>{var T;if((T=h.onKeyDown)==null||T.call(h,v),!v.defaultPrevented)switch(v.key){case"n":case"j":{v.ctrlKey&&Re(v);break}case"ArrowDown":{Re(v);break}case"p":case"k":{v.ctrlKey&&pe(v);break}case"ArrowUp":{pe(v);break}case"Home":{v.preventDefault(),oe(0);break}case"End":{v.preventDefault(),He();break}case"Enter":{v.preventDefault();let _=Y();if(_){let j=new Event(Vt);_.dispatchEvent(j)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:y.inputId,id:y.labelId,style:ec},d),o.createElement(Yn.Provider,{value:R},o.createElement(Bn.Provider,{value:y},f)))}),Hi=o.forwardRef((e,t)=>{let r=o.useId(),n=o.useRef(null),s=o.useContext(Kn),a=ze(),i=Xn(e);ke(()=>a.item(r,s),[]);let c=qn(r,n,[e.value,e.children,n]),u=nr(),d=Ce(x=>x.value&&x.value===c.current),f=Ce(x=>a.filter()===!1?!0:x.search?x.filtered.items.get(r)>0:!0);o.useEffect(()=>{let x=n.current;if(!(!x||e.disabled))return x.addEventListener(Vt,p),()=>x.removeEventListener(Vt,p)},[f,e.onSelect,e.disabled]);function p(){var x,w;(w=(x=i.current).onSelect)==null||w.call(x,c.current)}function m(){u.setState("value",c.current,!0)}if(!f)return null;let{disabled:g,value:E,onSelect:h,...C}=e;return o.createElement("div",{ref:We([n,t]),...C,"cmdk-item":"",role:"option","aria-disabled":g||void 0,"aria-selected":d||void 0,"data-selected":d||void 0,onPointerMove:g?void 0:m,onClick:g?void 0:p},e.children)}),Bi=o.forwardRef((e,t)=>{let{heading:r,children:n,...s}=e,a=o.useId(),i=o.useRef(null),c=o.useRef(null),u=o.useId(),d=ze(),f=Ce(m=>d.filter()===!1?!0:m.search?m.filtered.groups.has(a):!0);ke(()=>d.group(a),[]),qn(a,i,[e.value,e.heading,c]);let p=o.createElement(Kn.Provider,{value:a},n);return o.createElement("div",{ref:We([i,t]),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&o.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},p))}),Yi=o.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=o.useRef(null),a=Ce(i=>!i.search);return!r&&!a?null:o.createElement("div",{ref:We([s,t]),...n,"cmdk-separator":"",role:"separator"})}),Ki=o.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,a=nr(),i=Ce(u=>u.search),c=ze();return o.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),o.createElement("input",{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,id:c.inputId,type:"text",value:s?e.value:i,onChange:u=>{s||a.setState("search",u.target.value),r==null||r(u.target.value)}})}),Vi=o.forwardRef((e,t)=>{let{children:r,...n}=e,s=o.useRef(null),a=o.useRef(null),i=ze();return o.useEffect(()=>{if(a.current&&s.current){let c=a.current,u=s.current,d,f=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let p=c.getBoundingClientRect().height;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(d),f.unobserve(c)}}},[]),o.createElement("div",{ref:We([s,t]),...n,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:i.listId,"aria-labelledby":i.inputId},o.createElement("div",{ref:a,"cmdk-list-sizer":""},r))}),Xi=o.forwardRef((e,t)=>{let{open:r,onOpenChange:n,container:s,...a}=e;return o.createElement(Pi,{open:r,onOpenChange:n},o.createElement(ji,{container:s},o.createElement(ki,{"cmdk-overlay":""}),o.createElement(Ri,{"aria-label":e.label,"cmdk-dialog":""},o.createElement(Vn,{ref:t,...a}))))}),qi=o.forwardRef((e,t)=>{let r=o.useRef(!0),n=Ce(s=>s.filtered.count===0);return o.useEffect(()=>{r.current=!1},[]),r.current||!n?null:o.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Gi=o.forwardRef((e,t)=>{let{progress:r,children:n,...s}=e;return o.createElement("div",{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},o.createElement("div",{"aria-hidden":!0},n))}),G=Object.assign(Vn,{List:Vi,Item:Hi,Input:Ki,Group:Bi,Separator:Yi,Dialog:Xi,Empty:qi,Loading:Gi});function Zi(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Ji(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Xn(e){let t=o.useRef(e);return ke(()=>{t.current=e}),t}var ke=typeof window>"u"?o.useEffect:o.useLayoutEffect;function Ee(e){let t=o.useRef();return t.current===void 0&&(t.current=e()),t}function We(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Ce(e){let t=nr(),r=()=>e(t.snapshot());return o.useSyncExternalStore(t.subscribe,r,r)}function qn(e,t,r){let n=o.useRef(),s=ze();return ke(()=>{var a;let i=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim().toLowerCase();if(typeof u=="object"&&"current"in u&&u.current)return(c=u.current.textContent)==null?void 0:c.trim().toLowerCase()}})();s.value(e,i),(a=t.current)==null||a.setAttribute(se,i),n.current=i}),n}var Qi=()=>{let[e,t]=o.useState(),r=Ee(()=>new Map);return ke(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}},ec={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Gn=o.forwardRef(({className:e,...t},r)=>l.jsx(G,{ref:r,className:V("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Gn.displayName=G.displayName;const tc=({children:e,...t})=>l.jsx(Fe,{...t,children:l.jsx(Le,{className:"overflow-hidden p-0 shadow-lg",children:l.jsx(Gn,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),Zn=o.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(Xr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(G.Input,{ref:r,className:V("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Zn.displayName=G.Input.displayName;const Jn=o.forwardRef(({className:e,...t},r)=>l.jsx(G.List,{ref:r,className:V("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Jn.displayName=G.List.displayName;const Qn=o.forwardRef((e,t)=>l.jsx(G.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Qn.displayName=G.Empty.displayName;const eo=o.forwardRef(({className:e,...t},r)=>l.jsx(G.Group,{ref:r,className:V("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));eo.displayName=G.Group.displayName;const rc=o.forwardRef(({className:e,...t},r)=>l.jsx(G.Separator,{ref:r,className:V("-mx-1 h-px bg-border",e),...t}));rc.displayName=G.Separator.displayName;const to=o.forwardRef(({className:e,...t},r)=>l.jsx(G.Item,{ref:r,className:V("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));to.displayName=G.Item.displayName;const hc=()=>{const{toggle:e,isOpen:t,onClose:r}=Jr(),{documents:n}=J().props,s=a=>{I.get(route("documents.show",{id:a})),r()};return o.useEffect(()=>{const a=i=>{i.key==="k"&&(i.metaKey||i.ctrlKey)&&(i.preventDefault(),e())};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[]),l.jsxs(tc,{open:t,onOpenChange:r,children:[l.jsx(Zn,{placeholder:`Search ${nt}...`}),l.jsxs(Jn,{children:[l.jsx(Qn,{children:"No Documents Found..."}),l.jsx(eo,{heading:"Documents",children:n.map(({id:a,...i})=>l.jsxs(to,{onSelect:()=>s(a),value:`${a.toString()}-${i.title}`,children:[i.icon?l.jsx("p",{className:"mr-2 text-[1.125rem]",children:i.icon}):l.jsx(Br,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:i.title})]},a))})]})]})};export{Wr as B,Hr as C,pc as M,dc as N,M as P,hc as S,Xo as V,Kr as a,Wo as b,ia as p,os as u};
