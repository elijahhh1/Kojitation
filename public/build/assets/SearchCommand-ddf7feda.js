import{r as o,q as Q,j as c,y as W,v as O,g as jr,N as Xn,R as Zn,b as Sr,f as Jn}from"./index-2537c938.js";import{c as M,_ as F,b as Nr,g as Qn,h as kr,B as ae,t as Pr}from"./index-ee399a20.js";import{f as Ft,g as Mt,h as It,j as eo,k as Lt,i as Ve,C as to,$ as Ar,l as ro,m as no,n as oo,o as ao,p as so,q as _r,r as co,s as io,t as lo,D as zt,a as Wt,b as Rr,c as uo}from"./dropdown-menu-d339ae5b.js";import{A as Ye,M as fo,S as po}from"./Heading-a733c4c3.js";import{c as B,$ as mo,b as ho}from"./index-ce30694a.js";import{f as Ne,P as bt,a as xt,b as yt,u as vo}from"./useCoverImageModal-4e4b4c65.js";import{I as Or,L as go}from"./input-28d4b86a.js";import{C as bo}from"./check-528f93bc.js";import{c as Tr,_ as we,l as Ee,m as $t,n as er,X as xo,o as yo,p as $o,u as wo,q as be,r as Eo,z as Co,s as Do,R as jo,t as So,h as No}from"./index-8a9f9b30.js";const ko=B("CalendarCheck2",[["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]),Po=B("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ao=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Fr=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),_o=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ro=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Mr=B("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),it=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Oo=B("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Ir=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Lr=B("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),wt=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tr=B("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]),Bt=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),To=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ut=B("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Fo=B("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),Mo=B("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;function Io(e){const t=s=>typeof window<"u"?window.matchMedia(s).matches:!1,[r,n]=o.useState(t(e));function a(){n(t(e))}return o.useEffect(()=>{const s=window.matchMedia(e);return a(),s.addListener?s.addListener(a):s.addEventListener("change",a),()=>{s.removeListener?s.removeListener(a):s.removeEventListener("change",a)}},[e]),r}const Lo=()=>{const e=Q().props.auth.user;return c.jsxs(Ft,{children:[c.jsx(Mt,{asChild:!0,children:c.jsxs("div",{role:"button",className:"flex items-center text-sm p-2.5 w-full hover:bg-primary/5",children:[c.jsx("div",{className:" gap-x-1.5 flex items-center max-w-[9.375rem]",children:c.jsx("span",{className:" text-start font-medium line-clamp-1",children:Ye})}),c.jsx(Fr,{className:"ml-2 text-muted-foreground h-4 w-4"})]})}),c.jsxs(It,{className:"w-80",align:"start",alignOffset:11,forceMount:!0,children:[c.jsx(eo,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:e.name}),c.jsx("p",{className:"text-xs leading-none text-primary",children:e.email})]})}),c.jsx(Lt,{}),c.jsx(Ve,{onClick:()=>W.post(route("logout")),children:"Log out"})]})]})},J=({Icon:e,label:t,onClick:r,id:n,documentIcon:a,active:s,expanded:i,isSearch:l,level:u=0,onExpand:d,updateDate:p,isDone:f})=>{const b=i?Fr:to,w=g=>{g.stopPropagation(),d==null||d()},j=g=>{g.stopPropagation(),n&&W.post(route("documents.store"),{title:`Koji: ${Ne(new Date,"Pp")}`,document_id:n},{onSuccess:()=>{i||d==null||d()},onError:()=>O.error("Something Went Wrong. Please try again....")})},h=g=>{g.stopPropagation(),n&&W.post(route("documents.destroy",{id:n}),{active:s},{preserveState:!0,onSuccess:()=>{O.success("Note Archived")},onError:()=>O.error("Something Went Wrong. Please try again....")})},$=g=>{g.stopPropagation(),n&&W.post(route("documents.update",{id:n}),{is_done:1},{preserveState:!0,onSuccess:()=>{O.success("TODO is Done!")},onError:()=>O.error("Something Went Wrong. Please try again....")})};return c.jsxs("div",{onClick:r,role:"button",style:{paddingLeft:u>0?`${u*.75+.75}rem`:"0.75rem"},className:M("group min-h-[1.688rem] textt-sm py-1  pr-3 w-full hover:bg-primary/5 flex items-center text-muted-foreground font-medium transition",s&&"bg-primary/5 text-primary"),children:[!!n&&c.jsx("div",{role:"button",className:"h-full rounded-sm opacity-70 hover:opacity-100 hover:bg-secondary transition mr-1",onClick:w,children:c.jsx(b,{className:"h-4 w-4 shrink-0 text-muted-foreground/50"})}),a?c.jsx("div",{className:"shrink-0 mr-2 text-[1.125rem]",children:a}):c.jsx(e,{className:M("shrink-0 h-[1.125rem] w-[1.125rem] mr-2 text-muted-foreground",f&&"dark:text-green-400 text-green-500")}),c.jsx("span",{className:M("truncate",f&&"dark:text-green-400 text-green-500"),children:t}),l&&c.jsxs("kbd",{className:"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[0.625rem] text-muted-foreground",children:[c.jsx("span",{className:"text-sm",children:"CTRL"}),"K"]}),!!n&&c.jsxs("div",{className:"ml-auto flex items-center gap-x-1.5",children:[c.jsxs(Ft,{children:[c.jsx(Mt,{asChild:!0,onClick:g=>g.stopPropagation(),children:c.jsx("div",{role:"button",className:"opacity-0 group-hover:opacity-100 h-full ml-auto rounded-sm hover:bg-secondary transition",children:c.jsx(Lr,{className:"h-4 w-4 text-muted-foreground"})})}),c.jsxs(It,{className:"w-60",align:"start",side:"right",forceMount:!0,children:[c.jsxs(Ve,{onClick:$,className:"dark:text-green-400 text-green-500",children:[c.jsx(Po,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:"Done"})]}),c.jsxs(Ve,{onClick:h,children:[c.jsx(Ut,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:"Delete"})]}),c.jsx(Lt,{}),c.jsxs("div",{className:"text-xs text-muted-foreground p-2",children:["Last Edited: ",Ne(p,"PPpp")]})]})]}),c.jsx("div",{role:"button",onClick:j,className:"opacity-0 group-hover:opacity-100 transition h-full ml-auto rounded-sm hover:bg-secondary",children:c.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})})]})]})},Et=({parentDocumentId:e,level:t=0,documents:r})=>{const[n,a]=o.useState(!1),{selected_document:s}=Q().props,[i,l]=o.useState({}),u=f=>{l(b=>({...b,[f]:!b[f]}))},d=f=>{W.get(route("documents.show",{id:f}),{},{preserveScroll:!0,preserveState:!1,onFinish:()=>{}})},p=o.useMemo(()=>n?r==null?void 0:r.filter(f=>f.is_done===1):r,[r,n]);return c.jsxs(c.Fragment,{children:[c.jsx("p",{style:{paddingLeft:t>0?`${t*.75+1.563}rem`:void 0},className:M("hidden text-sm font-medium text-muted-foreground/80",i&&"last:block",t===0&&"hidden"),children:"No Pages Inside..."}),p==null?void 0:p.map(({id:f,...b})=>c.jsxs("div",{children:[c.jsx(J,{isDone:b.is_done===1,id:f,onClick:()=>d(f),label:b.title,Icon:b.is_done?Ao:Mr,documentIcon:b.icon,active:(s==null?void 0:s.id)===f,level:t,onExpand:()=>u(f),expanded:i[f],updateDate:new Date(b.updated_at)}),i[f]&&c.jsx(Et,{parentDocumentId:f,level:t+1,documents:b.documents})]},f))]})},zo="AlertDialog",[Wo,Xc]=mo(zo,[Ar]),ee=Ar(),Bo=e=>{const{__scopeAlertDialog:t,...r}=e,n=ee(t);return o.createElement(io,F({},n,r,{modal:!0}))},Uo=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ee(r);return o.createElement(lo,F({},a,n,{ref:t}))}),Ko=e=>{const{__scopeAlertDialog:t,...r}=e,n=ee(t);return o.createElement(co,F({},n,r))},Ho=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ee(r);return o.createElement(ro,F({},a,n,{ref:t}))}),zr="AlertDialogContent",[Vo,Yo]=Wo(zr),Go=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=ee(r),i=o.useRef(null),l=Nr(t,i),u=o.useRef(null);return o.createElement(no,{contentName:zr,titleName:qo,docsSlug:"alert-dialog"},o.createElement(Vo,{scope:r,cancelRef:u},o.createElement(oo,F({role:"alertdialog"},s,a,{ref:l,onOpenAutoFocus:ho(a.onOpenAutoFocus,d=>{var p;d.preventDefault(),(p=u.current)===null||p===void 0||p.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault()}),o.createElement(Qn,null,n),!1)))}),qo="AlertDialogTitle",Xo=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ee(r);return o.createElement(ao,F({},a,n,{ref:t}))}),Zo=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ee(r);return o.createElement(so,F({},a,n,{ref:t}))}),Jo=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ee(r);return o.createElement(_r,F({},a,n,{ref:t}))}),Qo="AlertDialogCancel",ea=o.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Yo(Qo,r),s=ee(r),i=Nr(t,a);return o.createElement(_r,F({},s,n,{ref:i}))}),ta=Bo,ra=Uo,na=Ko,Wr=Ho,Br=Go,Ur=Jo,Kr=ea,Hr=Xo,Vr=Zo,oa=ta,aa=ra,sa=na,Yr=o.forwardRef(({className:e,children:t,...r},n)=>c.jsx(Wr,{className:M("fixed inset-0 z-[111111] bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));Yr.displayName=Wr.displayName;const Gr=o.forwardRef(({className:e,...t},r)=>c.jsxs(sa,{children:[c.jsx(Yr,{}),c.jsx(Br,{ref:r,className:M("fixed left-[50%] top-[50%] z-[111111] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...t})]}));Gr.displayName=Br.displayName;const qr=({className:e,...t})=>c.jsx("div",{className:M("flex flex-col space-y-2 text-center sm:text-left",e),...t});qr.displayName="AlertDialogHeader";const Xr=({className:e,...t})=>c.jsx("div",{className:M("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xr.displayName="AlertDialogFooter";const Zr=o.forwardRef(({className:e,...t},r)=>c.jsx(Hr,{ref:r,className:M("text-lg font-semibold",e),...t}));Zr.displayName=Hr.displayName;const Jr=o.forwardRef(({className:e,...t},r)=>c.jsx(Vr,{ref:r,className:M("text-sm text-muted-foreground",e),...t}));Jr.displayName=Vr.displayName;const Qr=o.forwardRef(({className:e,...t},r)=>c.jsx(Ur,{ref:r,className:M(kr(),e),...t}));Qr.displayName=Ur.displayName;const en=o.forwardRef(({className:e,...t},r)=>c.jsx(Kr,{ref:r,className:M(kr({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));en.displayName=Kr.displayName;const tn=({children:e,onConfirm:t})=>{const r=n=>{n.stopPropagation(),t()};return c.jsxs(oa,{children:[c.jsx(aa,{onClick:n=>n.stopPropagation(),asChild:!0,children:e}),c.jsxs(Gr,{children:[c.jsxs(qr,{children:[c.jsx(Zr,{children:"Are you absolutely sure?"}),c.jsx(Jr,{children:"This action cannot be undone. This will permanently delete the Koji and remove the data from the servers."})]}),c.jsxs(Xr,{children:[c.jsx(en,{onClick:n=>n.stopPropagation(),children:"Cancel"}),c.jsx(Qr,{onClick:r,children:"Delete"})]})]})]})},rr=()=>{const{selected_document:e}=Q().props,{archives:t}=Q().props,[r,n]=o.useState(""),a=o.useMemo(()=>t.filter(({title:u})=>u.toLocaleLowerCase().includes(r.toLocaleLowerCase())),[r,t]),s=u=>W.get(route("documents.show",{id:u})),i=(u,d)=>{u.stopPropagation(),W.post(route("documents.restore",{id:d}),{},{onSuccess:()=>O.success("Restore successfull"),onError:()=>O.error("Something Went Wrong. Please try again...")})},l=u=>{W.post(route("documents.permanent_destroy",{id:u}),{active:(e==null?void 0:e.id)===u},{onSuccess:()=>{O.success("Document Permanently Deleted")},onError:()=>O.error("Something Went Wrong. Please try again...")})};return c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"flex items-center gap-x-1 p-1.5",children:[c.jsx(Bt,{className:"h-4 w-4"}),c.jsx(Or,{value:r,onChange:({target:u})=>n(u.value),className:"h-7 px-1.5 bg-secondary",placeholder:"Filter by Title..."})]}),c.jsxs("div",{className:"mt-2 px-1 pb-1",children:[c.jsx("p",{className:"hidden last:block text-xs text-center pb-2 text-muted-foreground",children:"No Documents Found..."}),a.map(({id:u,...d})=>c.jsxs("div",{role:"button",onClick:()=>s(u),className:"text-sm rounded-sm w-full hover:bg-primary/5 flex items-center text-primary justify-between",children:[c.jsx("span",{className:"truncate pl-2",children:d.title}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"rounded-sm p-2 hover:bg-primary/20",role:"button",onClick:p=>i(p,u),children:c.jsx(Fo,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx(tn,{onConfirm:()=>l(u),children:c.jsx("div",{role:"button",className:"rounded-sm p-2 hover:bg-primary/20",children:c.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})})})]})]},u))]})]})},rn=Tr((e,t)=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1}),toggle:()=>e({isOpen:!t().isOpen})})),nn=Tr(e=>({isOpen:!1,onOpen:()=>e({isOpen:!0}),onClose:()=>e({isOpen:!1})})),ca=({initialData:e})=>{const{id:t}=e,[r,n]=o.useState(!1),[a,s]=o.useState(e.title),i=o.useRef(null),l=()=>{s(e.title),n(!0),setTimeout(()=>{var f,b;(f=i.current)==null||f.focus(),(b=i.current)==null||b.setSelectionRange(0,i.current.value.length)},0)},u=()=>n(!1),d=f=>{s(f.target.value),W.post(route("documents.update",{id:t}),{title:f.target.value||`Koji: ${Ne(new Date,"Pp")}`},{preserveState:!0})},p=f=>{f.key==="Enter"&&u()};return c.jsxs("div",{className:"flex items-center gap-x-1",children:[!!e.icon&&c.jsx("p",{children:e.icon}),r?c.jsx(Or,{onClick:l,onBlur:u,onKeyDown:p,onChange:d,ref:i,value:a,className:"h-7 px-2 "}):c.jsx(ae,{onClick:l,variant:"ghost",size:"sm",className:"font-normal h-auto p-1",children:c.jsx("span",{className:"truncate",children:e.title})})]})},ia=({id:e})=>{const t=()=>{W.post(route("documents.restore",{id:e}),{},{onSuccess:()=>O.success("Restore successfull"),onError:()=>O.error("Something Went Wrong. Please try again...")})},r=()=>{W.post(route("documents.permanent_destroy",{id:e}),{active:!0},{onSuccess:()=>{O.success("Document Permanently Deleted")},onError:()=>O.error("Something Went Wrong. Please try again...")})};return c.jsxs("div",{className:"w-full bg-rose-500 text-center text-sm p-2 text-white flex items-center gap-x-2 justify-center",children:[c.jsx("p",{children:"This Page has been Archived"}),c.jsx(ae,{size:"sm",onClick:t,variant:"outline",className:"border-white bg-transparent hover:bg-primary/5 text-white hover:text-white py-1 px-2 h-auto font-normal",children:"Restore Koji"}),c.jsx(tn,{onConfirm:r,children:c.jsx(ae,{size:"sm",variant:"outline",className:"border-white bg-transparent hover:bg-primary/5 text-white hover:text-white py-1 px-2 h-auto font-normal",children:"Delete Permanently"})})]})},la=({id:e,updateDate:t})=>{const r=()=>{W.post(route("documents.destroy",{id:e}),{active:!0},{preserveState:!0,onSuccess:()=>{O.success("Note Archived")},onError:()=>O.error("Something Went Wrong. Please try again....")})};return c.jsxs(Ft,{children:[c.jsx(Mt,{asChild:!0,children:c.jsx(ae,{size:"sm",variant:"ghost",children:c.jsx(Lr,{className:"h-4 w-4"})})}),c.jsxs(It,{className:"w-60",align:"end",alignOffset:8,forceMount:!0,children:[c.jsxs(Ve,{onClick:r,children:[c.jsx(Ut,{className:"h-4 w-4 mr-2"}),c.jsx("span",{children:"Archive"})]}),c.jsx(Lt,{}),c.jsxs("div",{className:"text-xs text-muted-foreground p-2",children:["Last Edited: ",Ne(t,"PPpp")]})]})]})},ua=({document:e})=>{const{id:t}=e,r=route("preview",{id:t}),[n,a]=o.useState(!1),[s,i]=o.useState(!1),l=()=>{i(!0),W.post(route("documents.update",{id:t}),{is_published:1},{onError:()=>O.error("Something Went Wrong. Please try again...."),onSuccess:()=>O.success("Document Published"),onFinish:()=>i(!1)})},u=()=>{i(!0),W.post(route("documents.update",{id:t}),{is_published:0},{onError:()=>O.error("Something Went Wrong. Please try again...."),onSuccess:()=>O.success("Document Unpublished"),onFinish:()=>i(!1)})},d=()=>{navigator.clipboard.writeText(r),a(!0),O.success("URL Copied",{duration:1e3}),setTimeout(()=>a(!1),1e3)};return c.jsxs(bt,{children:[c.jsx(xt,{asChild:!0,children:c.jsxs(ae,{size:"sm",variant:"ghost",children:["Publish",e.is_published===1&&c.jsx(it,{className:"text-sky-500 w-4 h-4 ml-2"})]})}),c.jsx(yt,{className:"w-72",align:"end",alignOffset:8,forceMount:!0,children:e.is_published===1?c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-x-2",children:[c.jsx(it,{className:"text-sky-500 animate-pulse h-4 w-4"}),c.jsx("p",{className:"text-xs font-medium text-sky-500",children:"This Note is Live"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{value:r,className:"flex-1 px-2 text-xs border rounded-l-md h-8 bg-muted truncate",disabled:!0}),c.jsx(ae,{onClick:d,disabled:n,className:"h-8 rounded-l-none",children:n?c.jsx(bo,{className:"h-4 w-4"}):c.jsx(Ro,{className:"h-4 w-4"})})]}),c.jsx(ae,{size:"sm",className:"w-full text-sm",disabled:s,onClick:u,children:"UnPublish"})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center",children:[c.jsx(it,{className:"h-8 w-8 text-muted-foreground mb-2"}),c.jsx("p",{className:"text-sm font-medium mb-2",children:"Publish this Note"}),c.jsx("span",{className:"text-xs text-muted-foreground mb-4",children:"Share this with others"}),c.jsx(ae,{disabled:s,onClick:l,className:"w-full text-xs",size:"sm",children:"Publish"})]})})]})},da=({isCollapsed:e,onResetWidth:t})=>{const{selected_document:r}=Q().props;return r?c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"bg-background dark:bg-background/90 px-2.5 py-1.5 w-full flex items-center gap-x-3.5",children:[e&&c.jsx(Ir,{role:"button",onClick:t,className:"w-6 h-6 text-muted-foreground"}),c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsx(ca,{initialData:r}),c.jsxs("div",{className:"flex items-center gap-x-2",children:[c.jsx(ua,{document:r}),c.jsx(la,{updateDate:new Date(r.updated_at),id:r.id})]})]})]}),r.is_archived===1&&c.jsx(ia,{id:r.id})]}):null},Zc=()=>{const{selected_document:e}=Q().props,{documents:t}=Q().props,r=Io("(max-width: 768px)"),n=o.useRef(!1),a=o.useRef(null),s=o.useRef(null),[i,l]=o.useState(!1),[u,d]=o.useState(r),{onOpen:p}=rn(),{onOpen:f}=nn(),b=S=>{S.preventDefault(),S.stopPropagation(),n.current=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",j)},w=S=>{if(!n.current)return;let E=S.clientX;E<240&&(E=240),E>480&&(E=480),a.current&&s.current&&(a.current.style.width=`${E}px`,s.current.style.setProperty("left",`${E}px`),s.current.style.setProperty("width",`calc(100% - ${E})px`))},j=()=>{n.current=!1,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",j)},h=()=>{a.current&&s.current&&(l(!0),d(!1),a.current.style.width=r?"100%":"15rem",s.current.style.setProperty("width",r?"0":"calc(100% - 15rem)"),s.current.style.setProperty("left",r?"100%":"15rem"),setTimeout(()=>l(!1),300))},$=()=>{a.current&&s.current&&(d(!0),l(!0),a.current.style.width="0px",s.current.style.setProperty("width","100%"),s.current.style.setProperty("left","0"),setTimeout(()=>l(!1),300))};o.useEffect(()=>{r?$():h()},[r]);const g=()=>{W.post(route("documents.store"),{title:`Koji: ${Ne(new Date,"Pp")}`},{preserveScroll:!0,preserveState:!1,onError:()=>O.error("Something Went Wrong. Please try again....")})};return c.jsxs(c.Fragment,{children:[c.jsxs("aside",{ref:a,className:M("group/sidebar max-h-screen overflow-hidden h-full bg-secondary overflow-y-auto relative flex flex-col w-60 z-[100000] ",i&&"transition-all ease-in-out duration-300",r&&"w-0"),children:[c.jsx("div",{onClick:$,role:"button",className:M("h-6 w-6 text-muted-foreground rounded-sm hover:text-primary absolute top-3 right-2 opacity-0 group-hover/sidebar:opacity-100 transition ",r&&"opacity-100"),children:c.jsx(_o,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx(Lo,{}),c.jsx(J,{onClick:()=>W.get(route("mood.index")),label:"Mood Calendar",Icon:ko}),c.jsx("div",{className:"border-b border-b-muted-foreground mx-1 pb-1"}),c.jsx(J,{onClick:p,label:"Search",Icon:Bt,isSearch:!0}),c.jsx(J,{onClick:f,label:"Settings",Icon:To}),c.jsx("div",{className:"border-b border-b-muted-foreground mx-1 pb-1"}),c.jsx(J,{onClick:()=>W.get(route("dashboard.index")),label:"Dashboard",Icon:Oo})]}),c.jsxs("div",{className:"flex-1 mt-4 flex flex-col overflow-hidden",children:[c.jsx("div",{children:"Todo"}),c.jsxs("div",{className:"h-auto",children:[c.jsx(J,{onClick:g,Icon:wt,label:"Add a Koji"}),c.jsxs(bt,{children:[c.jsx(xt,{className:"w-full",children:c.jsx(J,{label:"Archives",Icon:tr})}),c.jsx(yt,{className:"p-0 w-72",side:r?"bottom":"right",children:c.jsx(rr,{})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(Et,{documents:t})})]}),c.jsxs("div",{className:"flex-1 mt-4 flex flex-col overflow-hidden",children:[c.jsx("div",{children:"Journal"}),c.jsxs("div",{className:"h-auto",children:[c.jsx(J,{onClick:g,Icon:wt,label:"Add a Koji"}),c.jsxs(bt,{children:[c.jsx(xt,{className:"w-full",children:c.jsx(J,{label:"Archives",Icon:tr})}),c.jsx(yt,{className:"p-0 w-72",side:r?"bottom":"right",children:c.jsx(rr,{})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsx(Et,{documents:t})})]}),c.jsx("div",{onMouseDown:b,onClick:h,className:"hopacity-0 hover:opacity-100 transition cursor-ew-resize absolute h-full w-1 bg-primary right-0 top-0"})]}),c.jsx("div",{ref:s,className:M("absolute top-0 z-[100000] left-60 w-[calc(100%-15rem)]",i&&"transition-all ease-in-out duration-300",r&&"left-0 w-full"),children:e!=null&&e.id?c.jsx(da,{isCollapsed:u,onResetWidth:h}):c.jsx("nav",{className:"bg-transparent px-3 py-2 w-full",children:u&&c.jsx(Ir,{onClick:h,className:"h-6 w-6 text-muted-foreground",role:"button"})})})]})},fa=()=>{const{isOpen:e,onClose:t}=nn();return c.jsx(zt,{open:e,onOpenChange:t,children:c.jsxs(Wt,{children:[c.jsx(Rr,{children:c.jsx(uo,{className:"border-b pb-2.5",children:c.jsxs("span",{className:"text-lg font-medium",children:[Ye," Settings"]})})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col gap-y-1",children:[c.jsx(go,{children:"Appearance"}),c.jsxs("span",{className:"text-[0.8rem] text-muted-foreground",children:["Customize ",Ye," Theme"]})]}),c.jsx(fo,{})]})]})})};var on={exports:{}},pa="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ma=pa,ha=ma;function an(){}function sn(){}sn.resetWarningCache=an;var va=function(){function e(n,a,s,i,l,u){if(u!==ha){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sn,resetWarningCache:an};return r.PropTypes=r,r};on.exports=va();var ga=on.exports;const A=jr(ga);var ba=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ae(e,t){var r=xa(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function xa(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),a=ba.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var ya=[".DS_Store","Thumbs.db"];function $a(e){return we(this,void 0,void 0,function(){return Ee(this,function(t){return Ge(e)&&wa(e.dataTransfer)?[2,ja(e.dataTransfer,e.type)]:Ea(e)?[2,Ca(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,Da(e)]:[2,[]]})})}function wa(e){return Ge(e)}function Ea(e){return Ge(e)&&Ge(e.target)}function Ge(e){return typeof e=="object"&&e!==null}function Ca(e){return Ct(e.target.files).map(function(t){return Ae(t)})}function Da(e){return we(this,void 0,void 0,function(){var t;return Ee(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return Ae(n)})]}})})}function ja(e,t){return we(this,void 0,void 0,function(){var r,n;return Ee(this,function(a){switch(a.label){case 0:return e.items?(r=Ct(e.items).filter(function(s){return s.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Sa))]):[3,2];case 1:return n=a.sent(),[2,nr(cn(n))];case 2:return[2,nr(Ct(e.files).map(function(s){return Ae(s)}))]}})})}function nr(e){return e.filter(function(t){return ya.indexOf(t.name)===-1})}function Ct(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Sa(e){if(typeof e.webkitGetAsEntry!="function")return or(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?ln(t):or(e)}function cn(e){return e.reduce(function(t,r){return $t($t([],er(t),!1),er(Array.isArray(r)?cn(r):[r]),!1)},[])}function or(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=Ae(t);return Promise.resolve(r)}function Na(e){return we(this,void 0,void 0,function(){return Ee(this,function(t){return[2,e.isDirectory?ln(e):ka(e)]})})}function ln(e){var t=e.createReader();return new Promise(function(r,n){var a=[];function s(){var i=this;t.readEntries(function(l){return we(i,void 0,void 0,function(){var u,d,p;return Ee(this,function(f){switch(f.label){case 0:if(l.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return u=f.sent(),r(u),[3,4];case 3:return d=f.sent(),n(d),[3,4];case 4:return[3,6];case 5:p=Promise.all(l.map(Na)),a.push(p),s(),f.label=6;case 6:return[2]}})})},function(l){n(l)})}s()})}function ka(e){return we(this,void 0,void 0,function(){return Ee(this,function(t){return[2,new Promise(function(r,n){e.file(function(a){var s=Ae(a,e.fullPath);r(s)},function(a){n(a)})})]})})}var Pa=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return r.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):a===l})}return!0};function ar(e){return Ra(e)||_a(e)||dn(e)||Aa()}function Aa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _a(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ra(e){if(Array.isArray(e))return Dt(e)}function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sr(Object(r),!0).forEach(function(n){un(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e,t){return Fa(e)||Ta(e,t)||dn(e,t)||Oa()}function Oa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dn(e,t){if(e){if(typeof e=="string")return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(e,t)}}function Dt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ta(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,s=!1,i,l;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(s)throw l}}return n}}function Fa(e){if(Array.isArray(e))return e}var Ma="file-invalid-type",Ia="file-too-large",La="file-too-small",za="too-many-files",Wa=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Ma,message:"File type must be ".concat(r)}},ir=function(t){return{code:Ia,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},lr=function(t){return{code:La,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ba={code:za,message:"Too many files"};function fn(e,t){var r=e.type==="application/x-moz-file"||Pa(e,t);return[r,r?null:Wa(t)]}function pn(e,t,r){if(ie(e.size))if(ie(t)&&ie(r)){if(e.size>r)return[!1,ir(r)];if(e.size<t)return[!1,lr(t)]}else{if(ie(t)&&e.size<t)return[!1,lr(t)];if(ie(r)&&e.size>r)return[!1,ir(r)]}return[!0,null]}function ie(e){return e!=null}function Ua(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,s=e.multiple,i=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&i>=1&&t.length>i?!1:t.every(function(u){var d=fn(u,r),p=ke(d,1),f=p[0],b=pn(u,n,a),w=ke(b,1),j=w[0],h=l?l(u):null;return f&&j&&!h})}function qe(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function We(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ur(e){e.preventDefault()}function Ka(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Ha(e){return e.indexOf("Edge/")!==-1}function Va(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Ka(e)||Ha(e)}function q(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),i=1;i<a;i++)s[i-1]=arguments[i];return t.some(function(l){return!qe(n)&&l&&l.apply(void 0,[n].concat(s)),qe(n)})}}function Ya(){return"showOpenFilePicker"in window}function Ga(e){if(ie(e)){var t=Object.entries(e).filter(function(r){var n=ke(r,2),a=n[0],s=n[1],i=!0;return mn(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(hn))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(r,n){var a=ke(n,2),s=a[0],i=a[1];return cr(cr({},r),{},un({},s,i))},{});return[{description:"Files",accept:t}]}return e}function qa(e){if(ie(e))return Object.entries(e).reduce(function(t,r){var n=ke(r,2),a=n[0],s=n[1];return[].concat(ar(t),[a],ar(s))},[]).filter(function(t){return mn(t)||hn(t)}).join(",")}function Xa(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Za(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function mn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function hn(e){return/^.*\.[\w]+$/.test(e)}var Ja=["children"],Qa=["open"],es=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ts=["refKey","onChange","onClick"];function rs(e){return as(e)||os(e)||vn(e)||ns()}function ns(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function os(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function as(e){if(Array.isArray(e))return jt(e)}function lt(e,t){return is(e)||cs(e,t)||vn(e,t)||ss()}function ss(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vn(e,t){if(e){if(typeof e=="string")return jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(e,t)}}function jt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cs(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,s=!1,i,l;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(u){s=!0,l=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(s)throw l}}return n}}function is(e){if(Array.isArray(e))return e}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dr(Object(r),!0).forEach(function(n){St(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xe(e,t){if(e==null)return{};var r=ls(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ls(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Kt=o.forwardRef(function(e,t){var r=e.children,n=Xe(e,Ja),a=bn(n),s=a.open,i=Xe(a,Qa);return o.useImperativeHandle(t,function(){return{open:s}},[s]),Xn.createElement(o.Fragment,null,r(R(R({},i),{},{open:s})))});Kt.displayName="Dropzone";var gn={disabled:!1,getFilesFromEvent:$a,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Kt.defaultProps=gn;Kt.propTypes={children:A.func,accept:A.objectOf(A.arrayOf(A.string)),multiple:A.bool,preventDropOnDocument:A.bool,noClick:A.bool,noKeyboard:A.bool,noDrag:A.bool,noDragEventsBubbling:A.bool,minSize:A.number,maxSize:A.number,maxFiles:A.number,disabled:A.bool,getFilesFromEvent:A.func,onFileDialogCancel:A.func,onFileDialogOpen:A.func,useFsAccessApi:A.bool,autoFocus:A.bool,onDragEnter:A.func,onDragLeave:A.func,onDragOver:A.func,onDrop:A.func,onDropAccepted:A.func,onDropRejected:A.func,onError:A.func,validator:A.func};var Nt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function bn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=R(R({},gn),e),r=t.accept,n=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,i=t.minSize,l=t.multiple,u=t.maxFiles,d=t.onDragEnter,p=t.onDragLeave,f=t.onDragOver,b=t.onDrop,w=t.onDropAccepted,j=t.onDropRejected,h=t.onFileDialogCancel,$=t.onFileDialogOpen,g=t.useFsAccessApi,S=t.autoFocus,E=t.preventDropOnDocument,D=t.noClick,P=t.noKeyboard,N=t.noDrag,T=t.noDragEventsBubbling,H=t.onError,K=t.validator,te=o.useMemo(function(){return qa(r)},[r]),se=o.useMemo(function(){return Ga(r)},[r]),X=o.useMemo(function(){return typeof $=="function"?$:fr},[$]),re=o.useMemo(function(){return typeof h=="function"?h:fr},[h]),L=o.useRef(null),V=o.useRef(null),Te=o.useReducer(us,Nt),De=lt(Te,2),de=De[0],m=De[1],C=de.isFocused,k=de.isFileDialogActive,x=o.useRef(typeof window<"u"&&window.isSecureContext&&g&&Ya()),_=function(){!x.current&&k&&setTimeout(function(){if(V.current){var y=V.current.files;y.length||(m({type:"closeDialog"}),re())}},300)};o.useEffect(function(){return window.addEventListener("focus",_,!1),function(){window.removeEventListener("focus",_,!1)}},[V,k,re,x]);var z=o.useRef([]),ne=function(y){L.current&&L.current.contains(y.target)||(y.preventDefault(),z.current=[])};o.useEffect(function(){return E&&(document.addEventListener("dragover",ur,!1),document.addEventListener("drop",ne,!1)),function(){E&&(document.removeEventListener("dragover",ur),document.removeEventListener("drop",ne))}},[L,E]),o.useEffect(function(){return!n&&S&&L.current&&L.current.focus(),function(){}},[L,S,n]);var Z=o.useCallback(function(v){H?H(v):console.error(v)},[H]),Yt=o.useCallback(function(v){v.preventDefault(),v.persist(),Le(v),z.current=[].concat(rs(z.current),[v.target]),We(v)&&Promise.resolve(a(v)).then(function(y){if(!(qe(v)&&!T)){var I=y.length,U=I>0&&Ua({files:y,accept:te,minSize:i,maxSize:s,multiple:l,maxFiles:u,validator:K}),G=I>0&&!U;m({isDragAccept:U,isDragReject:G,isDragActive:!0,type:"setDraggedFiles"}),d&&d(v)}}).catch(function(y){return Z(y)})},[a,d,Z,T,te,i,s,l,u,K]),Gt=o.useCallback(function(v){v.preventDefault(),v.persist(),Le(v);var y=We(v);if(y&&v.dataTransfer)try{v.dataTransfer.dropEffect="copy"}catch{}return y&&f&&f(v),!1},[f,T]),qt=o.useCallback(function(v){v.preventDefault(),v.persist(),Le(v);var y=z.current.filter(function(U){return L.current&&L.current.contains(U)}),I=y.indexOf(v.target);I!==-1&&y.splice(I,1),z.current=y,!(y.length>0)&&(m({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),We(v)&&p&&p(v))},[L,p,T]),Fe=o.useCallback(function(v,y){var I=[],U=[];v.forEach(function(G){var je=fn(G,te),me=lt(je,2),tt=me[0],rt=me[1],nt=pn(G,i,s),ze=lt(nt,2),ot=ze[0],at=ze[1],st=K?K(G):null;if(tt&&ot&&!st)I.push(G);else{var ct=[rt,at];st&&(ct=ct.concat(st)),U.push({file:G,errors:ct.filter(function(qn){return qn})})}}),(!l&&I.length>1||l&&u>=1&&I.length>u)&&(I.forEach(function(G){U.push({file:G,errors:[Ba]})}),I.splice(0)),m({acceptedFiles:I,fileRejections:U,type:"setFiles"}),b&&b(I,U,y),U.length>0&&j&&j(U,y),I.length>0&&w&&w(I,y)},[m,l,te,i,s,u,b,w,j,K]),Me=o.useCallback(function(v){v.preventDefault(),v.persist(),Le(v),z.current=[],We(v)&&Promise.resolve(a(v)).then(function(y){qe(v)&&!T||Fe(y,v)}).catch(function(y){return Z(y)}),m({type:"reset"})},[a,Fe,Z,T]),fe=o.useCallback(function(){if(x.current){m({type:"openDialog"}),X();var v={multiple:l,types:se};window.showOpenFilePicker(v).then(function(y){return a(y)}).then(function(y){Fe(y,null),m({type:"closeDialog"})}).catch(function(y){Xa(y)?(re(y),m({type:"closeDialog"})):Za(y)?(x.current=!1,V.current?(V.current.value=null,V.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(y)});return}V.current&&(m({type:"openDialog"}),X(),V.current.value=null,V.current.click())},[m,X,re,g,Fe,Z,se,l]),Xt=o.useCallback(function(v){!L.current||!L.current.isEqualNode(v.target)||(v.key===" "||v.key==="Enter"||v.keyCode===32||v.keyCode===13)&&(v.preventDefault(),fe())},[L,fe]),Zt=o.useCallback(function(){m({type:"focus"})},[]),Jt=o.useCallback(function(){m({type:"blur"})},[]),Qt=o.useCallback(function(){D||(Va()?setTimeout(fe,0):fe())},[D,fe]),pe=function(y){return n?null:y},et=function(y){return P?null:pe(y)},Ie=function(y){return N?null:pe(y)},Le=function(y){T&&y.stopPropagation()},Vn=o.useMemo(function(){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=v.refKey,I=y===void 0?"ref":y,U=v.role,G=v.onKeyDown,je=v.onFocus,me=v.onBlur,tt=v.onClick,rt=v.onDragEnter,nt=v.onDragOver,ze=v.onDragLeave,ot=v.onDrop,at=Xe(v,es);return R(R(St({onKeyDown:et(q(G,Xt)),onFocus:et(q(je,Zt)),onBlur:et(q(me,Jt)),onClick:pe(q(tt,Qt)),onDragEnter:Ie(q(rt,Yt)),onDragOver:Ie(q(nt,Gt)),onDragLeave:Ie(q(ze,qt)),onDrop:Ie(q(ot,Me)),role:typeof U=="string"&&U!==""?U:"presentation"},I,L),!n&&!P?{tabIndex:0}:{}),at)}},[L,Xt,Zt,Jt,Qt,Yt,Gt,qt,Me,P,N,n]),Yn=o.useCallback(function(v){v.stopPropagation()},[]),Gn=o.useMemo(function(){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=v.refKey,I=y===void 0?"ref":y,U=v.onChange,G=v.onClick,je=Xe(v,ts),me=St({accept:te,multiple:l,type:"file",style:{display:"none"},onChange:pe(q(U,Me)),onClick:pe(q(G,Yn)),tabIndex:-1},I,V);return R(R({},me),je)}},[V,r,l,Me,n]);return R(R({},de),{},{isFocused:C&&!n,getRootProps:Vn,getInputProps:Gn,rootRef:L,inputRef:V,open:pe(fe)})}function us(e,t){switch(t.type){case"focus":return R(R({},e),{},{isFocused:!0});case"blur":return R(R({},e),{},{isFocused:!1});case"openDialog":return R(R({},Nt),{},{isFileDialogActive:!0});case"closeDialog":return R(R({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return R(R({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return R(R({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return R({},Nt);default:return e}}function fr(){}const he={base:"relative rounded-md flex justify-center items-center flex-col cursor-pointer min-h-[150px] min-w-[200px] border border-dashed border-gray-400 dark:border-gray-300 transition-colors duration-200 ease-in-out",image:"border-0 p-0 min-h-0 min-w-0 relative shadow-md bg-slate-200 dark:bg-slate-900 rounded-md",active:"border-2",disabled:"bg-gray-200 border-gray-300 cursor-default pointer-events-none bg-opacity-30 dark:bg-gray-700",accept:"border border-blue-500 bg-blue-500 bg-opacity-10",reject:"border border-red-700 bg-red-700 bg-opacity-10"},Be={fileTooLarge(e){return`The file is too large. Max size is ${fs(e)}.`},fileInvalidType(){return"Invalid file type."},tooManyFiles(e){return`You can only add ${e} file(s).`},fileNotSupported(){return"The file is not supported."}},xn=o.forwardRef(({dropzoneOptions:e,width:t,height:r,value:n,className:a,disabled:s,onChange:i},l)=>{var S;const u=o.useMemo(()=>typeof n=="string"?n:n?URL.createObjectURL(n):null,[n]),{getRootProps:d,getInputProps:p,acceptedFiles:f,fileRejections:b,isFocused:w,isDragAccept:j,isDragReject:h}=bn({accept:{"image/*":[]},multiple:!1,disabled:s,onDrop:E=>{const D=E[0];D&&(i==null||i(D))},...e}),$=o.useMemo(()=>Pr(he.base,w&&he.active,s&&he.disabled,u&&he.image,(h??b[0])&&he.reject,j&&he.accept,a).trim(),[w,u,b,j,h,s,a]),g=o.useMemo(()=>{var E,D,P;if(b[0]){const{errors:N}=b[0];return((E=N[0])==null?void 0:E.code)==="file-too-large"?Be.fileTooLarge((e==null?void 0:e.maxSize)??0):((D=N[0])==null?void 0:D.code)==="file-invalid-type"?Be.fileInvalidType():((P=N[0])==null?void 0:P.code)==="too-many-files"?Be.tooManyFiles((e==null?void 0:e.maxFiles)??0):Be.fileNotSupported()}},[b,e]);return c.jsxs("div",{className:"relative",children:[s&&c.jsx("div",{className:"flex items-center justify-center absolute inset-y-0 w-full bg-background/80 z-50",children:c.jsx(po,{size:"lg"})}),c.jsxs("div",{...d({className:$,style:{width:t,height:r}}),children:[c.jsx("input",{ref:l,...p()}),u?c.jsx("img",{className:"h-full w-full rounded-md object-cover",src:u,alt:(S=f[0])==null?void 0:S.name}):c.jsxs("div",{className:"flex flex-col items-center justify-center text-xs text-gray-400",children:[c.jsx(Mo,{className:"mb-2 h-7 w-7"}),c.jsx("div",{className:"text-gray-400",children:"Click or Drag n' Drop Image"})]}),u&&!s&&c.jsx("div",{className:"group absolute right-0 top-0 -translate-y-1/4 translate-x-1/4 transform",onClick:E=>{E.stopPropagation(),i==null||i(void 0)},children:c.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-md border border-solid border-gray-500 bg-white transition-all duration-300 hover:h-6 hover:w-6 dark:border-gray-400 dark:bg-black",children:c.jsx(xo,{className:"text-gray-500 dark:text-gray-400",width:16,height:16})})})]}),c.jsx("div",{className:"mt-1 text-xs text-red-500",children:g})]})});xn.displayName="SingleImageDropzone";const ds=o.forwardRef(({className:e,...t},r)=>c.jsx("button",{className:Pr("focus-visible:ring-ring inline-flex cursor-pointer items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50","border border-gray-400 text-gray-400 shadow hover:bg-gray-100 hover:text-gray-500 dark:border-gray-600 dark:text-gray-100 dark:hover:bg-gray-700","h-6 rounded-md px-2 text-xs",e),ref:r,...t}));ds.displayName="Button";function fs(e){if(!e||(e=Number(e),e===0))return"0 Bytes";const t=1024,r=2,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,a)).toFixed(r))} ${n[a]}`}const ps=()=>{const{isOpen:e,onClose:t}=vo(),[r,n]=o.useState(),[a,s]=o.useState(!1),{selected_document:i}=Q().props,l=u=>{if(!i||!u)return;const{id:d}=i;s(!0),n(u),W.post(route("documents.update",{id:d}),{cover_image:u},{onSuccess:()=>{O.success("Cover Image Set"),n(void 0),t()},onError:()=>O.error("Something Went Wrong. Please try again...."),onFinish:()=>s(!1)})};return c.jsx(zt,{open:e,onOpenChange:t,children:c.jsxs(Wt,{children:[c.jsx(Rr,{children:c.jsx("h2",{className:"text-center text-lg font-semibold",children:"Cover Image"})}),c.jsx("div",{children:c.jsx(xn,{className:"w-full",disabled:a,value:r,onChange:l})})]})})},Jc=()=>c.jsxs(c.Fragment,{children:[c.jsx(fa,{}),c.jsx(ps,{})]});function ye(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ms(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yn(...e){return t=>e.forEach(r=>ms(r,t))}function _e(...e){return o.useCallback(yn(...e),e)}function hs(e,t=[]){let r=[];function n(s,i){const l=o.createContext(i),u=r.length;r=[...r,i];function d(f){const{scope:b,children:w,...j}=f,h=(b==null?void 0:b[e][u])||l,$=o.useMemo(()=>j,Object.values(j));return o.createElement(h.Provider,{value:$},w)}function p(f,b){const w=(b==null?void 0:b[e][u])||l,j=o.useContext(w);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return d.displayName=s+"Provider",[d,p]}const a=()=>{const s=r.map(i=>o.createContext(i));return function(l){const u=(l==null?void 0:l[e])||s;return o.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return a.scopeName=e,[n,vs(a,...t)]}function vs(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:u,scopeName:d})=>{const f=u(s)[`__scope${d}`];return{...l,...f}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const kt=globalThis!=null&&globalThis.document?o.useLayoutEffect:()=>{},gs=Zn["useId".toString()]||(()=>{});let bs=0;function ut(e){const[t,r]=o.useState(gs());return kt(()=>{e||r(n=>n??String(bs++))},[e]),e||(t?`radix-${t}`:"")}function le(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function xs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=ys({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,l=le(r),u=o.useCallback(d=>{if(s){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[s,e,a,l]);return[i,u]}function ys({defaultProp:e,onChange:t}){const r=o.useState(e),[n]=r,a=o.useRef(n),s=le(t);return o.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}const Ht=o.forwardRef((e,t)=>{const{children:r,...n}=e,a=o.Children.toArray(r),s=a.find(ws);if(s){const i=s.props.children,l=a.map(u=>u===s?o.Children.count(i)>1?o.Children.only(null):o.isValidElement(i)?i.props.children:null:u);return o.createElement(Pt,F({},n,{ref:t}),o.isValidElement(i)?o.cloneElement(i,void 0,l):null)}return o.createElement(Pt,F({},n,{ref:t}),r)});Ht.displayName="Slot";const Pt=o.forwardRef((e,t)=>{const{children:r,...n}=e;return o.isValidElement(r)?o.cloneElement(r,{...Es(n,r.props),ref:yn(t,r.ref)}):o.Children.count(r)>1?o.Children.only(null):null});Pt.displayName="SlotClone";const $s=({children:e})=>o.createElement(o.Fragment,null,e);function ws(e){return o.isValidElement(e)&&e.type===$s}function Es(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?r[n]=(...l)=>{s==null||s(...l),a==null||a(...l)}:n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}const Cs=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Ze=Cs.reduce((e,t)=>{const r=o.forwardRef((n,a)=>{const{asChild:s,...i}=n,l=s?Ht:t;return o.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.createElement(l,F({},i,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ds(e,t){e&&Sr.flushSync(()=>e.dispatchEvent(t))}function js(e){const t=le(e);o.useEffect(()=>{const r=n=>{n.key==="Escape"&&t(n)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t])}const At="dismissableLayer.update",Ss="dismissableLayer.pointerDownOutside",Ns="dismissableLayer.focusOutside";let pr;const ks=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ps=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...u}=e,d=o.useContext(ks),[p,f]=o.useState(null),[,b]=o.useState({}),w=_e(t,N=>f(N)),j=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),$=j.indexOf(h),g=p?j.indexOf(p):-1,S=d.layersWithOutsidePointerEventsDisabled.size>0,E=g>=$,D=As(N=>{const T=N.target,H=[...d.branches].some(K=>K.contains(T));!E||H||(a==null||a(N),i==null||i(N),N.defaultPrevented||l==null||l())}),P=_s(N=>{const T=N.target;[...d.branches].some(K=>K.contains(T))||(s==null||s(N),i==null||i(N),N.defaultPrevented||l==null||l())});return js(N=>{g===d.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))}),o.useEffect(()=>{if(p)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(pr=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),mr(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=pr)}},[p,r,d]),o.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),mr())},[p,d]),o.useEffect(()=>{const N=()=>b({});return document.addEventListener(At,N),()=>document.removeEventListener(At,N)},[]),o.createElement(Ze.div,F({},u,{ref:w,style:{pointerEvents:S?E?"auto":"none":void 0,...e.style},onFocusCapture:ye(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ye(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ye(e.onPointerDownCapture,D.onPointerDownCapture)}))});function As(e){const t=le(e),r=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let u=function(){$n(Ss,t,l,{discrete:!0})};const l={originalEvent:i};i.pointerType==="touch"?(document.removeEventListener("click",n.current),n.current=u,document.addEventListener("click",n.current,{once:!0})):u()}r.current=!1},s=window.setTimeout(()=>{document.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),document.removeEventListener("pointerdown",a),document.removeEventListener("click",n.current)}},[t]),{onPointerDownCapture:()=>r.current=!0}}function _s(e){const t=le(e),r=o.useRef(!1);return o.useEffect(()=>{const n=a=>{a.target&&!r.current&&$n(Ns,t,{originalEvent:a},{discrete:!1})};return document.addEventListener("focusin",n),()=>document.removeEventListener("focusin",n)},[t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mr(){const e=new CustomEvent(At);document.dispatchEvent(e)}function $n(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ds(a,s):a.dispatchEvent(s)}const dt="focusScope.autoFocusOnMount",ft="focusScope.autoFocusOnUnmount",hr={bubbles:!1,cancelable:!0},Rs=o.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,u]=o.useState(null),d=le(a),p=le(s),f=o.useRef(null),b=_e(t,h=>u(h)),w=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(n){let h=function(g){if(w.paused||!l)return;const S=g.target;l.contains(S)?f.current=S:ce(f.current,{select:!0})},$=function(g){w.paused||!l||l.contains(g.relatedTarget)||ce(f.current,{select:!0})};return document.addEventListener("focusin",h),document.addEventListener("focusout",$),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",$)}}},[n,l,w.paused]),o.useEffect(()=>{if(l){gr.add(w);const h=document.activeElement;if(!l.contains(h)){const g=new CustomEvent(dt,hr);l.addEventListener(dt,d),l.dispatchEvent(g),g.defaultPrevented||(Os(Ls(wn(l)),{select:!0}),document.activeElement===h&&ce(l))}return()=>{l.removeEventListener(dt,d),setTimeout(()=>{const g=new CustomEvent(ft,hr);l.addEventListener(ft,p),l.dispatchEvent(g),g.defaultPrevented||ce(h??document.body,{select:!0}),l.removeEventListener(ft,p),gr.remove(w)},0)}}},[l,d,p,w]);const j=o.useCallback(h=>{if(!r&&!n||w.paused)return;const $=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if($&&g){const S=h.currentTarget,[E,D]=Ts(S);E&&D?!h.shiftKey&&g===D?(h.preventDefault(),r&&ce(E,{select:!0})):h.shiftKey&&g===E&&(h.preventDefault(),r&&ce(D,{select:!0})):g===S&&h.preventDefault()}},[r,n,w.paused]);return o.createElement(Ze.div,F({tabIndex:-1},i,{ref:b,onKeyDown:j}))});function Os(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ce(n,{select:t}),document.activeElement!==r)return}function Ts(e){const t=wn(e),r=vr(t,e),n=vr(t.reverse(),e);return[r,n]}function wn(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vr(e,t){for(const r of e)if(!Fs(r,{upTo:t}))return r}function Fs(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ms(e){return e instanceof HTMLInputElement&&"select"in e}function ce(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ms(e)&&t&&e.select()}}const gr=Is();function Is(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=br(e,t),e.unshift(t)},remove(t){var r;e=br(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function br(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ls(e){return e.filter(t=>t.tagName!=="A")}const zs=o.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return n?Jn.createPortal(o.createElement(Ze.div,F({},a,{ref:t})),n):null});function Ws(e,t){return o.useReducer((r,n)=>{const a=t[r][n];return a??r},e)}const Je=e=>{const{present:t,children:r}=e,n=Bs(t),a=typeof r=="function"?r({present:n.isPresent}):o.Children.only(r),s=_e(n.ref,a.ref);return typeof r=="function"||n.isPresent?o.cloneElement(a,{ref:s}):null};Je.displayName="Presence";function Bs(e){const[t,r]=o.useState(),n=o.useRef({}),a=o.useRef(e),s=o.useRef("none"),i=e?"mounted":"unmounted",[l,u]=Ws(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const d=Ue(n.current);s.current=l==="mounted"?d:"none"},[l]),kt(()=>{const d=n.current,p=a.current;if(p!==e){const b=s.current,w=Ue(d);e?u("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(p&&b!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,u]),kt(()=>{if(t){const d=f=>{const w=Ue(n.current).includes(f.animationName);f.target===t&&w&&Sr.flushSync(()=>u("ANIMATION_END"))},p=f=>{f.target===t&&(s.current=Ue(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:o.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Ue(e){return(e==null?void 0:e.animationName)||"none"}let pt=0;function Us(){o.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:xr()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:xr()),pt++,()=>{pt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),pt--}},[])}function xr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var En=yo(),mt=function(){},Qe=o.forwardRef(function(e,t){var r=o.useRef(null),n=o.useState({onScrollCapture:mt,onWheelCapture:mt,onTouchMoveCapture:mt}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,p=e.enabled,f=e.shards,b=e.sideCar,w=e.noIsolation,j=e.inert,h=e.allowPinchZoom,$=e.as,g=$===void 0?"div":$,S=$o(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=b,D=wo([r,t]),P=be(be({},S),a);return o.createElement(o.Fragment,null,p&&o.createElement(E,{sideCar:En,removeScrollBar:d,shards:f,noIsolation:w,inert:j,setCallbacks:s,allowPinchZoom:!!h,lockRef:r}),i?o.cloneElement(o.Children.only(l),be(be({},P),{ref:D})):o.createElement(g,be({},P,{className:u,ref:D}),l))});Qe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qe.classNames={fullWidth:Eo,zeroRight:Co};var _t=!1;if(typeof window<"u")try{var Ke=Object.defineProperty({},"passive",{get:function(){return _t=!0,!0}});window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{_t=!1}var ve=_t?{passive:!1}:!1,Ks=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},Hs=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},yr=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=Cn(e,r);if(n){var a=Dn(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Vs=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Ys=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Cn=function(e,t){return e==="v"?Ks(t):Hs(t)},Dn=function(e,t){return e==="v"?Vs(t):Ys(t)},Gs=function(e,t){return e==="h"&&t==="rtl"?-1:1},qs=function(e,t,r,n,a){var s=Gs(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,u=t.contains(l),d=!1,p=i>0,f=0,b=0;do{var w=Dn(e,l),j=w[0],h=w[1],$=w[2],g=h-$-s*j;(j||g)&&Cn(e,l)&&(f+=g,b+=j),l=l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(p&&(a&&f===0||!a&&i>f)||!p&&(a&&b===0||!a&&-i>b))&&(d=!0),d},He=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$r=function(e){return[e.deltaX,e.deltaY]},wr=function(e){return e&&"current"in e?e.current:e},Xs=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zs=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Js=0,ge=[];function Qs(e){var t=o.useRef([]),r=o.useRef([0,0]),n=o.useRef(),a=o.useState(Js++)[0],s=o.useState(function(){return Do()})[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var h=$t([e.lockRef.current],(e.shards||[]).map(wr),!0).filter(Boolean);return h.forEach(function($){return $.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),h.forEach(function($){return $.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=o.useCallback(function(h,$){if("touches"in h&&h.touches.length===2)return!i.current.allowPinchZoom;var g=He(h),S=r.current,E="deltaX"in h?h.deltaX:S[0]-g[0],D="deltaY"in h?h.deltaY:S[1]-g[1],P,N=h.target,T=Math.abs(E)>Math.abs(D)?"h":"v";if("touches"in h&&T==="h"&&N.type==="range")return!1;var H=yr(T,N);if(!H)return!0;if(H?P=T:(P=T==="v"?"h":"v",H=yr(T,N)),!H)return!1;if(!n.current&&"changedTouches"in h&&(E||D)&&(n.current=P),!P)return!0;var K=n.current||P;return qs(K,$,h,K==="h"?E:D,!0)},[]),u=o.useCallback(function(h){var $=h;if(!(!ge.length||ge[ge.length-1]!==s)){var g="deltaY"in $?$r($):He($),S=t.current.filter(function(P){return P.name===$.type&&P.target===$.target&&Xs(P.delta,g)})[0];if(S&&S.should){$.preventDefault();return}if(!S){var E=(i.current.shards||[]).map(wr).filter(Boolean).filter(function(P){return P.contains($.target)}),D=E.length>0?l($,E[0]):!i.current.noIsolation;D&&$.preventDefault()}}},[]),d=o.useCallback(function(h,$,g,S){var E={name:h,delta:$,target:g,should:S};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(D){return D!==E})},1)},[]),p=o.useCallback(function(h){r.current=He(h),n.current=void 0},[]),f=o.useCallback(function(h){d(h.type,$r(h),h.target,l(h,e.lockRef.current))},[]),b=o.useCallback(function(h){d(h.type,He(h),h.target,l(h,e.lockRef.current))},[]);o.useEffect(function(){return ge.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:b}),document.addEventListener("wheel",u,ve),document.addEventListener("touchmove",u,ve),document.addEventListener("touchstart",p,ve),function(){ge=ge.filter(function(h){return h!==s}),document.removeEventListener("wheel",u,ve),document.removeEventListener("touchmove",u,ve),document.removeEventListener("touchstart",p,ve)}},[]);var w=e.removeScrollBar,j=e.inert;return o.createElement(o.Fragment,null,j?o.createElement(s,{styles:Zs(a)}):null,w?o.createElement(jo,{gapMode:"margin"}):null)}const ec=So(En,Qs);var jn=o.forwardRef(function(e,t){return o.createElement(Qe,be({},e,{ref:t,sideCar:ec}))});jn.classNames=Qe.classNames;const tc=jn,Sn="Dialog",[Nn,Qc]=hs(Sn),[rc,ue]=Nn(Sn),nc=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=o.useRef(null),u=o.useRef(null),[d=!1,p]=xs({prop:n,defaultProp:a,onChange:s});return o.createElement(rc,{scope:t,triggerRef:l,contentRef:u,contentId:ut(),titleId:ut(),descriptionId:ut(),open:d,onOpenChange:p,onOpenToggle:o.useCallback(()=>p(f=>!f),[p]),modal:i},r)},kn="DialogPortal",[oc,Pn]=Nn(kn,{forceMount:void 0}),ac=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=ue(kn,t);return o.createElement(oc,{scope:t,forceMount:r},o.Children.map(n,i=>o.createElement(Je,{present:r||s.open},o.createElement(zs,{asChild:!0,container:a},i))))},Rt="DialogOverlay",sc=o.forwardRef((e,t)=>{const r=Pn(Rt,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ue(Rt,e.__scopeDialog);return s.modal?o.createElement(Je,{present:n||s.open},o.createElement(cc,F({},a,{ref:t}))):null}),cc=o.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ue(Rt,r);return o.createElement(tc,{as:Ht,allowPinchZoom:!0,shards:[a.contentRef]},o.createElement(Ze.div,F({"data-state":_n(a.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),Pe="DialogContent",ic=o.forwardRef((e,t)=>{const r=Pn(Pe,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ue(Pe,e.__scopeDialog);return o.createElement(Je,{present:n||s.open},s.modal?o.createElement(lc,F({},a,{ref:t})):o.createElement(uc,F({},a,{ref:t})))}),lc=o.forwardRef((e,t)=>{const r=ue(Pe,e.__scopeDialog),n=o.useRef(null),a=_e(t,r.contentRef,n);return o.useEffect(()=>{const s=n.current;if(s)return No(s)},[]),o.createElement(An,F({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:ye(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:ye(e.onFocusOutside,s=>s.preventDefault())}))}),uc=o.forwardRef((e,t)=>{const r=ue(Pe,e.__scopeDialog),n=o.useRef(!1);return o.createElement(An,F({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,a),!a.defaultPrevented){var i;n.current||(i=r.triggerRef.current)===null||i===void 0||i.focus(),a.preventDefault()}n.current=!1},onInteractOutside:a=>{var s,i;(s=e.onInteractOutside)===null||s===void 0||s.call(e,a),a.defaultPrevented||(n.current=!0);const l=a.target;((i=r.triggerRef.current)===null||i===void 0?void 0:i.contains(l))&&a.preventDefault()}}))}),An=o.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=ue(Pe,r),u=o.useRef(null),d=_e(t,u);return Us(),o.createElement(o.Fragment,null,o.createElement(Rs,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s},o.createElement(Ps,F({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_n(l.open)},i,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function _n(e){return e?"open":"closed"}const dc=nc,fc=ac,pc=sc,mc=ic;var Er=1,hc=.9,vc=.3,ht=.1,gc=0,vt=.999,bc=.9999,xc=.99,Cr=/[\\\/\-_+.# \t"@\[\(\{&]/,yc=/[\\\/\-_+.# \t"@\[\(\{&]/g;function Ot(e,t,r,n,a,s){if(s===t.length)return a===e.length?Er:xc;for(var i=n.charAt(s),l=r.indexOf(i,a),u=0,d,p,f;l>=0;)d=Ot(e,t,r,n,l+1,s+1),d>u&&(l===a?d*=Er:Cr.test(e.charAt(l-1))?(d*=hc,f=e.slice(a,l-1).match(yc),f&&a>0&&(d*=Math.pow(vt,f.length))):Cr.test(e.slice(a,l-1))?(d*=gc,a>0&&(d*=Math.pow(vt,l-a))):(d*=vc,a>0&&(d*=Math.pow(vt,l-a))),e.charAt(l)!==t.charAt(s)&&(d*=bc)),d<ht&&r.charAt(l-1)===n.charAt(s+1)&&r.charAt(l-1)!==n.charAt(s)&&(p=Ot(e,t,r,n,l+1,s+2),p*ht>d&&(d=p*ht)),d>u&&(u=d),l=r.indexOf(i,l+1);return u}function $c(e,t){return Ot(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var wc=$c;const Ec=jr(wc);var Cc='[cmdk-list-sizer=""]',Se='[cmdk-group=""]',gt='[cmdk-group-items=""]',Dc='[cmdk-group-heading=""]',Rn='[cmdk-item=""]',Dr=`${Rn}:not([aria-disabled="true"])`,Tt="cmdk-item-select",oe="data-value",jc=(e,t)=>Ec(e,t),On=o.createContext(void 0),Re=()=>o.useContext(On),Tn=o.createContext(void 0),Vt=()=>o.useContext(Tn),Fn=o.createContext(void 0),Mn=o.forwardRef((e,t)=>{let r=o.useRef(null),n=xe(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),a=xe(()=>new Set),s=xe(()=>new Map),i=xe(()=>new Map),l=xe(()=>new Set),u=In(e),{label:d,children:p,value:f,onValueChange:b,filter:w,shouldFilter:j,...h}=e,$=o.useId(),g=o.useId(),S=o.useId(),E=Mc();Ce(()=>{if(f!==void 0){let m=f.trim().toLowerCase();n.current.value=m,E(6,te),D.emit()}},[f]);let D=o.useMemo(()=>({subscribe:m=>(l.current.add(m),()=>l.current.delete(m)),snapshot:()=>n.current,setState:(m,C,k)=>{var x,_,z;if(!Object.is(n.current[m],C)){if(n.current[m]=C,m==="search")K(),T(),E(1,H);else if(m==="value")if(((x=u.current)==null?void 0:x.value)!==void 0){(z=(_=u.current).onValueChange)==null||z.call(_,C);return}else k||E(5,te);D.emit()}},emit:()=>{l.current.forEach(m=>m())}}),[]),P=o.useMemo(()=>({value:(m,C)=>{C!==i.current.get(m)&&(i.current.set(m,C),n.current.filtered.items.set(m,N(C)),E(2,()=>{T(),D.emit()}))},item:(m,C)=>(a.current.add(m),C&&(s.current.has(C)?s.current.get(C).add(m):s.current.set(C,new Set([m]))),E(3,()=>{K(),T(),n.current.value||H(),D.emit()}),()=>{i.current.delete(m),a.current.delete(m),n.current.filtered.items.delete(m),E(4,()=>{K(),H(),D.emit()})}),group:m=>(s.current.has(m)||s.current.set(m,new Set),()=>{i.current.delete(m),s.current.delete(m)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],listId:$,inputId:S,labelId:g}),[]);function N(m){var C;let k=((C=u.current)==null?void 0:C.filter)??jc;return m?k(m,n.current.search):0}function T(){if(!r.current||!n.current.search||u.current.shouldFilter===!1)return;let m=n.current.filtered.items,C=[];n.current.filtered.groups.forEach(x=>{let _=s.current.get(x),z=0;_.forEach(ne=>{let Z=m.get(ne);z=Math.max(Z,z)}),C.push([x,z])});let k=r.current.querySelector(Cc);X().sort((x,_)=>{let z=x.getAttribute(oe),ne=_.getAttribute(oe);return(m.get(ne)??0)-(m.get(z)??0)}).forEach(x=>{let _=x.closest(gt);_?_.appendChild(x.parentElement===_?x:x.closest(`${gt} > *`)):k.appendChild(x.parentElement===k?x:x.closest(`${gt} > *`))}),C.sort((x,_)=>_[1]-x[1]).forEach(x=>{let _=r.current.querySelector(`${Se}[${oe}="${x[0]}"]`);_==null||_.parentElement.appendChild(_)})}function H(){let m=X().find(k=>!k.ariaDisabled),C=m==null?void 0:m.getAttribute(oe);D.setState("value",C||void 0)}function K(){if(!n.current.search||u.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let m=0;for(let C of a.current){let k=i.current.get(C),x=N(k);n.current.filtered.items.set(C,x),x>0&&m++}for(let[C,k]of s.current)for(let x of k)if(n.current.filtered.items.get(x)>0){n.current.filtered.groups.add(C);break}n.current.filtered.count=m}function te(){var m,C,k;let x=se();x&&(((m=x.parentElement)==null?void 0:m.firstChild)===x&&((k=(C=x.closest(Se))==null?void 0:C.querySelector(Dc))==null||k.scrollIntoView({block:"nearest"})),x.scrollIntoView({block:"nearest"}))}function se(){return r.current.querySelector(`${Rn}[aria-selected="true"]`)}function X(){return Array.from(r.current.querySelectorAll(Dr))}function re(m){let C=X()[m];C&&D.setState("value",C.getAttribute(oe))}function L(m){var C;let k=se(),x=X(),_=x.findIndex(ne=>ne===k),z=x[_+m];(C=u.current)!=null&&C.loop&&(z=_+m<0?x[x.length-1]:_+m===x.length?x[0]:x[_+m]),z&&D.setState("value",z.getAttribute(oe))}function V(m){let C=se(),k=C==null?void 0:C.closest(Se),x;for(;k&&!x;)k=m>0?Tc(k,Se):Fc(k,Se),x=k==null?void 0:k.querySelector(Dr);x?D.setState("value",x.getAttribute(oe)):L(m)}let Te=()=>re(X().length-1),De=m=>{m.preventDefault(),m.metaKey?Te():m.altKey?V(1):L(1)},de=m=>{m.preventDefault(),m.metaKey?re(0):m.altKey?V(-1):L(-1)};return o.createElement("div",{ref:Oe([r,t]),...h,"cmdk-root":"",onKeyDown:m=>{var C;if((C=h.onKeyDown)==null||C.call(h,m),!m.defaultPrevented)switch(m.key){case"n":case"j":{m.ctrlKey&&De(m);break}case"ArrowDown":{De(m);break}case"p":case"k":{m.ctrlKey&&de(m);break}case"ArrowUp":{de(m);break}case"Home":{m.preventDefault(),re(0);break}case"End":{m.preventDefault(),Te();break}case"Enter":{m.preventDefault();let k=se();if(k){let x=new Event(Tt);k.dispatchEvent(x)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:Ic},d),o.createElement(Tn.Provider,{value:D},o.createElement(On.Provider,{value:P},p)))}),Sc=o.forwardRef((e,t)=>{let r=o.useId(),n=o.useRef(null),a=o.useContext(Fn),s=Re(),i=In(e);Ce(()=>s.item(r,a),[]);let l=Ln(r,n,[e.value,e.children,n]),u=Vt(),d=$e(g=>g.value&&g.value===l.current),p=$e(g=>s.filter()===!1?!0:g.search?g.filtered.items.get(r)>0:!0);o.useEffect(()=>{let g=n.current;if(!(!g||e.disabled))return g.addEventListener(Tt,f),()=>g.removeEventListener(Tt,f)},[p,e.onSelect,e.disabled]);function f(){var g,S;(S=(g=i.current).onSelect)==null||S.call(g,l.current)}function b(){u.setState("value",l.current,!0)}if(!p)return null;let{disabled:w,value:j,onSelect:h,...$}=e;return o.createElement("div",{ref:Oe([n,t]),...$,"cmdk-item":"",role:"option","aria-disabled":w||void 0,"aria-selected":d||void 0,"data-selected":d||void 0,onPointerMove:w?void 0:b,onClick:w?void 0:f},e.children)}),Nc=o.forwardRef((e,t)=>{let{heading:r,children:n,...a}=e,s=o.useId(),i=o.useRef(null),l=o.useRef(null),u=o.useId(),d=Re(),p=$e(b=>d.filter()===!1?!0:b.search?b.filtered.groups.has(s):!0);Ce(()=>d.group(s),[]),Ln(s,i,[e.value,e.heading,l]);let f=o.createElement(Fn.Provider,{value:s},n);return o.createElement("div",{ref:Oe([i,t]),...a,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&o.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},f))}),kc=o.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=o.useRef(null),s=$e(i=>!i.search);return!r&&!s?null:o.createElement("div",{ref:Oe([a,t]),...n,"cmdk-separator":"",role:"separator"})}),Pc=o.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=Vt(),i=$e(u=>u.search),l=Re();return o.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),o.createElement("input",{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,id:l.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),Ac=o.forwardRef((e,t)=>{let{children:r,...n}=e,a=o.useRef(null),s=o.useRef(null),i=Re();return o.useEffect(()=>{if(s.current&&a.current){let l=s.current,u=a.current,d,p=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=l.getBoundingClientRect().height;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return p.observe(l),()=>{cancelAnimationFrame(d),p.unobserve(l)}}},[]),o.createElement("div",{ref:Oe([a,t]),...n,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:i.listId,"aria-labelledby":i.inputId},o.createElement("div",{ref:s,"cmdk-list-sizer":""},r))}),_c=o.forwardRef((e,t)=>{let{open:r,onOpenChange:n,container:a,...s}=e;return o.createElement(dc,{open:r,onOpenChange:n},o.createElement(fc,{container:a},o.createElement(pc,{"cmdk-overlay":""}),o.createElement(mc,{"aria-label":e.label,"cmdk-dialog":""},o.createElement(Mn,{ref:t,...s}))))}),Rc=o.forwardRef((e,t)=>{let r=o.useRef(!0),n=$e(a=>a.filtered.count===0);return o.useEffect(()=>{r.current=!1},[]),r.current||!n?null:o.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Oc=o.forwardRef((e,t)=>{let{progress:r,children:n,...a}=e;return o.createElement("div",{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},o.createElement("div",{"aria-hidden":!0},n))}),Y=Object.assign(Mn,{List:Ac,Item:Sc,Input:Pc,Group:Nc,Separator:kc,Dialog:_c,Empty:Rc,Loading:Oc});function Tc(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Fc(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function In(e){let t=o.useRef(e);return Ce(()=>{t.current=e}),t}var Ce=typeof window>"u"?o.useEffect:o.useLayoutEffect;function xe(e){let t=o.useRef();return t.current===void 0&&(t.current=e()),t}function Oe(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function $e(e){let t=Vt(),r=()=>e(t.snapshot());return o.useSyncExternalStore(t.subscribe,r,r)}function Ln(e,t,r){let n=o.useRef(),a=Re();return Ce(()=>{var s;let i=(()=>{var l;for(let u of r){if(typeof u=="string")return u.trim().toLowerCase();if(typeof u=="object"&&"current"in u&&u.current)return(l=u.current.textContent)==null?void 0:l.trim().toLowerCase()}})();a.value(e,i),(s=t.current)==null||s.setAttribute(oe,i),n.current=i}),n}var Mc=()=>{let[e,t]=o.useState(),r=xe(()=>new Map);return Ce(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}},Ic={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const zn=o.forwardRef(({className:e,...t},r)=>c.jsx(Y,{ref:r,className:M("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));zn.displayName=Y.displayName;const Lc=({children:e,...t})=>c.jsx(zt,{...t,children:c.jsx(Wt,{className:"overflow-hidden p-0 shadow-lg",children:c.jsx(zn,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),Wn=o.forwardRef(({className:e,...t},r)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(Bt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(Y.Input,{ref:r,className:M("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Wn.displayName=Y.Input.displayName;const Bn=o.forwardRef(({className:e,...t},r)=>c.jsx(Y.List,{ref:r,className:M("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Bn.displayName=Y.List.displayName;const Un=o.forwardRef((e,t)=>c.jsx(Y.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Un.displayName=Y.Empty.displayName;const Kn=o.forwardRef(({className:e,...t},r)=>c.jsx(Y.Group,{ref:r,className:M("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Kn.displayName=Y.Group.displayName;const zc=o.forwardRef(({className:e,...t},r)=>c.jsx(Y.Separator,{ref:r,className:M("-mx-1 h-px bg-border",e),...t}));zc.displayName=Y.Separator.displayName;const Hn=o.forwardRef(({className:e,...t},r)=>c.jsx(Y.Item,{ref:r,className:M("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));Hn.displayName=Y.Item.displayName;const ei=()=>{const{toggle:e,isOpen:t,onClose:r}=rn(),{documents:n}=Q().props,a=s=>{W.get(route("documents.show",{id:s})),r()};return o.useEffect(()=>{const s=i=>{i.key==="k"&&(i.metaKey||i.ctrlKey)&&(i.preventDefault(),e())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]),c.jsxs(Lc,{open:t,onOpenChange:r,children:[c.jsx(Wn,{placeholder:`Search ${Ye}...`}),c.jsxs(Bn,{children:[c.jsx(Un,{children:"No Documents Found..."}),c.jsx(Kn,{heading:"Documents",children:n.map(({id:s,...i})=>c.jsxs(Hn,{onSelect:()=>a(s),value:`${s.toString()}-${i.title}`,children:[i.icon?c.jsx("p",{className:"mr-2 text-[1.125rem]",children:i.icon}):c.jsx(Mr,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:i.title})]},s))})]})]})};export{Jc as M,Zc as N,A as P,ei as S};
