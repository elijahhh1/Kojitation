import{j as e,q as c,r as i,W as m,A as n,a as u}from"./index-2a4703ec.js";import{B as l}from"./button-77adb7fd.js";import{S as x,N as h,M as p,u as f,V as j}from"./SearchCommand-44d640ef.js";import{j as g}from"./carousel.min-fbdb8141.js";import{A as N,a as b,b as y,c as v,d as w,e as C,f as A}from"./dropdown-menu-c3a46677.js";import{T as D}from"./trash-2-8b19d72b.js";import{f as V}from"./useCoverImageModal-b693cb1b.js";import{L as T}from"./Heading-174d33e6.js";import"./index-b5cb4413.js";import"./input-0b587738.js";import"./index-e7e3790e.js";import"./checkbox-6185c8ae.js";const k=({children:s})=>e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsxs("div",{className:"h-full flex ",children:[e.jsx(h,{}),e.jsx("main",{className:"flex-1 h-full overflow-y-auto",children:s})]}),e.jsx(p,{})]}),M=({video:s})=>{const t=c().props.auth.user,[o,r]=i.useState(!1),a=i.useRef(null);return i.useEffect(()=>{a.current&&(a.current.currentTime=1)},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full relative h-auto flex flex-col group",children:[t.level===1&&e.jsx(l,{onClick:()=>r(!0),className:"opacity-0 group-hover:opacity-100 transition duration-300 absolute top-6 right-6 z-50",size:"icon",variant:"destructive",children:e.jsx(D,{className:"h-5 w-5"})}),e.jsx("video",{ref:a,controls:!0,className:" object-fill ",src:`${s.path}#t=5,5`}),e.jsxs("div",{className:"absolute flex items-center bottom-10 p-4 bg-gray-950/80 w-full opacity-0 group-hover:opacity-100 transition duration-300",children:[e.jsx("p",{className:"text-lg text-white truncate mr-4",children:s.name.split(".")[0]}),e.jsx("p",{className:"text-lg text-white truncate",children:V(new Date(s.created_at),"MMM dd, yyyy")})]})]}),e.jsx(S,{id:s.id,open:o,onClose:()=>r(!1)})]})},S=({open:s,onClose:t,id:o})=>{const{processing:r,post:a}=m({id:o}),d=()=>{a(route("videos.destroy"),{onError:()=>n.error("Something went wrong. Please try again"),onSuccess:()=>n.success("Video Deleted!")})};return e.jsx(N,{open:s,onOpenChange:t,children:e.jsxs(b,{children:[e.jsxs(y,{children:[e.jsx(v,{children:"Are you absolutely sure?"}),e.jsx(w,{children:"This action cannot be undone. This will permanently delete the video."})]}),e.jsxs(C,{children:[e.jsx(A,{disabled:r,children:"Cancel"}),e.jsxs(l,{onClick:d,disabled:r,children:[r&&e.jsx(T,{className:"h-4 w-4 mr-2 animate-spin"}),"Continue"]})]})]})})},E=({videos:s})=>e.jsx("div",{className:"p-6 flex-1 flex items-center justify-center ",children:e.jsx(g.Carousel,{className:"w-4/5",infiniteLoop:!0,emulateTouch:!0,showThumbs:!0,onClickThumb:()=>{},swipeable:!0,children:s.map(t=>e.jsx(M,{video:t},t.id))})}),_=({videos:s})=>{const t=c().props.auth.user,{onOpen:o}=f();return e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Videos"}),e.jsx(k,{children:e.jsxs("div",{className:"h-full flex flex-col relative ",children:[e.jsxs("header",{className:"flex items-center h-14 border-b border-b-muted-foreground relative",children:[e.jsx("h1",{className:"text-center text-2xl font-semibold tracking-tight flex-1 ",children:"Videos"}),t.level===1&&e.jsx("div",{className:"flex space-x-2 items-center justify-center absolute top-2 right-2.5",children:e.jsxs(l,{onClick:o,size:"sm",className:"font-medium text-md flex space-x-2 items-center justify-center ",variant:"outline",children:[e.jsx(j,{className:"h-5 w-5"}),e.jsx("span",{children:"Upload"})]})})]}),s.length>0?e.jsx(E,{videos:s}):e.jsx("p",{className:"pt-20 w-full text-center text-3xl font-semibold tracking-tight",children:"No Videos Uploaded..."})]})})]})};export{_ as default};
